{"version":3,"file":"ng-gallery.umd.min.js","sources":["../../node_modules/tslib/tslib.es6.js","../../node_modules/@angular/packages/cdk/esm5/portal/portal-errors.js","../../node_modules/rxjs/src/util/tryCatch.ts","../../node_modules/rxjs/src/symbol/observable.ts","../../node_modules/rxjs/src/observable/FromEventObservable.ts","../../node_modules/rxjs/src/operator/auditTime.ts","../../node_modules/rxjs/src/symbol/iterator.ts","../../node_modules/rxjs/src/operator/merge.ts","../../packages/platform-browser/src/browser/browser_adapter.ts","../../packages/platform-browser/src/dom/dom_tokens.ts","../../packages/platform-browser/src/dom/util.ts","../../packages/platform-browser/src/dom/debug/ng_probe.ts","../../packages/platform-browser/src/dom/dom_renderer.ts","../../packages/platform-browser/src/security/url_sanitizer.ts","../../packages/platform-browser/src/security/html_sanitizer.ts","../../packages/platform-browser/src/security/style_sanitizer.ts","../../packages/platform-browser/src/security/dom_sanitization_service.ts","../../node_modules/@angular/packages/cdk/esm5/coercion/boolean-property.js","../../node_modules/@angular/packages/cdk/esm5/overlay/overlay-ref.js","../../node_modules/@angular/packages/cdk/esm5/overlay/position/scroll-clip.js","../../node_modules/@angular/packages/cdk/esm5/overlay/scroll/scroll-strategy.js","../../tmp/utils/merge-deep.ts","../../tmp/utils/auto-prefixer.ts","../../tmp/gallery.module.ts","../../node_modules/@angular/packages/cdk/esm5/portal/portal.js","../../node_modules/@angular/packages/cdk/esm5/portal/dom-portal-host.js","../../node_modules/@angular/packages/cdk/esm5/portal/portal-directives.js","../../node_modules/@angular/packages/cdk/esm5/platform/platform.js","../../node_modules/@angular/packages/cdk/esm5/portal/portal-injector.js","../../node_modules/@angular/packages/cdk/esm5/platform/platform-module.js","../../node_modules/rxjs/src/util/isArray.ts","../../node_modules/rxjs/src/util/isObject.ts","../../node_modules/rxjs/src/util/isFunction.ts","../../node_modules/rxjs/src/util/errorObject.ts","../../node_modules/rxjs/src/util/UnsubscriptionError.ts","../../node_modules/rxjs/src/Subscription.ts","../../node_modules/rxjs/src/util/root.ts","../../node_modules/rxjs/src/Observer.ts","../../node_modules/rxjs/src/symbol/rxSubscriber.ts","../../node_modules/rxjs/src/Subscriber.ts","../../node_modules/rxjs/src/util/toSubscriber.ts","../../node_modules/rxjs/src/Observable.ts","../../node_modules/rxjs/src/observable/fromEvent.ts","../../node_modules/rxjs/src/scheduler/Action.ts","../../node_modules/rxjs/src/scheduler/AsyncAction.ts","../../node_modules/rxjs/src/Scheduler.ts","../../node_modules/rxjs/src/scheduler/async.ts","../../node_modules/rxjs/src/scheduler/AsyncScheduler.ts","../../node_modules/rxjs/src/observable/ScalarObservable.ts","../../node_modules/rxjs/src/observable/EmptyObservable.ts","../../node_modules/rxjs/src/util/isScheduler.ts","../../node_modules/rxjs/src/observable/ArrayObservable.ts","../../node_modules/rxjs/src/OuterSubscriber.ts","../../node_modules/rxjs/src/util/isPromise.ts","../../node_modules/rxjs/src/InnerSubscriber.ts","../../node_modules/rxjs/src/util/subscribeToResult.ts","../../node_modules/rxjs/src/operator/mergeAll.ts","../../node_modules/rxjs/src/observable/of.ts","../../node_modules/@angular/packages/cdk/esm5/scrolling/scroll-dispatcher.js","../../node_modules/@angular/packages/cdk/esm5/scrolling/scrollable.js","../../node_modules/@angular/packages/cdk/esm5/scrolling/viewport-ruler.js","../../node_modules/@angular/packages/cdk/esm5/scrolling/scrolling-module.js","../../packages/platform-browser/src/dom/dom_adapter.ts","../../packages/platform-browser/src/browser/generic_browser_adapter.ts","../../packages/platform-browser/src/browser/location/browser_platform_location.ts","../../packages/platform-browser/src/browser/meta.ts","../../packages/platform-browser/src/browser/server-transition.ts","../../packages/platform-browser/src/browser/testability.ts","../../packages/platform-browser/src/browser/title.ts","../../packages/platform-browser/src/dom/events/event_manager.ts","../../packages/platform-browser/src/dom/shared_styles_host.ts","../../packages/platform-browser/src/dom/events/dom_events.ts","../../packages/platform-browser/src/dom/events/hammer_gestures.ts","../../packages/platform-browser/src/dom/events/key_events.ts","../../packages/platform-browser/src/browser.ts","../../packages/platform-browser/src/browser/tools/common_tools.ts","../../node_modules/@angular/packages/cdk/esm5/bidi/directionality.js","../../packages/platform-browser/src/browser/tools/tools.ts","../../node_modules/@angular/packages/cdk/esm5/overlay/scroll/noop-scroll-strategy.js","../../node_modules/@angular/packages/cdk/esm5/bidi/dir.js","../../node_modules/@angular/packages/cdk/esm5/overlay/overlay-config.js","../../node_modules/@angular/packages/cdk/esm5/overlay/position/connected-position.js","../../node_modules/@angular/packages/cdk/esm5/overlay/position/connected-position-strategy.js","../../node_modules/@angular/packages/cdk/esm5/overlay/position/global-position-strategy.js","../../node_modules/@angular/packages/cdk/esm5/overlay/position/overlay-position-builder.js","../../node_modules/@angular/packages/cdk/esm5/overlay/overlay-container.js","../../node_modules/@angular/packages/cdk/esm5/overlay/scroll/close-scroll-strategy.js","../../node_modules/@angular/packages/cdk/esm5/overlay/scroll/block-scroll-strategy.js","../../node_modules/@angular/packages/cdk/esm5/overlay/scroll/reposition-scroll-strategy.js","../../node_modules/@angular/packages/cdk/esm5/overlay/scroll/scroll-strategy-options.js","../../node_modules/@angular/packages/cdk/esm5/overlay/overlay.js","../../node_modules/@angular/packages/cdk/esm5/overlay/overlay-directives.js","../../node_modules/@angular/packages/cdk/esm5/overlay/fullscreen-overlay-container.js","../../node_modules/@angular/packages/cdk/esm5/keycodes/keycodes.js","../../node_modules/@angular/packages/cdk/esm5/overlay/overlay-module.js","../../tmp/services/gallery.token.ts","../../tmp/components/gallery-lightbox/gallery-lightbox.component.ts","../../tmp/services/gallery.default.ts","../../tmp/services/gallery.service.ts","../../tmp/components/gallery/gallery.component.ts","../../tmp/components/gallery-nav/gallery-nav.component.ts","../../tmp/components/gallery-thumb/gallery-thumb.component.ts","../../tmp/components/gallery-text/gallery-text.component.ts","../../tmp/components/gallery-items/gallery-items.component.ts","../../tmp/components/gallery-loader/gallery-loader.component.ts","../../tmp/components/gallery-bullets/gallery-bullets.component.ts","../../node_modules/rxjs/src/operator/distinctUntilChanged.ts","../../node_modules/rxjs/src/add/operator/distinctUntilChanged.ts","../../tmp/components/gallery-player/gallery-player.component.ts","../../tmp/components/gallery-main/gallery-main.component.ts","../../tmp/components/gallery-slider/gallery-slider.component.ts","../../tmp/directives/gallerize.directive.ts","../../tmp/directives/tap.directive.ts","../../tmp/directives/lazy.directive.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n","/**\n * Throws an exception when attempting to attach a null portal to a host.\n * \\@docs-private\n * @return {?}\n */\nexport function throwNullPortalError() {\n    throw Error('Must provide a portal to attach');\n}\n/**\n * Throws an exception when attempting to attach a portal to a host that is already attached.\n * \\@docs-private\n * @return {?}\n */\nexport function throwPortalAlreadyAttachedError() {\n    throw Error('Host already has a portal attached');\n}\n/**\n * Throws an exception when attempting to attach a portal to an already-disposed host.\n * \\@docs-private\n * @return {?}\n */\nexport function throwPortalHostAlreadyDisposedError() {\n    throw Error('This PortalHost has already been disposed');\n}\n/**\n * Throws an exception when attempting to attach an unknown portal type.\n * \\@docs-private\n * @return {?}\n */\nexport function throwUnknownPortalTypeError() {\n    throw Error('Attempting to attach an unknown Portal type. BasePortalHost accepts either ' +\n        'a ComponentPortal or a TemplatePortal.');\n}\n/**\n * Throws an exception when attempting to attach a portal to a null host.\n * \\@docs-private\n * @return {?}\n */\nexport function throwNullPortalHostError() {\n    throw Error('Attempting to attach a portal to a null PortalHost');\n}\n/**\n * Throws an exception when attempting to detach a portal that is not attached.\n * \\@docs-privatew\n * @return {?}\n */\nexport function throwNoPortalAttachedError() {\n    throw Error('Attempting to detach a portal that is not attached to a host');\n}\n//# sourceMappingURL=portal-errors.js.map","import { errorObject } from './errorObject';\n\nlet tryCatchTarget: Function;\n\nfunction tryCatcher(this: any): any {\n  try {\n    return tryCatchTarget.apply(this, arguments);\n  } catch (e) {\n    errorObject.e = e;\n    return errorObject;\n  }\n}\n\nexport function tryCatch<T extends Function>(fn: T): T {\n  tryCatchTarget = fn;\n  return <any>tryCatcher;\n};\n","import { root } from '../util/root';\n\nexport function getSymbolObservable(context: any) {\n  let $$observable: any;\n  let Symbol = context.Symbol;\n\n  if (typeof Symbol === 'function') {\n    if (Symbol.observable) {\n      $$observable = Symbol.observable;\n    } else {\n        $$observable = Symbol('observable');\n        Symbol.observable = $$observable;\n    }\n  } else {\n    $$observable = '@@observable';\n  }\n\n  return $$observable;\n}\n\nexport const $$observable = getSymbolObservable(root);","import { Observable } from '../Observable';\nimport { tryCatch } from '../util/tryCatch';\nimport { isFunction } from '../util/isFunction';\nimport { errorObject } from '../util/errorObject';\nimport { Subscription } from '../Subscription';\nimport { Subscriber } from '../Subscriber';\n\nconst toString: Function = Object.prototype.toString;\n\nexport type NodeStyleEventEmmitter = {\n  addListener: (eventName: string, handler: Function) => void;\n  removeListener: (eventName: string, handler: Function) => void;\n};\nfunction isNodeStyleEventEmmitter(sourceObj: any): sourceObj is NodeStyleEventEmmitter {\n  return !!sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\n\nexport type JQueryStyleEventEmitter = {\n  on: (eventName: string, handler: Function) => void;\n  off: (eventName: string, handler: Function) => void;\n};\nfunction isJQueryStyleEventEmitter(sourceObj: any): sourceObj is JQueryStyleEventEmitter {\n  return !!sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\n\nfunction isNodeList(sourceObj: any): sourceObj is NodeList {\n  return !!sourceObj && toString.call(sourceObj) === '[object NodeList]';\n}\n\nfunction isHTMLCollection(sourceObj: any): sourceObj is HTMLCollection {\n  return !!sourceObj && toString.call(sourceObj) === '[object HTMLCollection]';\n}\n\nfunction isEventTarget(sourceObj: any): sourceObj is EventTarget {\n  return !!sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n\nexport type EventTargetLike = EventTarget | NodeStyleEventEmmitter | JQueryStyleEventEmitter | NodeList | HTMLCollection;\n\nexport type EventListenerOptions = {\n  capture?: boolean;\n  passive?: boolean;\n  once?: boolean;\n} | boolean;\n\nexport type SelectorMethodSignature<T> = (...args: Array<any>) => T;\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class FromEventObservable<T> extends Observable<T> {\n\n  /* tslint:disable:max-line-length */\n  static create<T>(target: EventTargetLike, eventName: string): Observable<T>;\n  static create<T>(target: EventTargetLike, eventName: string, selector: SelectorMethodSignature<T>): Observable<T>;\n  static create<T>(target: EventTargetLike, eventName: string, options: EventListenerOptions): Observable<T>;\n  static create<T>(target: EventTargetLike, eventName: string, options: EventListenerOptions, selector: SelectorMethodSignature<T>): Observable<T>;\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Creates an Observable that emits events of a specific type coming from the\n   * given event target.\n   *\n   * <span class=\"informal\">Creates an Observable from DOM events, or Node\n   * EventEmitter events or others.</span>\n   *\n   * <img src=\"./img/fromEvent.png\" width=\"100%\">\n   *\n   * Creates an Observable by attaching an event listener to an \"event target\",\n   * which may be an object with `addEventListener` and `removeEventListener`,\n   * a Node.js EventEmitter, a jQuery style EventEmitter, a NodeList from the\n   * DOM, or an HTMLCollection from the DOM. The event handler is attached when\n   * the output Observable is subscribed, and removed when the Subscription is\n   * unsubscribed.\n   *\n   * @example <caption>Emits clicks happening on the DOM document</caption>\n   * var clicks = Rx.Observable.fromEvent(document, 'click');\n   * clicks.subscribe(x => console.log(x));\n   *\n   * // Results in:\n   * // MouseEvent object logged to console everytime a click\n   * // occurs on the document.\n   *\n   * @see {@link from}\n   * @see {@link fromEventPattern}\n   *\n   * @param {EventTargetLike} target The DOMElement, event target, Node.js\n   * EventEmitter, NodeList or HTMLCollection to attach the event handler to.\n   * @param {string} eventName The event name of interest, being emitted by the\n   * `target`.\n   * @param {EventListenerOptions} [options] Options to pass through to addEventListener\n   * @param {SelectorMethodSignature<T>} [selector] An optional function to\n   * post-process results. It takes the arguments from the event handler and\n   * should return a single value.\n   * @return {Observable<T>}\n   * @static true\n   * @name fromEvent\n   * @owner Observable\n   */\n  static create<T>(target: EventTargetLike,\n                   eventName: string,\n                   options?: EventListenerOptions,\n                   selector?: SelectorMethodSignature<T>): Observable<T> {\n    if (isFunction(options)) {\n      selector = <any>options;\n      options = undefined;\n    }\n    return new FromEventObservable(target, eventName, selector, options);\n  }\n\n  constructor(private sourceObj: EventTargetLike,\n              private eventName: string,\n              private selector?: SelectorMethodSignature<T>,\n              private options?: EventListenerOptions) {\n    super();\n  }\n\n  private static setupSubscription<T>(sourceObj: EventTargetLike,\n                                      eventName: string,\n                                      handler: Function,\n                                      subscriber: Subscriber<T>,\n                                      options?: EventListenerOptions) {\n    let unsubscribe: () => void;\n    if (isNodeList(sourceObj) || isHTMLCollection(sourceObj)) {\n      for (let i = 0, len = sourceObj.length; i < len; i++) {\n        FromEventObservable.setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n      }\n    } else if (isEventTarget(sourceObj)) {\n      const source = sourceObj;\n      sourceObj.addEventListener(eventName, <EventListener>handler, <boolean>options);\n      unsubscribe = () => source.removeEventListener(eventName, <EventListener>handler);\n    } else if (isJQueryStyleEventEmitter(sourceObj)) {\n      const source = sourceObj;\n      sourceObj.on(eventName, handler);\n      unsubscribe = () => source.off(eventName, handler);\n    } else if (isNodeStyleEventEmmitter(sourceObj)) {\n      const source = sourceObj;\n      sourceObj.addListener(eventName, handler);\n      unsubscribe = () => source.removeListener(eventName, handler);\n    } else {\n      throw new TypeError('Invalid event target');\n    }\n\n    subscriber.add(new Subscription(unsubscribe));\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>) {\n    const sourceObj = this.sourceObj;\n    const eventName = this.eventName;\n    const options = this.options;\n    const selector = this.selector;\n    let handler = selector ? (...args: any[]) => {\n      let result = tryCatch(selector)(...args);\n      if (result === errorObject) {\n        subscriber.error(errorObject.e);\n      } else {\n        subscriber.next(result);\n      }\n    } : (e: any) => subscriber.next(e);\n\n    FromEventObservable.setupSubscription(sourceObj, eventName, handler, subscriber, options);\n  }\n}\n","import { async } from '../scheduler/async';\nimport { Operator } from '../Operator';\nimport { Scheduler } from '../Scheduler';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { Subscription, TeardownLogic } from '../Subscription';\n\n/**\n * Ignores source values for `duration` milliseconds, then emits the most recent\n * value from the source Observable, then repeats this process.\n *\n * <span class=\"informal\">When it sees a source values, it ignores that plus\n * the next ones for `duration` milliseconds, and then it emits the most recent\n * value from the source.</span>\n *\n * <img src=\"./img/auditTime.png\" width=\"100%\">\n *\n * `auditTime` is similar to `throttleTime`, but emits the last value from the\n * silenced time window, instead of the first value. `auditTime` emits the most\n * recent value from the source Observable on the output Observable as soon as\n * its internal timer becomes disabled, and ignores source values while the\n * timer is enabled. Initially, the timer is disabled. As soon as the first\n * source value arrives, the timer is enabled. After `duration` milliseconds (or\n * the time unit determined internally by the optional `scheduler`) has passed,\n * the timer is disabled, then the most recent source value is emitted on the\n * output Observable, and this process repeats for the next source value.\n * Optionally takes a {@link Scheduler} for managing timers.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.auditTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} duration Time to wait before emitting the most recent source\n * value, measured in milliseconds or the time unit determined internally\n * by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link Scheduler} to use for\n * managing the timers that handle the rate-limiting behavior.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method auditTime\n * @owner Observable\n */\nexport function auditTime<T>(this: Observable<T>, duration: number, scheduler: Scheduler = async): Observable<T> {\n  return this.lift(new AuditTimeOperator(duration, scheduler));\n}\n\nclass AuditTimeOperator<T> implements Operator<T, T> {\n  constructor(private duration: number,\n              private scheduler: Scheduler) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new AuditTimeSubscriber(subscriber, this.duration, this.scheduler));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass AuditTimeSubscriber<T> extends Subscriber<T> {\n\n  private value: T;\n  private hasValue: boolean = false;\n  private throttled: Subscription;\n\n  constructor(destination: Subscriber<T>,\n              private duration: number,\n              private scheduler: Scheduler) {\n    super(destination);\n  }\n\n  protected _next(value: T): void {\n    this.value = value;\n    this.hasValue = true;\n    if (!this.throttled) {\n      this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, this));\n    }\n  }\n\n  clearThrottle(): void {\n    const { value, hasValue, throttled } = this;\n    if (throttled) {\n      this.remove(throttled);\n      this.throttled = null;\n      throttled.unsubscribe();\n    }\n    if (hasValue) {\n      this.value = null;\n      this.hasValue = false;\n      this.destination.next(value);\n    }\n  }\n}\n\nfunction dispatchNext<T>(subscriber: AuditTimeSubscriber<T>): void {\n  subscriber.clearThrottle();\n}\n","import { root } from '../util/root';\n\nexport function symbolIteratorPonyfill(root: any) {\n  const Symbol: any = root.Symbol;\n\n  if (typeof Symbol === 'function') {\n    if (!Symbol.iterator) {\n      Symbol.iterator = Symbol('iterator polyfill');\n    }\n    return Symbol.iterator;\n  } else {\n    // [for Mozilla Gecko 27-35:](https://mzl.la/2ewE1zC)\n    const { Set } = root;\n    if (Set && typeof new Set()['@@iterator'] === 'function') {\n      return '@@iterator';\n    }\n    const { Map } = root;\n    // required for compatability with es6-shim\n    if (Map) {\n      let keys = Object.getOwnPropertyNames(Map.prototype);\n      for (let i = 0; i < keys.length; ++i) {\n        let key = keys[i];\n        // according to spec, Map.prototype[@@iterator] and Map.orototype.entries must be equal.\n        if (key !== 'entries' && key !== 'size' && Map.prototype[key] === Map.prototype['entries']) {\n          return key;\n        }\n      }\n    }\n    return '@@iterator';\n  }\n}\n\nexport const $$iterator = symbolIteratorPonyfill(root);","import { Observable, ObservableInput } from '../Observable';\nimport { Scheduler } from '../Scheduler';\nimport { ArrayObservable } from '../observable/ArrayObservable';\nimport { MergeAllOperator } from './mergeAll';\nimport { isScheduler } from '../util/isScheduler';\n\n/* tslint:disable:max-line-length */\nexport function merge<T>(this: Observable<T>, scheduler?: Scheduler): Observable<T>;\nexport function merge<T>(this: Observable<T>, concurrent?: number, scheduler?: Scheduler): Observable<T>;\nexport function merge<T, T2>(this: Observable<T>, v2: ObservableInput<T2>, scheduler?: Scheduler): Observable<T | T2>;\nexport function merge<T, T2>(this: Observable<T>, v2: ObservableInput<T2>, concurrent?: number, scheduler?: Scheduler): Observable<T | T2>;\nexport function merge<T, T2, T3>(this: Observable<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: Scheduler): Observable<T | T2 | T3>;\nexport function merge<T, T2, T3>(this: Observable<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, concurrent?: number, scheduler?: Scheduler): Observable<T | T2 | T3>;\nexport function merge<T, T2, T3, T4>(this: Observable<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: Scheduler): Observable<T | T2 | T3 | T4>;\nexport function merge<T, T2, T3, T4>(this: Observable<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, concurrent?: number, scheduler?: Scheduler): Observable<T | T2 | T3 | T4>;\nexport function merge<T, T2, T3, T4, T5>(this: Observable<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: Scheduler): Observable<T | T2 | T3 | T4 | T5>;\nexport function merge<T, T2, T3, T4, T5>(this: Observable<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, concurrent?: number, scheduler?: Scheduler): Observable<T | T2 | T3 | T4 | T5>;\nexport function merge<T, T2, T3, T4, T5, T6>(this: Observable<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: Scheduler): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function merge<T, T2, T3, T4, T5, T6>(this: Observable<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, concurrent?: number, scheduler?: Scheduler): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function merge<T>(this: Observable<T>, ...observables: Array<ObservableInput<T> | Scheduler | number>): Observable<T>;\nexport function merge<T, R>(this: Observable<T>, ...observables: Array<ObservableInput<any> | Scheduler | number>): Observable<R>;\n/* tslint:disable:max-line-length */\n\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * <img src=\"./img/merge.png\" width=\"100%\">\n *\n * `merge` subscribes to each given input Observable (either the source or an\n * Observable given as argument), and simply forwards (without doing any\n * transformation) all the values from all the input Observables to the output\n * Observable. The output Observable only completes once all input Observables\n * have completed. Any error delivered by an input Observable will be immediately\n * emitted on the output Observable.\n *\n * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var clicksOrTimer = clicks.merge(timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var concurrent = 2; // the argument\n * var merged = timer1.merge(timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {Observable} other An input Observable to merge with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The Scheduler to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n * @method merge\n * @owner Observable\n */\nexport function merge<T, R>(this: Observable<T>, ...observables: Array<ObservableInput<any> | Scheduler | number>): Observable<R> {\n  return this.lift.call(mergeStatic<T, R>(this, ...observables));\n}\n\n/* tslint:disable:max-line-length */\nexport function mergeStatic<T>(v1: ObservableInput<T>, scheduler?: Scheduler): Observable<T>;\nexport function mergeStatic<T>(v1: ObservableInput<T>, concurrent?: number, scheduler?: Scheduler): Observable<T>;\nexport function mergeStatic<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, scheduler?: Scheduler): Observable<T | T2>;\nexport function mergeStatic<T, T2>(v1: ObservableInput<T>, v2: ObservableInput<T2>, concurrent?: number, scheduler?: Scheduler): Observable<T | T2>;\nexport function mergeStatic<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, scheduler?: Scheduler): Observable<T | T2 | T3>;\nexport function mergeStatic<T, T2, T3>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, concurrent?: number, scheduler?: Scheduler): Observable<T | T2 | T3>;\nexport function mergeStatic<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, scheduler?: Scheduler): Observable<T | T2 | T3 | T4>;\nexport function mergeStatic<T, T2, T3, T4>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, concurrent?: number, scheduler?: Scheduler): Observable<T | T2 | T3 | T4>;\nexport function mergeStatic<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, scheduler?: Scheduler): Observable<T | T2 | T3 | T4 | T5>;\nexport function mergeStatic<T, T2, T3, T4, T5>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, concurrent?: number, scheduler?: Scheduler): Observable<T | T2 | T3 | T4 | T5>;\nexport function mergeStatic<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, scheduler?: Scheduler): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function mergeStatic<T, T2, T3, T4, T5, T6>(v1: ObservableInput<T>, v2: ObservableInput<T2>, v3: ObservableInput<T3>, v4: ObservableInput<T4>, v5: ObservableInput<T5>, v6: ObservableInput<T6>, concurrent?: number, scheduler?: Scheduler): Observable<T | T2 | T3 | T4 | T5 | T6>;\nexport function mergeStatic<T>(...observables: (ObservableInput<T> | Scheduler | number)[]): Observable<T>;\nexport function mergeStatic<T, R>(...observables: (ObservableInput<any> | Scheduler | number)[]): Observable<R>;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * <img src=\"./img/merge.png\" width=\"100%\">\n *\n * `merge` subscribes to each given input Observable (as arguments), and simply\n * forwards (without doing any transformation) all the values from all the input\n * Observables to the output Observable. The output Observable only completes\n * once all input Observables have completed. Any error delivered by an input\n * Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var clicksOrTimer = Rx.Observable.merge(clicks, timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // timer will emit ascending values, one every second(1000ms) to console\n * // clicks logs MouseEvents to console everytime the \"document\" is clicked\n * // Since the two streams are merged you see these happening\n * // as they occur.\n *\n * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var concurrent = 2; // the argument\n * var merged = Rx.Observable.merge(timer1, timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - First timer1 and timer2 will run concurrently\n * // - timer1 will emit a value every 1000ms for 10 iterations\n * // - timer2 will emit a value every 2000ms for 6 iterations\n * // - after timer1 hits it's max iteration, timer2 will \n * //   continue, and timer3 will start to run concurrently with timer2\n * // - when timer2 hits it's max iteration it terminates, and \n * //   timer3 will continue to emit a value every 500ms until it is complete\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {...Observable} observables Input Observables to merge together.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The Scheduler to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n * @static true\n * @name merge\n * @owner Observable\n */\nexport function mergeStatic<T, R>(...observables: Array<ObservableInput<any> | Scheduler | number>): Observable<R> {\n let concurrent = Number.POSITIVE_INFINITY;\n let scheduler: Scheduler = null;\n  let last: any = observables[observables.length - 1];\n  if (isScheduler(last)) {\n    scheduler = <Scheduler>observables.pop();\n    if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n      concurrent = <number>observables.pop();\n    }\n  } else if (typeof last === 'number') {\n    concurrent = <number>observables.pop();\n  }\n\n  if (scheduler === null && observables.length === 1) {\n    return <Observable<R>>observables[0];\n  }\n\n  return new ArrayObservable(<any>observables, scheduler).lift(new MergeAllOperator<R>(concurrent));\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {ɵparseCookieValue as parseCookieValue} from '@angular/common';\nimport {ɵglobal as global} from '@angular/core';\n\nimport {setRootDomAdapter} from '../dom/dom_adapter';\n\nimport {GenericBrowserDomAdapter} from './generic_browser_adapter';\n\nconst /** @type {?} */ _attrToPropMap = {\n  'class': 'className',\n  'innerHtml': 'innerHTML',\n  'readonly': 'readOnly',\n  'tabindex': 'tabIndex',\n};\n\nconst /** @type {?} */ DOM_KEY_LOCATION_NUMPAD = 3;\n\n// Map to convert some key or keyIdentifier values to what will be returned by getEventKey\nconst /** @type {?} */ _keyMap: {[k: string]: string} = {\n  // The following values are here for cross-browser compatibility and to match the W3C standard\n  // cf http://www.w3.org/TR/DOM-Level-3-Events-key/\n  '\\b': 'Backspace',\n  '\\t': 'Tab',\n  '\\x7F': 'Delete',\n  '\\x1B': 'Escape',\n  'Del': 'Delete',\n  'Esc': 'Escape',\n  'Left': 'ArrowLeft',\n  'Right': 'ArrowRight',\n  'Up': 'ArrowUp',\n  'Down': 'ArrowDown',\n  'Menu': 'ContextMenu',\n  'Scroll': 'ScrollLock',\n  'Win': 'OS'\n};\n\n// There is a bug in Chrome for numeric keypad keys:\n// https://code.google.com/p/chromium/issues/detail?id=155654\n// 1, 2, 3 ... are reported as A, B, C ...\nconst /** @type {?} */ _chromeNumKeyPadMap = {\n  'A': '1',\n  'B': '2',\n  'C': '3',\n  'D': '4',\n  'E': '5',\n  'F': '6',\n  'G': '7',\n  'H': '8',\n  'I': '9',\n  'J': '*',\n  'K': '+',\n  'M': '-',\n  'N': '.',\n  'O': '/',\n  '\\x60': '0',\n  '\\x90': 'NumLock'\n};\n\nlet /** @type {?} */ nodeContains: (a: any, b: any) => boolean;\n\nif (global['Node']) {\n  nodeContains = global['Node'].prototype.contains || function(node) {\n    return !!(this.compareDocumentPosition(node) & 16);\n  };\n}\nexport class BrowserDomAdapter extends GenericBrowserDomAdapter {\n/**\n * @param {?} templateHtml\n * @return {?}\n */\nparse(templateHtml: string) { throw new Error('parse not implemented'); }\n/**\n * @return {?}\n */\nstatic makeCurrent() { setRootDomAdapter(new BrowserDomAdapter()); }\n/**\n * @param {?} element\n * @param {?} name\n * @return {?}\n */\nhasProperty(element: Node, name: string): boolean { return name in element; }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetProperty(el: Node, name: string, value: any) { ( /** @type {?} */((<any>el)))[name] = value; }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\ngetProperty(el: Node, name: string): any { return ( /** @type {?} */((<any>el)))[name]; }\n/**\n * @param {?} el\n * @param {?} methodName\n * @param {?} args\n * @return {?}\n */\ninvoke(el: Node, methodName: string, args: any[]): any { ( /** @type {?} */((<any>el)))[methodName](...args); }\n/**\n * @param {?} error\n * @return {?}\n */\nlogError(error: string): void {\n    if (window.console) {\n      if (console.error) {\n        console.error(error);\n      } else {\n        console.log(error);\n      }\n    }\n  }\n/**\n * @param {?} error\n * @return {?}\n */\nlog(error: string): void {\n    if (window.console) {\n      window.console.log && window.console.log(error);\n    }\n  }\n/**\n * @param {?} error\n * @return {?}\n */\nlogGroup(error: string): void {\n    if (window.console) {\n      window.console.group && window.console.group(error);\n    }\n  }\n/**\n * @return {?}\n */\nlogGroupEnd(): void {\n    if (window.console) {\n      window.console.groupEnd && window.console.groupEnd();\n    }\n  }\n/**\n * @return {?}\n */\nget attrToPropMap(): any { return _attrToPropMap; }\n/**\n * @param {?} nodeA\n * @param {?} nodeB\n * @return {?}\n */\ncontains(nodeA: any, nodeB: any): boolean { return nodeContains.call(nodeA, nodeB); }\n/**\n * @param {?} el\n * @param {?} selector\n * @return {?}\n */\nquerySelector(el: Element, selector: string): any { return el.querySelector(selector); }\n/**\n * @param {?} el\n * @param {?} selector\n * @return {?}\n */\nquerySelectorAll(el: any, selector: string): any[] { return el.querySelectorAll(selector); }\n/**\n * @param {?} el\n * @param {?} evt\n * @param {?} listener\n * @return {?}\n */\non(el: Node, evt: any, listener: any) { el.addEventListener(evt, listener, false); }\n/**\n * @param {?} el\n * @param {?} evt\n * @param {?} listener\n * @return {?}\n */\nonAndCancel(el: Node, evt: any, listener: any): Function {\n    el.addEventListener(evt, listener, false);\n    // Needed to follow Dart's subscription semantic, until fix of\n    // https://code.google.com/p/dart/issues/detail?id=17406\n    return () => { el.removeEventListener(evt, listener, false); };\n  }\n/**\n * @param {?} el\n * @param {?} evt\n * @return {?}\n */\ndispatchEvent(el: Node, evt: any) { el.dispatchEvent(evt); }\n/**\n * @param {?} eventType\n * @return {?}\n */\ncreateMouseEvent(eventType: string): MouseEvent {\n    const /** @type {?} */ evt: MouseEvent = document.createEvent('MouseEvent');\n    evt.initEvent(eventType, true, true);\n    return evt;\n  }\n/**\n * @param {?} eventType\n * @return {?}\n */\ncreateEvent(eventType: any): Event {\n    const /** @type {?} */ evt: Event = document.createEvent('Event');\n    evt.initEvent(eventType, true, true);\n    return evt;\n  }\n/**\n * @param {?} evt\n * @return {?}\n */\npreventDefault(evt: Event) {\n    evt.preventDefault();\n    evt.returnValue = false;\n  }\n/**\n * @param {?} evt\n * @return {?}\n */\nisPrevented(evt: Event): boolean {\n    return evt.defaultPrevented || evt.returnValue != null && !evt.returnValue;\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ngetInnerHTML(el: HTMLElement): string { return el.innerHTML; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetTemplateContent(el: Node): Node|null {\n    return 'content' in el && el instanceof HTMLTemplateElement ? el.content : null;\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ngetOuterHTML(el: HTMLElement): string { return el.outerHTML; }\n/**\n * @param {?} node\n * @return {?}\n */\nnodeName(node: Node): string { return node.nodeName; }\n/**\n * @param {?} node\n * @return {?}\n */\nnodeValue(node: Node): string|null { return node.nodeValue; }\n/**\n * @param {?} node\n * @return {?}\n */\ntype(node: HTMLInputElement): string { return node.type; }\n/**\n * @param {?} node\n * @return {?}\n */\ncontent(node: Node): Node {\n    if (this.hasProperty(node, 'content')) {\n      return ( /** @type {?} */((<any>node))).content;\n    } else {\n      return node;\n    }\n  }\n/**\n * @param {?} el\n * @return {?}\n */\nfirstChild(el: Node): Node|null { return el.firstChild; }\n/**\n * @param {?} el\n * @return {?}\n */\nnextSibling(el: Node): Node|null { return el.nextSibling; }\n/**\n * @param {?} el\n * @return {?}\n */\nparentElement(el: Node): Node|null { return el.parentNode; }\n/**\n * @param {?} el\n * @return {?}\n */\nchildNodes(el: any): Node[] { return el.childNodes; }\n/**\n * @param {?} el\n * @return {?}\n */\nchildNodesAsList(el: Node): any[] {\n    const /** @type {?} */ childNodes = el.childNodes;\n    const /** @type {?} */ res = new Array(childNodes.length);\n    for (let /** @type {?} */ i = 0; i < childNodes.length; i++) {\n      res[i] = childNodes[i];\n    }\n    return res;\n  }\n/**\n * @param {?} el\n * @return {?}\n */\nclearNodes(el: Node) {\n    while (el.firstChild) {\n      el.removeChild(el.firstChild);\n    }\n  }\n/**\n * @param {?} el\n * @param {?} node\n * @return {?}\n */\nappendChild(el: Node, node: Node) { el.appendChild(node); }\n/**\n * @param {?} el\n * @param {?} node\n * @return {?}\n */\nremoveChild(el: Node, node: Node) { el.removeChild(node); }\n/**\n * @param {?} el\n * @param {?} newChild\n * @param {?} oldChild\n * @return {?}\n */\nreplaceChild(el: Node, newChild: Node, oldChild: Node) { el.replaceChild(newChild, oldChild); }\n/**\n * @param {?} node\n * @return {?}\n */\nremove(node: Node): Node {\n    if (node.parentNode) {\n      node.parentNode.removeChild(node);\n    }\n    return node;\n  }\n/**\n * @param {?} parent\n * @param {?} ref\n * @param {?} node\n * @return {?}\n */\ninsertBefore(parent: Node, ref: Node, node: Node) { parent.insertBefore(node, ref); }\n/**\n * @param {?} parent\n * @param {?} ref\n * @param {?} nodes\n * @return {?}\n */\ninsertAllBefore(parent: Node, ref: Node, nodes: Node[]) {\n    nodes.forEach((n: any) => parent.insertBefore(n, ref));\n  }\n/**\n * @param {?} parent\n * @param {?} ref\n * @param {?} node\n * @return {?}\n */\ninsertAfter(parent: Node, ref: Node, node: any) { parent.insertBefore(node, ref.nextSibling); }\n/**\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetInnerHTML(el: Element, value: string) { el.innerHTML = value; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetText(el: Node): string|null { return el.textContent; }\n/**\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetText(el: Node, value: string) { el.textContent = value; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetValue(el: any): string { return el.value; }\n/**\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetValue(el: any, value: string) { el.value = value; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetChecked(el: any): boolean { return el.checked; }\n/**\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetChecked(el: any, value: boolean) { el.checked = value; }\n/**\n * @param {?} text\n * @return {?}\n */\ncreateComment(text: string): Comment { return document.createComment(text); }\n/**\n * @param {?} html\n * @return {?}\n */\ncreateTemplate(html: any): HTMLElement {\n    const /** @type {?} */ t = document.createElement('template');\n    t.innerHTML = html;\n    return t;\n  }\n/**\n * @param {?} tagName\n * @param {?=} doc\n * @return {?}\n */\ncreateElement(tagName: string, doc = document): HTMLElement { return doc.createElement(tagName); }\n/**\n * @param {?} ns\n * @param {?} tagName\n * @param {?=} doc\n * @return {?}\n */\ncreateElementNS(ns: string, tagName: string, doc = document): Element {\n    return doc.createElementNS(ns, tagName);\n  }\n/**\n * @param {?} text\n * @param {?=} doc\n * @return {?}\n */\ncreateTextNode(text: string, doc = document): Text { return doc.createTextNode(text); }\n/**\n * @param {?} attrName\n * @param {?} attrValue\n * @param {?=} doc\n * @return {?}\n */\ncreateScriptTag(attrName: string, attrValue: string, doc = document): HTMLScriptElement {\n    const /** @type {?} */ el = /** @type {?} */(( <HTMLScriptElement>doc.createElement('SCRIPT')));\n    el.setAttribute(attrName, attrValue);\n    return el;\n  }\n/**\n * @param {?} css\n * @param {?=} doc\n * @return {?}\n */\ncreateStyleElement(css: string, doc = document): HTMLStyleElement {\n    const /** @type {?} */ style = /** @type {?} */(( <HTMLStyleElement>doc.createElement('style')));\n    this.appendChild(style, this.createTextNode(css));\n    return style;\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ncreateShadowRoot(el: HTMLElement): DocumentFragment { return ( /** @type {?} */((<any>el))).createShadowRoot(); }\n/**\n * @param {?} el\n * @return {?}\n */\ngetShadowRoot(el: HTMLElement): DocumentFragment { return ( /** @type {?} */((<any>el))).shadowRoot; }\n/**\n * @param {?} el\n * @return {?}\n */\ngetHost(el: HTMLElement): HTMLElement { return ( /** @type {?} */((<any>el))).host; }\n/**\n * @param {?} node\n * @return {?}\n */\nclone(node: Node): Node { return node.cloneNode(true); }\n/**\n * @param {?} element\n * @param {?} name\n * @return {?}\n */\ngetElementsByClassName(element: any, name: string): HTMLElement[] {\n    return element.getElementsByClassName(name);\n  }\n/**\n * @param {?} element\n * @param {?} name\n * @return {?}\n */\ngetElementsByTagName(element: any, name: string): HTMLElement[] {\n    return element.getElementsByTagName(name);\n  }\n/**\n * @param {?} element\n * @return {?}\n */\nclassList(element: any): any[] { return Array.prototype.slice.call(element.classList, 0); }\n/**\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\naddClass(element: any, className: string) { element.classList.add(className); }\n/**\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\nremoveClass(element: any, className: string) { element.classList.remove(className); }\n/**\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\nhasClass(element: any, className: string): boolean {\n    return element.classList.contains(className);\n  }\n/**\n * @param {?} element\n * @param {?} styleName\n * @param {?} styleValue\n * @return {?}\n */\nsetStyle(element: any, styleName: string, styleValue: string) {\n    element.style[styleName] = styleValue;\n  }\n/**\n * @param {?} element\n * @param {?} stylename\n * @return {?}\n */\nremoveStyle(element: any, stylename: string) {\n    // IE requires '' instead of null\n    // see https://github.com/angular/angular/issues/7916\n    element.style[stylename] = '';\n  }\n/**\n * @param {?} element\n * @param {?} stylename\n * @return {?}\n */\ngetStyle(element: any, stylename: string): string { return element.style[stylename]; }\n/**\n * @param {?} element\n * @param {?} styleName\n * @param {?=} styleValue\n * @return {?}\n */\nhasStyle(element: any, styleName: string, styleValue?: string|null): boolean {\n    const /** @type {?} */ value = this.getStyle(element, styleName) || '';\n    return styleValue ? value == styleValue : value.length > 0;\n  }\n/**\n * @param {?} element\n * @return {?}\n */\ntagName(element: any): string { return element.tagName; }\n/**\n * @param {?} element\n * @return {?}\n */\nattributeMap(element: any): Map<string, string> {\n    const /** @type {?} */ res = new Map<string, string>();\n    const /** @type {?} */ elAttrs = element.attributes;\n    for (let /** @type {?} */ i = 0; i < elAttrs.length; i++) {\n      const /** @type {?} */ attrib = elAttrs[i];\n      res.set(attrib.name, attrib.value);\n    }\n    return res;\n  }\n/**\n * @param {?} element\n * @param {?} attribute\n * @return {?}\n */\nhasAttribute(element: Element, attribute: string): boolean {\n    return element.hasAttribute(attribute);\n  }\n/**\n * @param {?} element\n * @param {?} ns\n * @param {?} attribute\n * @return {?}\n */\nhasAttributeNS(element: Element, ns: string, attribute: string): boolean {\n    return element.hasAttributeNS(ns, attribute);\n  }\n/**\n * @param {?} element\n * @param {?} attribute\n * @return {?}\n */\ngetAttribute(element: Element, attribute: string): string|null {\n    return element.getAttribute(attribute);\n  }\n/**\n * @param {?} element\n * @param {?} ns\n * @param {?} name\n * @return {?}\n */\ngetAttributeNS(element: Element, ns: string, name: string): string {\n    return element.getAttributeNS(ns, name);\n  }\n/**\n * @param {?} element\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetAttribute(element: Element, name: string, value: string) { element.setAttribute(name, value); }\n/**\n * @param {?} element\n * @param {?} ns\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetAttributeNS(element: Element, ns: string, name: string, value: string) {\n    element.setAttributeNS(ns, name, value);\n  }\n/**\n * @param {?} element\n * @param {?} attribute\n * @return {?}\n */\nremoveAttribute(element: Element, attribute: string) { element.removeAttribute(attribute); }\n/**\n * @param {?} element\n * @param {?} ns\n * @param {?} name\n * @return {?}\n */\nremoveAttributeNS(element: Element, ns: string, name: string) {\n    element.removeAttributeNS(ns, name);\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ntemplateAwareRoot(el: Node): any { return this.isTemplateElement(el) ? this.content(el) : el; }\n/**\n * @return {?}\n */\ncreateHtmlDocument(): HTMLDocument {\n    return document.implementation.createHTMLDocument('fakeTitle');\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ngetBoundingClientRect(el: Element): any {\n    try {\n      return el.getBoundingClientRect();\n    } catch ( /** @type {?} */e) {\n      return {top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0};\n    }\n  }\n/**\n * @param {?} doc\n * @return {?}\n */\ngetTitle(doc: Document): string { return document.title; }\n/**\n * @param {?} doc\n * @param {?} newTitle\n * @return {?}\n */\nsetTitle(doc: Document, newTitle: string) { document.title = newTitle || ''; }\n/**\n * @param {?} n\n * @param {?} selector\n * @return {?}\n */\nelementMatches(n: any, selector: string): boolean {\n    if (n instanceof HTMLElement) {\n      return n.matches && n.matches(selector) ||\n          n.msMatchesSelector && n.msMatchesSelector(selector) ||\n          n.webkitMatchesSelector && n.webkitMatchesSelector(selector);\n    }\n\n    return false;\n  }\n/**\n * @param {?} el\n * @return {?}\n */\nisTemplateElement(el: Node): boolean {\n    return el instanceof HTMLElement && el.nodeName == 'TEMPLATE';\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nisTextNode(node: Node): boolean { return node.nodeType === Node.TEXT_NODE; }\n/**\n * @param {?} node\n * @return {?}\n */\nisCommentNode(node: Node): boolean { return node.nodeType === Node.COMMENT_NODE; }\n/**\n * @param {?} node\n * @return {?}\n */\nisElementNode(node: Node): boolean { return node.nodeType === Node.ELEMENT_NODE; }\n/**\n * @param {?} node\n * @return {?}\n */\nhasShadowRoot(node: any): boolean {\n    return node.shadowRoot != null && node instanceof HTMLElement;\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nisShadowRoot(node: any): boolean { return node instanceof DocumentFragment; }\n/**\n * @param {?} node\n * @return {?}\n */\nimportIntoDoc(node: Node): any { return document.importNode(this.templateAwareRoot(node), true); }\n/**\n * @param {?} node\n * @return {?}\n */\nadoptNode(node: Node): any { return document.adoptNode(node); }\n/**\n * @param {?} el\n * @return {?}\n */\ngetHref(el: Element): string { return ( /** @type {?} */((<any>el))).href; }\n/**\n * @param {?} event\n * @return {?}\n */\ngetEventKey(event: any): string {\n    let /** @type {?} */ key = event.key;\n    if (key == null) {\n      key = event.keyIdentifier;\n      // keyIdentifier is defined in the old draft of DOM Level 3 Events implemented by Chrome and\n      // Safari cf\n      // http://www.w3.org/TR/2007/WD-DOM-Level-3-Events-20071221/events.html#Events-KeyboardEvents-Interfaces\n      if (key == null) {\n        return 'Unidentified';\n      }\n      if (key.startsWith('U+')) {\n        key = String.fromCharCode(parseInt(key.substring(2), 16));\n        if (event.location === DOM_KEY_LOCATION_NUMPAD && _chromeNumKeyPadMap.hasOwnProperty(key)) {\n          // There is a bug in Chrome for numeric keypad keys:\n          // https://code.google.com/p/chromium/issues/detail?id=155654\n          // 1, 2, 3 ... are reported as A, B, C ...\n          key = ( /** @type {?} */((_chromeNumKeyPadMap as any)))[key];\n        }\n      }\n    }\n\n    return _keyMap[key] || key;\n  }\n/**\n * @param {?} doc\n * @param {?} target\n * @return {?}\n */\ngetGlobalEventTarget(doc: Document, target: string): EventTarget|null {\n    if (target === 'window') {\n      return window;\n    }\n    if (target === 'document') {\n      return document;\n    }\n    if (target === 'body') {\n      return document.body;\n    }\n    return null;\n  }\n/**\n * @return {?}\n */\ngetHistory(): History { return window.history; }\n/**\n * @return {?}\n */\ngetLocation(): Location { return window.location; }\n/**\n * @param {?} doc\n * @return {?}\n */\ngetBaseHref(doc: Document): string|null {\n    const /** @type {?} */ href = getBaseElementHref();\n    return href == null ? null : relativePath(href);\n  }\n/**\n * @return {?}\n */\nresetBaseElement(): void { baseElement = null; }\n/**\n * @return {?}\n */\ngetUserAgent(): string { return window.navigator.userAgent; }\n/**\n * @param {?} element\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetData(element: Element, name: string, value: string) {\n    this.setAttribute(element, 'data-' + name, value);\n  }\n/**\n * @param {?} element\n * @param {?} name\n * @return {?}\n */\ngetData(element: Element, name: string): string|null {\n    return this.getAttribute(element, 'data-' + name);\n  }\n/**\n * @param {?} element\n * @return {?}\n */\ngetComputedStyle(element: any): any { return getComputedStyle(element); }\n/**\n * @return {?}\n */\nsupportsWebAnimation(): boolean {\n    return typeof( /** @type {?} */((<any>Element))).prototype['animate'] === 'function';\n  }\n/**\n * @return {?}\n */\nperformanceNow(): number {\n    // performance.now() is not available in all browsers, see\n    // http://caniuse.com/#search=performance.now\n    return window.performance && window.performance.now ? window.performance.now() :\n                                                          new Date().getTime();\n  }\n/**\n * @return {?}\n */\nsupportsCookies(): boolean { return true; }\n/**\n * @param {?} name\n * @return {?}\n */\ngetCookie(name: string): string|null { return parseCookieValue(document.cookie, name); }\n/**\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetCookie(name: string, value: string) {\n    // document.cookie is magical, assigning into it assigns/overrides one cookie value, but does\n    // not clear other cookies.\n    document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);\n  }\n}\n\nlet /** @type {?} */ baseElement: HTMLElement|null = null;\n/**\n * @return {?}\n */\nfunction getBaseElementHref(): string|null {\n  if (!baseElement) {\n    baseElement = /** @type {?} */(( document.querySelector('base')));\n    if (!baseElement) {\n      return null;\n    }\n  }\n  return baseElement.getAttribute('href');\n}\n\n// based on urlUtils.js in AngularJS 1\nlet /** @type {?} */ urlParsingNode: any;\n/**\n * @param {?} url\n * @return {?}\n */\nfunction relativePath(url: any): string {\n  if (!urlParsingNode) {\n    urlParsingNode = document.createElement('a');\n  }\n  urlParsingNode.setAttribute('href', url);\n  return (urlParsingNode.pathname.charAt(0) === '/') ? urlParsingNode.pathname :\n                                                       '/' + urlParsingNode.pathname;\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {DOCUMENT as commonDOCUMENT} from '@angular/common';\nimport {InjectionToken} from '@angular/core';\n/**\n * A DI Token representing the main rendering context. In a browser this is the DOM Document.\n * \n * Note: Document might not be available in the Application Context when Application and Rendering\n * Contexts are not the same (e.g. when running the application into a Web Worker).\n * \n * @deprecated import from `\\@angular/common` instead.\n */\nexport const DOCUMENT = commonDOCUMENT;\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {ɵglobal as global} from '@angular/core';\n\nconst /** @type {?} */ CAMEL_CASE_REGEXP = /([A-Z])/g;\nconst /** @type {?} */ DASH_CASE_REGEXP = /-([a-z])/g;\n/**\n * @param {?} input\n * @return {?}\n */\nexport function camelCaseToDashCase(input: string): string {\n  return input.replace(CAMEL_CASE_REGEXP, (...m: string[]) => '-' + m[1].toLowerCase());\n}\n/**\n * @param {?} input\n * @return {?}\n */\nexport function dashCaseToCamelCase(input: string): string {\n  return input.replace(DASH_CASE_REGEXP, (...m: string[]) => m[1].toUpperCase());\n}\n/**\n * Exports the value under a given `name` in the global property `ng`. For example `ng.probe` if\n * `name` is `'probe'`.\n * @param {?} name Name under which it will be exported. Keep in mind this will be a property of the\n * global `ng` object.\n * @param {?} value The value to export.\n * @return {?}\n */\nexport function exportNgVar(name: string, value: any): void {\n  if (!ng) {\n    global['ng'] = ng = ( /** @type {?} */((global['ng'] as{[key: string]: any} | undefined))) || {};\n  }\n  ng[name] = value;\n}\n\nlet /** @type {?} */ ng: {[key: string]: any}|undefined;\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport * as core from '@angular/core';\nimport {exportNgVar} from '../util';\n\nconst /** @type {?} */ CORE_TOKENS = {\n  'ApplicationRef': core.ApplicationRef,\n  'NgZone': core.NgZone,\n};\n\nconst /** @type {?} */ INSPECT_GLOBAL_NAME = 'probe';\nconst /** @type {?} */ CORE_TOKENS_GLOBAL_NAME = 'coreTokens';\n/**\n * Returns a {\\@link DebugElement} for the given native DOM element, or\n * null if the given native element does not have an Angular view associated\n * with it.\n * @param {?} element\n * @return {?}\n */\nexport function inspectNativeElement(element: any): core.DebugNode|null {\n  return core.getDebugNode(element);\n}\n/**\n * Deprecated. Use the one from '\\@angular/core'.\n * @deprecated\n */\nexport class NgProbeToken {\n/**\n * @param {?} name\n * @param {?} token\n */\nconstructor(public name: string,\npublic token: any) {}\n}\n\nfunction NgProbeToken_tsickle_Closure_declarations() {\n/** @type {?} */\nNgProbeToken.prototype.name;\n/** @type {?} */\nNgProbeToken.prototype.token;\n}\n\n/**\n * @param {?} extraTokens\n * @param {?} coreTokens\n * @return {?}\n */\nexport function _createNgProbe(extraTokens: NgProbeToken[], coreTokens: core.NgProbeToken[]): any {\n  const /** @type {?} */ tokens = (extraTokens || []).concat(coreTokens || []);\n  exportNgVar(INSPECT_GLOBAL_NAME, inspectNativeElement);\n  exportNgVar(CORE_TOKENS_GLOBAL_NAME, {...CORE_TOKENS, ..._ngProbeTokensToMap(tokens || [])});\n  return () => inspectNativeElement;\n}\n/**\n * @param {?} tokens\n * @return {?}\n */\nfunction _ngProbeTokensToMap(tokens: NgProbeToken[]): {[name: string]: any} {\n  return tokens.reduce((prev: any, t: any) => (prev[t.name] = t.token, prev), {});\n}\n/**\n * Providers which support debugging Angular applications (e.g. via `ng.probe`).\n */\nexport const ELEMENT_PROBE_PROVIDERS: core.Provider[] = [\n  {\n    provide: core.APP_INITIALIZER,\n    useFactory: _createNgProbe,\n    deps: [\n      [NgProbeToken, new core.Optional()],\n      [core.NgProbeToken, new core.Optional()],\n    ],\n    multi: true,\n  },\n];\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {Injectable, Renderer2, RendererFactory2, RendererStyleFlags2, RendererType2, ViewEncapsulation} from '@angular/core';\n\nimport {EventManager} from './events/event_manager';\nimport {DomSharedStylesHost} from './shared_styles_host';\n\nexport const /** @type {?} */ NAMESPACE_URIS: {[ns: string]: string} = {\n  'svg': 'http://www.w3.org/2000/svg',\n  'xhtml': 'http://www.w3.org/1999/xhtml',\n  'xlink': 'http://www.w3.org/1999/xlink',\n  'xml': 'http://www.w3.org/XML/1998/namespace',\n  'xmlns': 'http://www.w3.org/2000/xmlns/',\n};\n\nconst /** @type {?} */ COMPONENT_REGEX = /%COMP%/g;\nexport const /** @type {?} */ COMPONENT_VARIABLE = '%COMP%';\nexport const /** @type {?} */ HOST_ATTR = `_nghost-${COMPONENT_VARIABLE}`;\nexport const /** @type {?} */ CONTENT_ATTR = `_ngcontent-${COMPONENT_VARIABLE}`;\n/**\n * @param {?} componentShortId\n * @return {?}\n */\nexport function shimContentAttribute(componentShortId: string): string {\n  return CONTENT_ATTR.replace(COMPONENT_REGEX, componentShortId);\n}\n/**\n * @param {?} componentShortId\n * @return {?}\n */\nexport function shimHostAttribute(componentShortId: string): string {\n  return HOST_ATTR.replace(COMPONENT_REGEX, componentShortId);\n}\n/**\n * @param {?} compId\n * @param {?} styles\n * @param {?} target\n * @return {?}\n */\nexport function flattenStyles(\n    compId: string, styles: Array<any|any[]>, target: string[]): string[] {\n  for (let /** @type {?} */ i = 0; i < styles.length; i++) {\n    let /** @type {?} */ style = styles[i];\n\n    if (Array.isArray(style)) {\n      flattenStyles(compId, style, target);\n    } else {\n      style = style.replace(COMPONENT_REGEX, compId);\n      target.push(style);\n    }\n  }\n  return target;\n}\n/**\n * @param {?} eventHandler\n * @return {?}\n */\nfunction decoratePreventDefault(eventHandler: Function): Function {\n  return (event: any) => {\n    const /** @type {?} */ allowDefaultBehavior = eventHandler(event);\n    if (allowDefaultBehavior === false) {\n      // TODO(tbosch): move preventDefault into event plugins...\n      event.preventDefault();\n      event.returnValue = false;\n    }\n  };\n}\nexport class DomRendererFactory2 implements RendererFactory2 {\nprivate rendererByCompId = new Map<string, Renderer2>();\nprivate defaultRenderer: Renderer2;\n/**\n * @param {?} eventManager\n * @param {?} sharedStylesHost\n */\nconstructor(private eventManager: EventManager,\nprivate sharedStylesHost: DomSharedStylesHost) {\n    this.defaultRenderer = new DefaultDomRenderer2(eventManager);\n  };\n/**\n * @param {?} element\n * @param {?} type\n * @return {?}\n */\ncreateRenderer(element: any, type: RendererType2|null): Renderer2 {\n    if (!element || !type) {\n      return this.defaultRenderer;\n    }\n    switch (type.encapsulation) {\n      case ViewEncapsulation.Emulated: {\n        let /** @type {?} */ renderer = this.rendererByCompId.get(type.id);\n        if (!renderer) {\n          renderer =\n              new EmulatedEncapsulationDomRenderer2(this.eventManager, this.sharedStylesHost, type);\n          this.rendererByCompId.set(type.id, renderer);\n        }\n        ( /** @type {?} */((<EmulatedEncapsulationDomRenderer2>renderer))).applyToHost(element);\n        return renderer;\n      }\n      case ViewEncapsulation.Native:\n        return new ShadowDomRenderer(this.eventManager, this.sharedStylesHost, element, type);\n      default: {\n        if (!this.rendererByCompId.has(type.id)) {\n          const /** @type {?} */ styles = flattenStyles(type.id, type.styles, []);\n          this.sharedStylesHost.addStyles(styles);\n          this.rendererByCompId.set(type.id, this.defaultRenderer);\n        }\n        return this.defaultRenderer;\n      }\n    }\n  }\n/**\n * @return {?}\n */\nbegin() {}\n/**\n * @return {?}\n */\nend() {}\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: EventManager, },\n{type: DomSharedStylesHost, },\n];\n}\n\nfunction DomRendererFactory2_tsickle_Closure_declarations() {\n/** @type {?} */\nDomRendererFactory2.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDomRendererFactory2.ctorParameters;\n/** @type {?} */\nDomRendererFactory2.prototype.rendererByCompId;\n/** @type {?} */\nDomRendererFactory2.prototype.defaultRenderer;\n/** @type {?} */\nDomRendererFactory2.prototype.eventManager;\n/** @type {?} */\nDomRendererFactory2.prototype.sharedStylesHost;\n}\n\nclass DefaultDomRenderer2 implements Renderer2 {\n  data: {[key: string]: any} = Object.create(null);\n/**\n * @param {?} eventManager\n */\nconstructor(private eventManager: EventManager) {}\n/**\n * @return {?}\n */\ndestroy(): void {}\n\n  destroyNode: null;\n/**\n * @param {?} name\n * @param {?=} namespace\n * @return {?}\n */\ncreateElement(name: string, namespace?: string): any {\n    if (namespace) {\n      return document.createElementNS(NAMESPACE_URIS[namespace], name);\n    }\n\n    return document.createElement(name);\n  }\n/**\n * @param {?} value\n * @return {?}\n */\ncreateComment(value: string): any { return document.createComment(value); }\n/**\n * @param {?} value\n * @return {?}\n */\ncreateText(value: string): any { return document.createTextNode(value); }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @return {?}\n */\nappendChild(parent: any, newChild: any): void { parent.appendChild(newChild); }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @param {?} refChild\n * @return {?}\n */\ninsertBefore(parent: any, newChild: any, refChild: any): void {\n    if (parent) {\n      parent.insertBefore(newChild, refChild);\n    }\n  }\n/**\n * @param {?} parent\n * @param {?} oldChild\n * @return {?}\n */\nremoveChild(parent: any, oldChild: any): void {\n    if (parent) {\n      parent.removeChild(oldChild);\n    }\n  }\n/**\n * @param {?} selectorOrNode\n * @return {?}\n */\nselectRootElement(selectorOrNode: string|any): any {\n    let /** @type {?} */ el: any = typeof selectorOrNode === 'string' ? document.querySelector(selectorOrNode) :\n                                                       selectorOrNode;\n    if (!el) {\n      throw new Error(`The selector \"${selectorOrNode}\" did not match any elements`);\n    }\n    el.textContent = '';\n    return el;\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nparentNode(node: any): any { return node.parentNode; }\n/**\n * @param {?} node\n * @return {?}\n */\nnextSibling(node: any): any { return node.nextSibling; }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @param {?=} namespace\n * @return {?}\n */\nsetAttribute(el: any, name: string, value: string, namespace?: string): void {\n    if (namespace) {\n      name = `${namespace}:${name}`;\n      const /** @type {?} */ namespaceUri = NAMESPACE_URIS[namespace];\n      if (namespaceUri) {\n        el.setAttributeNS(namespaceUri, name, value);\n      } else {\n        el.setAttribute(name, value);\n      }\n    } else {\n      el.setAttribute(name, value);\n    }\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?=} namespace\n * @return {?}\n */\nremoveAttribute(el: any, name: string, namespace?: string): void {\n    if (namespace) {\n      const /** @type {?} */ namespaceUri = NAMESPACE_URIS[namespace];\n      if (namespaceUri) {\n        el.removeAttributeNS(namespaceUri, name);\n      } else {\n        el.removeAttribute(`${namespace}:${name}`);\n      }\n    } else {\n      el.removeAttribute(name);\n    }\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\naddClass(el: any, name: string): void { el.classList.add(name); }\n/**\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\nremoveClass(el: any, name: string): void { el.classList.remove(name); }\n/**\n * @param {?} el\n * @param {?} style\n * @param {?} value\n * @param {?} flags\n * @return {?}\n */\nsetStyle(el: any, style: string, value: any, flags: RendererStyleFlags2): void {\n    if (flags & RendererStyleFlags2.DashCase) {\n      el.style.setProperty(\n          style, value, !!(flags & RendererStyleFlags2.Important) ? 'important' : '');\n    } else {\n      el.style[style] = value;\n    }\n  }\n/**\n * @param {?} el\n * @param {?} style\n * @param {?} flags\n * @return {?}\n */\nremoveStyle(el: any, style: string, flags: RendererStyleFlags2): void {\n    if (flags & RendererStyleFlags2.DashCase) {\n      el.style.removeProperty(style);\n    } else {\n      // IE requires '' instead of null\n      // see https://github.com/angular/angular/issues/7916\n      el.style[style] = '';\n    }\n  }\n/**\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetProperty(el: any, name: string, value: any): void {\n    checkNoSyntheticProp(name, 'property');\n    el[name] = value;\n  }\n/**\n * @param {?} node\n * @param {?} value\n * @return {?}\n */\nsetValue(node: any, value: string): void { node.nodeValue = value; }\n/**\n * @param {?} target\n * @param {?} event\n * @param {?} callback\n * @return {?}\n */\nlisten(target: 'window'|'document'|'body'|any, event: string, callback: (event: any) => boolean):\n      () => void {\n    checkNoSyntheticProp(event, 'listener');\n    if (typeof target === 'string') {\n      return /** @type {?} */(( <() => void>this.eventManager.addGlobalEventListener(\n          target, event, decoratePreventDefault(callback))));\n    }\n    return /** @type {?} */(( /** @type {?} */(( <() => void>this.eventManager.addEventListener(\n               target, event, decoratePreventDefault(callback)))) as() => void));\n  }\n}\n\nfunction DefaultDomRenderer2_tsickle_Closure_declarations() {\n/** @type {?} */\nDefaultDomRenderer2.prototype.data;\n/** @type {?} */\nDefaultDomRenderer2.prototype.destroyNode;\n/** @type {?} */\nDefaultDomRenderer2.prototype.eventManager;\n}\n\n\nconst /** @type {?} */ AT_CHARCODE = '@'.charCodeAt(0);\n/**\n * @param {?} name\n * @param {?} nameKind\n * @return {?}\n */\nfunction checkNoSyntheticProp(name: string, nameKind: string) {\n  if (name.charCodeAt(0) === AT_CHARCODE) {\n    throw new Error(\n        `Found the synthetic ${nameKind} ${name}. Please include either \"BrowserAnimationsModule\" or \"NoopAnimationsModule\" in your application.`);\n  }\n}\nclass EmulatedEncapsulationDomRenderer2 extends DefaultDomRenderer2 {\nprivate contentAttr: string;\nprivate hostAttr: string;\n/**\n * @param {?} eventManager\n * @param {?} sharedStylesHost\n * @param {?} component\n */\nconstructor(\n      eventManager: EventManager, sharedStylesHost: DomSharedStylesHost,\nprivate component: RendererType2) {\n    super(eventManager);\n    const styles = flattenStyles(component.id, component.styles, []);\n    sharedStylesHost.addStyles(styles);\n\n    this.contentAttr = shimContentAttribute(component.id);\n    this.hostAttr = shimHostAttribute(component.id);\n  }\n/**\n * @param {?} element\n * @return {?}\n */\napplyToHost(element: any) { super.setAttribute(element, this.hostAttr, ''); }\n/**\n * @param {?} parent\n * @param {?} name\n * @return {?}\n */\ncreateElement(parent: any, name: string): Element {\n    const /** @type {?} */ el = super.createElement(parent, name);\n    super.setAttribute(el, this.contentAttr, '');\n    return el;\n  }\n}\n\nfunction EmulatedEncapsulationDomRenderer2_tsickle_Closure_declarations() {\n/** @type {?} */\nEmulatedEncapsulationDomRenderer2.prototype.contentAttr;\n/** @type {?} */\nEmulatedEncapsulationDomRenderer2.prototype.hostAttr;\n/** @type {?} */\nEmulatedEncapsulationDomRenderer2.prototype.component;\n}\n\nclass ShadowDomRenderer extends DefaultDomRenderer2 {\nprivate shadowRoot: any;\n/**\n * @param {?} eventManager\n * @param {?} sharedStylesHost\n * @param {?} hostEl\n * @param {?} component\n */\nconstructor(\n      eventManager: EventManager,\nprivate sharedStylesHost: DomSharedStylesHost,\nprivate hostEl: any,\nprivate component: RendererType2) {\n    super(eventManager);\n    this.shadowRoot = (hostEl as any).createShadowRoot();\n    this.sharedStylesHost.addHost(this.shadowRoot);\n    const styles = flattenStyles(component.id, component.styles, []);\n    for (let i = 0; i < styles.length; i++) {\n      const styleEl = document.createElement('style');\n      styleEl.textContent = styles[i];\n      this.shadowRoot.appendChild(styleEl);\n    }\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nprivate nodeOrShadowRoot(node: any): any { return node === this.hostEl ? this.shadowRoot : node; }\n/**\n * @return {?}\n */\ndestroy() { this.sharedStylesHost.removeHost(this.shadowRoot); }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @return {?}\n */\nappendChild(parent: any, newChild: any): void {\n    return super.appendChild(this.nodeOrShadowRoot(parent), newChild);\n  }\n/**\n * @param {?} parent\n * @param {?} newChild\n * @param {?} refChild\n * @return {?}\n */\ninsertBefore(parent: any, newChild: any, refChild: any): void {\n    return super.insertBefore(this.nodeOrShadowRoot(parent), newChild, refChild);\n  }\n/**\n * @param {?} parent\n * @param {?} oldChild\n * @return {?}\n */\nremoveChild(parent: any, oldChild: any): void {\n    return super.removeChild(this.nodeOrShadowRoot(parent), oldChild);\n  }\n/**\n * @param {?} node\n * @return {?}\n */\nparentNode(node: any): any {\n    return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(node)));\n  }\n}\n\nfunction ShadowDomRenderer_tsickle_Closure_declarations() {\n/** @type {?} */\nShadowDomRenderer.prototype.shadowRoot;\n/** @type {?} */\nShadowDomRenderer.prototype.sharedStylesHost;\n/** @type {?} */\nShadowDomRenderer.prototype.hostEl;\n/** @type {?} */\nShadowDomRenderer.prototype.component;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {isDevMode} from '@angular/core';\n\nimport {getDOM} from '../dom/dom_adapter';\n/**\n * A pattern that recognizes a commonly useful subset of URLs that are safe.\n * \n * This regular expression matches a subset of URLs that will not cause script\n * execution if used in URL context within a HTML document. Specifically, this\n * regular expression matches if (comment from here on and regex copied from\n * Soy's EscapingConventions):\n * (1) Either a protocol in a whitelist (http, https, mailto or ftp).\n * (2) or no protocol.  A protocol must be followed by a colon. The below\n *     allows that by allowing colons only after one of the characters [/?#].\n *     A colon after a hash (#) must be in the fragment.\n *     Otherwise, a colon after a (?) must be in a query.\n *     Otherwise, a colon after a single solidus (/) must be in a path.\n *     Otherwise, a colon after a double solidus (//) must be in the authority\n *     (before port).\n * \n * The pattern disallows &, used in HTML entity declarations before\n * one of the characters in [/?#]. This disallows HTML entities used in the\n * protocol name, which should never happen, e.g. \"h&#116;tp\" for \"http\".\n * It also disallows HTML entities in the first path part of a relative path,\n * e.g. \"foo&lt;bar/baz\".  Our existing escaping functions should not produce\n * that. More importantly, it disallows masking of a colon,\n * e.g. \"javascript&#58;...\".\n * \n * This regular expression was taken from the Closure sanitization library.\n */\nconst SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi;\n\n/* A pattern that matches safe srcset values */\nconst /** @type {?} */ SAFE_SRCSET_PATTERN = /^(?:(?:https?|file):|[^&:/?#]*(?:[/?#]|$))/gi;\n/**\n * A pattern that matches safe data URLs. Only matches image, video and audio types.\n */\nconst DATA_URL_PATTERN =\n    /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\\/]+=*$/i;\n/**\n * @param {?} url\n * @return {?}\n */\nexport function sanitizeUrl(url: string): string {\n  url = String(url);\n  if (url.match(SAFE_URL_PATTERN) || url.match(DATA_URL_PATTERN)) return url;\n\n  if (isDevMode()) {\n    getDOM().log(`WARNING: sanitizing unsafe URL value ${url} (see http://g.co/ng/security#xss)`);\n  }\n\n  return 'unsafe:' + url;\n}\n/**\n * @param {?} srcset\n * @return {?}\n */\nexport function sanitizeSrcset(srcset: string): string {\n  srcset = String(srcset);\n  return srcset.split(',').map((srcset) => sanitizeUrl(srcset.trim())).join(', ');\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {isDevMode} from '@angular/core';\n\nimport {DomAdapter, getDOM} from '../dom/dom_adapter';\n\nimport {sanitizeSrcset, sanitizeUrl} from './url_sanitizer';\n/**\n * A <body> element that can be safely used to parse untrusted HTML. Lazily initialized below.\n */\nlet inertElement: HTMLElement|null = null;\n/**\n * Lazily initialized to make sure the DOM adapter gets set before use.\n */\nlet DOM: DomAdapter = null !;\n/**\n * Returns an HTML element that is guaranteed to not execute code when creating elements in it.\n * @return {?}\n */\nfunction getInertElement() {\n  if (inertElement) return inertElement;\n  DOM = getDOM();\n\n  // Prefer using <template> element if supported.\n  const /** @type {?} */ templateEl = DOM.createElement('template');\n  if ('content' in templateEl) return templateEl;\n\n  const /** @type {?} */ doc = DOM.createHtmlDocument();\n  inertElement = DOM.querySelector(doc, 'body');\n  if (inertElement == null) {\n    // usually there should be only one body element in the document, but IE doesn't have any, so we\n    // need to create one.\n    const /** @type {?} */ html = DOM.createElement('html', doc);\n    inertElement = DOM.createElement('body', doc);\n    DOM.appendChild(html, inertElement);\n    DOM.appendChild(doc, html);\n  }\n  return inertElement;\n}\n/**\n * @param {?} tags\n * @return {?}\n */\nfunction tagSet(tags: string): {[k: string]: boolean} {\n  const /** @type {?} */ res: {[k: string]: boolean} = {};\n  for (const /** @type {?} */ t of tags.split(',')) res[t] = true;\n  return res;\n}\n/**\n * @param {...?} sets\n * @return {?}\n */\nfunction merge(...sets: {[k: string]: boolean}[]): {[k: string]: boolean} {\n  const /** @type {?} */ res: {[k: string]: boolean} = {};\n  for (const /** @type {?} */ s of sets) {\n    for (const /** @type {?} */ v in s) {\n      if (s.hasOwnProperty(v)) res[v] = true;\n    }\n  }\n  return res;\n}\n\n// Good source of info about elements and attributes\n// http://dev.w3.org/html5/spec/Overview.html#semantics\n// http://simon.html5.org/html-elements\n\n// Safe Void Elements - HTML5\n// http://dev.w3.org/html5/spec/Overview.html#void-elements\nconst /** @type {?} */ VOID_ELEMENTS = tagSet('area,br,col,hr,img,wbr');\n\n// Elements that you can, intentionally, leave open (and which close themselves)\n// http://dev.w3.org/html5/spec/Overview.html#optional-tags\nconst /** @type {?} */ OPTIONAL_END_TAG_BLOCK_ELEMENTS = tagSet('colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr');\nconst /** @type {?} */ OPTIONAL_END_TAG_INLINE_ELEMENTS = tagSet('rp,rt');\nconst /** @type {?} */ OPTIONAL_END_TAG_ELEMENTS =\n    merge(OPTIONAL_END_TAG_INLINE_ELEMENTS, OPTIONAL_END_TAG_BLOCK_ELEMENTS);\n\n// Safe Block Elements - HTML5\nconst /** @type {?} */ BLOCK_ELEMENTS = merge(\n    OPTIONAL_END_TAG_BLOCK_ELEMENTS,\n    tagSet(\n        'address,article,' +\n        'aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,' +\n        'h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul'));\n\n// Inline Elements - HTML5\nconst /** @type {?} */ INLINE_ELEMENTS = merge(\n    OPTIONAL_END_TAG_INLINE_ELEMENTS,\n    tagSet(\n        'a,abbr,acronym,audio,b,' +\n        'bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,' +\n        'samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video'));\n\nconst /** @type {?} */ VALID_ELEMENTS =\n    merge(VOID_ELEMENTS, BLOCK_ELEMENTS, INLINE_ELEMENTS, OPTIONAL_END_TAG_ELEMENTS);\n\n// Attributes that have href and hence need to be sanitized\nconst /** @type {?} */ URI_ATTRS = tagSet('background,cite,href,itemtype,longdesc,poster,src,xlink:href');\n\n// Attributes that have special href set hence need to be sanitized\nconst /** @type {?} */ SRCSET_ATTRS = tagSet('srcset');\n\nconst /** @type {?} */ HTML_ATTRS = tagSet(\n    'abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,' +\n    'compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,' +\n    'ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,' +\n    'scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,' +\n    'valign,value,vspace,width');\n\n// NB: This currently consciously doesn't support SVG. SVG sanitization has had several security\n// issues in the past, so it seems safer to leave it out if possible. If support for binding SVG via\n// innerHTML is required, SVG attributes should be added here.\n\n// NB: Sanitization does not allow <form> elements or other active elements (<button> etc). Those\n// can be sanitized, but they increase security surface area without a legitimate use case, so they\n// are left out here.\n\nconst /** @type {?} */ VALID_ATTRS = merge(URI_ATTRS, SRCSET_ATTRS, HTML_ATTRS);\n/**\n * SanitizingHtmlSerializer serializes a DOM fragment, stripping out any unsafe elements and unsafe\n * attributes.\n */\nclass SanitizingHtmlSerializer {\npublic sanitizedSomething = false;\nprivate buf: string[] = [];\n/**\n * @param {?} el\n * @return {?}\n */\nsanitizeChildren(el: Element): string {\n    // This cannot use a TreeWalker, as it has to run on Angular's various DOM adapters.\n    // However this code never accesses properties off of `document` before deleting its contents\n    // again, so it shouldn't be vulnerable to DOM clobbering.\n    let /** @type {?} */ current: Node = /** @type {?} */(( el.firstChild));\n    while (current) {\n      if (DOM.isElementNode(current)) {\n        this.startElement( /** @type {?} */((current as Element)));\n      } else if (DOM.isTextNode(current)) {\n        this.chars( /** @type {?} */((DOM.nodeValue(current))));\n      } else {\n        // Strip non-element, non-text nodes.\n        this.sanitizedSomething = true;\n      }\n      if (DOM.firstChild(current)) {\n        current = /** @type {?} */(( DOM.firstChild(current)));\n        continue;\n      }\n      while (current) {\n        // Leaving the element. Walk up and to the right, closing tags as we go.\n        if (DOM.isElementNode(current)) {\n          this.endElement( /** @type {?} */((current as Element)));\n        }\n\n        let /** @type {?} */ next = checkClobberedElement(current, /** @type {?} */(( DOM.nextSibling(current))));\n\n        if (next) {\n          current = next;\n          break;\n        }\n\n        current = checkClobberedElement(current, /** @type {?} */(( DOM.parentElement(current))));\n      }\n    }\n    return this.buf.join('');\n  }\n/**\n * @param {?} element\n * @return {?}\n */\nprivate startElement(element: Element) {\n    const /** @type {?} */ tagName = DOM.nodeName(element).toLowerCase();\n    if (!VALID_ELEMENTS.hasOwnProperty(tagName)) {\n      this.sanitizedSomething = true;\n      return;\n    }\n    this.buf.push('<');\n    this.buf.push(tagName);\n    DOM.attributeMap(element).forEach((value: string, attrName: string) => {\n      const /** @type {?} */ lower = attrName.toLowerCase();\n      if (!VALID_ATTRS.hasOwnProperty(lower)) {\n        this.sanitizedSomething = true;\n        return;\n      }\n      // TODO(martinprobst): Special case image URIs for data:image/...\n      if (URI_ATTRS[lower]) value = sanitizeUrl(value);\n      if (SRCSET_ATTRS[lower]) value = sanitizeSrcset(value);\n      this.buf.push(' ');\n      this.buf.push(attrName);\n      this.buf.push('=\"');\n      this.buf.push(encodeEntities(value));\n      this.buf.push('\"');\n    });\n    this.buf.push('>');\n  }\n/**\n * @param {?} current\n * @return {?}\n */\nprivate endElement(current: Element) {\n    const /** @type {?} */ tagName = DOM.nodeName(current).toLowerCase();\n    if (VALID_ELEMENTS.hasOwnProperty(tagName) && !VOID_ELEMENTS.hasOwnProperty(tagName)) {\n      this.buf.push('</');\n      this.buf.push(tagName);\n      this.buf.push('>');\n    }\n  }\n/**\n * @param {?} chars\n * @return {?}\n */\nprivate chars(chars: string) { this.buf.push(encodeEntities(chars)); }\n}\n\nfunction SanitizingHtmlSerializer_tsickle_Closure_declarations() {\n/** @type {?} */\nSanitizingHtmlSerializer.prototype.sanitizedSomething;\n/** @type {?} */\nSanitizingHtmlSerializer.prototype.buf;\n}\n\n/**\n * @param {?} node\n * @param {?} nextNode\n * @return {?}\n */\nfunction checkClobberedElement(node: Node, nextNode: Node): Node {\n  if (nextNode && DOM.contains(node, nextNode)) {\n    throw new Error(\n        `Failed to sanitize html because the element is clobbered: ${DOM.getOuterHTML(node)}`);\n  }\n  return nextNode;\n}\n\n// Regular Expressions for parsing tags and attributes\nconst /** @type {?} */ SURROGATE_PAIR_REGEXP = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n// ! to ~ is the ASCII range.\nconst /** @type {?} */ NON_ALPHANUMERIC_REGEXP = /([^\\#-~ |!])/g;\n/**\n * Escapes all potentially dangerous characters, so that the\n * resulting string can be safely inserted into attribute or\n * element text.\n * @param {?} value\n * @return {?}\n */\nfunction encodeEntities(value: string) {\n  return value.replace(/&/g, '&amp;')\n      .replace(\n          SURROGATE_PAIR_REGEXP,\n          function(match: string) {\n            const /** @type {?} */ hi = match.charCodeAt(0);\n            const /** @type {?} */ low = match.charCodeAt(1);\n            return '&#' + (((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000) + ';';\n          })\n      .replace(\n          NON_ALPHANUMERIC_REGEXP,\n          function(match: string) { return '&#' + match.charCodeAt(0) + ';'; })\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;');\n}\n/**\n * When IE9-11 comes across an unknown namespaced attribute e.g. 'xlink:foo' it adds 'xmlns:ns1'\n * attribute to declare ns1 namespace and prefixes the attribute with 'ns1' (e.g. 'ns1:xlink:foo').\n * \n * This is undesirable since we don't want to allow any of these custom attributes. This method\n * strips them all.\n * @param {?} el\n * @return {?}\n */\nfunction stripCustomNsAttrs(el: Element) {\n  DOM.attributeMap(el).forEach((_, attrName) => {\n    if (attrName === 'xmlns:ns1' || attrName.indexOf('ns1:') === 0) {\n      DOM.removeAttribute(el, attrName);\n    }\n  });\n  for (const /** @type {?} */ n of DOM.childNodesAsList(el)) {\n    if (DOM.isElementNode(n)) stripCustomNsAttrs( /** @type {?} */((n as Element)));\n  }\n}\n/**\n * Sanitizes the given unsafe, untrusted HTML fragment, and returns HTML text that is safe to add to\n * the DOM in a browser environment.\n * @param {?} defaultDoc\n * @param {?} unsafeHtmlInput\n * @return {?}\n */\nexport function sanitizeHtml(defaultDoc: any, unsafeHtmlInput: string): string {\n  try {\n    const /** @type {?} */ containerEl = getInertElement();\n    // Make sure unsafeHtml is actually a string (TypeScript types are not enforced at runtime).\n    let /** @type {?} */ unsafeHtml = unsafeHtmlInput ? String(unsafeHtmlInput) : '';\n\n    // mXSS protection. Repeatedly parse the document to make sure it stabilizes, so that a browser\n    // trying to auto-correct incorrect HTML cannot cause formerly inert HTML to become dangerous.\n    let /** @type {?} */ mXSSAttempts = 5;\n    let /** @type {?} */ parsedHtml = unsafeHtml;\n\n    do {\n      if (mXSSAttempts === 0) {\n        throw new Error('Failed to sanitize html because the input is unstable');\n      }\n      mXSSAttempts--;\n\n      unsafeHtml = parsedHtml;\n      DOM.setInnerHTML(containerEl, unsafeHtml);\n      if (defaultDoc.documentMode) {\n        // strip custom-namespaced attributes on IE<=11\n        stripCustomNsAttrs(containerEl);\n      }\n      parsedHtml = DOM.getInnerHTML(containerEl);\n    } while (unsafeHtml !== parsedHtml);\n\n    const /** @type {?} */ sanitizer = new SanitizingHtmlSerializer();\n    const /** @type {?} */ safeHtml = sanitizer.sanitizeChildren(DOM.getTemplateContent(containerEl) || containerEl);\n\n    // Clear out the body element.\n    const /** @type {?} */ parent = DOM.getTemplateContent(containerEl) || containerEl;\n    for (const /** @type {?} */ child of DOM.childNodesAsList(parent)) {\n      DOM.removeChild(parent, child);\n    }\n\n    if (isDevMode() && sanitizer.sanitizedSomething) {\n      DOM.log('WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss).');\n    }\n\n    return safeHtml;\n  } catch ( /** @type {?} */e) {\n    // In case anything goes wrong, clear out inertElement to reset the entire DOM structure.\n    inertElement = null;\n    throw e;\n  }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {isDevMode} from '@angular/core';\n\nimport {getDOM} from '../dom/dom_adapter';\n\nimport {sanitizeUrl} from './url_sanitizer';\n/**\n * Regular expression for safe style values.\n * \n * Quotes (\" and ') are allowed, but a check must be done elsewhere to ensure they're balanced.\n * \n * ',' allows multiple values to be assigned to the same property (e.g. background-attachment or\n * font-family) and hence could allow multiple values to get injected, but that should pose no risk\n * of XSS.\n * \n * The function expression checks only for XSS safety, not for CSS validity.\n * \n * This regular expression was taken from the Closure sanitization library, and augmented for\n * transformation values.\n */\nconst VALUES = '[-,.\"\\'%_!# a-zA-Z0-9]+';\nconst /** @type {?} */ TRANSFORMATION_FNS = '(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?';\nconst /** @type {?} */ COLOR_FNS = '(?:rgb|hsl)a?';\nconst /** @type {?} */ GRADIENTS = '(?:repeating-)?(?:linear|radial)-gradient';\nconst /** @type {?} */ CSS3_FNS = '(?:calc|attr)';\nconst /** @type {?} */ FN_ARGS = '\\\\([-0-9.%, #a-zA-Z]+\\\\)';\nconst /** @type {?} */ SAFE_STYLE_VALUE = new RegExp(\n    `^(${VALUES}|` +\n        `(?:${TRANSFORMATION_FNS}|${COLOR_FNS}|${GRADIENTS}|${CSS3_FNS})` +\n        `${FN_ARGS})$`,\n    'g');\n/**\n * Matches a `url(...)` value with an arbitrary argument as long as it does\n * not contain parentheses.\n * \n * The URL value still needs to be sanitized separately.\n * \n * `url(...)` values are a very common use case, e.g. for `background-image`. With carefully crafted\n * CSS style rules, it is possible to construct an information leak with `url` values in CSS, e.g.\n * by observing whether scroll bars are displayed, or character ranges used by a font face\n * definition.\n * \n * Angular only allows binding CSS values (as opposed to entire CSS rules), so it is unlikely that\n * binding a URL value without further cooperation from the page will cause an information leak, and\n * if so, it is just a leak, not a full blown XSS vulnerability.\n * \n * Given the common use case, low likelihood of attack vector, and low impact of an attack, this\n * code is permissive and allows URLs that sanitize otherwise.\n */\nconst URL_RE = /^url\\(([^)]+)\\)$/;\n/**\n * Checks that quotes (\" and ') are properly balanced inside a string. Assumes\n * that neither escape (\\) nor any other character that could result in\n * breaking out of a string parsing context are allowed;\n * see http://www.w3.org/TR/css3-syntax/#string-token-diagram.\n * \n * This code was taken from the Closure sanitization library.\n * @param {?} value\n * @return {?}\n */\nfunction hasBalancedQuotes(value: string) {\n  let /** @type {?} */ outsideSingle = true;\n  let /** @type {?} */ outsideDouble = true;\n  for (let /** @type {?} */ i = 0; i < value.length; i++) {\n    const /** @type {?} */ c = value.charAt(i);\n    if (c === '\\'' && outsideDouble) {\n      outsideSingle = !outsideSingle;\n    } else if (c === '\"' && outsideSingle) {\n      outsideDouble = !outsideDouble;\n    }\n  }\n  return outsideSingle && outsideDouble;\n}\n/**\n * Sanitizes the given untrusted CSS style property value (i.e. not an entire object, just a single\n * value) and returns a value that is safe to use in a browser environment.\n * @param {?} value\n * @return {?}\n */\nexport function sanitizeStyle(value: string): string {\n  value = String(value).trim();  // Make sure it's actually a string.\n  if (!value) return '';\n\n  // Single url(...) values are supported, but only for URLs that sanitize cleanly. See above for\n  // reasoning behind this.\n  const /** @type {?} */ urlMatch = value.match(URL_RE);\n  if ((urlMatch && sanitizeUrl(urlMatch[1]) === urlMatch[1]) ||\n      value.match(SAFE_STYLE_VALUE) && hasBalancedQuotes(value)) {\n    return value;  // Safe style values.\n  }\n\n  if (isDevMode()) {\n    getDOM().log(\n        `WARNING: sanitizing unsafe style value ${value} (see http://g.co/ng/security#xss).`);\n  }\n\n  return 'unsafe';\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {Inject, Injectable, Sanitizer, SecurityContext} from '@angular/core';\n\nimport {DOCUMENT} from '../dom/dom_tokens';\n\nimport {sanitizeHtml} from './html_sanitizer';\nimport {sanitizeStyle} from './style_sanitizer';\nimport {sanitizeUrl} from './url_sanitizer';\n\nexport {SecurityContext};\n\n\n\n/**\n * Marker interface for a value that's safe to use in a particular context.\n *\n * @stable\n */\nexport interface SafeValue {}\n\n/**\n * Marker interface for a value that's safe to use as HTML.\n *\n * @stable\n */\nexport interface SafeHtml extends SafeValue {}\n\n/**\n * Marker interface for a value that's safe to use as style (CSS).\n *\n * @stable\n */\nexport interface SafeStyle extends SafeValue {}\n\n/**\n * Marker interface for a value that's safe to use as JavaScript.\n *\n * @stable\n */\nexport interface SafeScript extends SafeValue {}\n\n/**\n * Marker interface for a value that's safe to use as a URL linking to a document.\n *\n * @stable\n */\nexport interface SafeUrl extends SafeValue {}\n\n/**\n * Marker interface for a value that's safe to use as a URL to load executable code from.\n *\n * @stable\n */\nexport interface SafeResourceUrl extends SafeValue {}\n/**\n * DomSanitizer helps preventing Cross Site Scripting Security bugs (XSS) by sanitizing\n * values to be safe to use in the different DOM contexts.\n * \n * For example, when binding a URL in an `<a [href]=\"someValue\">` hyperlink, `someValue` will be\n * sanitized so that an attacker cannot inject e.g. a `javascript:` URL that would execute code on\n * the website.\n * \n * In specific situations, it might be necessary to disable sanitization, for example if the\n * application genuinely needs to produce a `javascript:` style link with a dynamic value in it.\n * Users can bypass security by constructing a value with one of the `bypassSecurityTrust...`\n * methods, and then binding to that value from the template.\n * \n * These situations should be very rare, and extraordinary care must be taken to avoid creating a\n * Cross Site Scripting (XSS) security bug!\n * \n * When using `bypassSecurityTrust...`, make sure to call the method as early as possible and as\n * close as possible to the source of the value, to make it easy to verify no security bug is\n * created by its use.\n * \n * It is not required (and not recommended) to bypass security if the value is safe, e.g. a URL that\n * does not start with a suspicious protocol, or an HTML snippet that does not contain dangerous\n * code. The sanitizer leaves safe values intact.\n * \n * \\@security Calling any of the `bypassSecurityTrust...` APIs disables Angular's built-in\n * sanitization for the value passed in. Carefully check and audit all values and code paths going\n * into this call. Make sure any user data is appropriately escaped for this security context.\n * For more detail, see the [Security Guide](http://g.co/ng/security).\n * \n * \\@stable\n * @abstract\n */\nexport abstract class DomSanitizer implements Sanitizer {\n/**\n * Sanitizes a value for use in the given SecurityContext.\n * \n * If value is trusted for the context, this method will unwrap the contained safe value and use\n * it directly. Otherwise, value will be sanitized to be safe in the given context, for example\n * by replacing URLs that have an unsafe protocol part (such as `javascript:`). The implementation\n * is responsible to make sure that the value can definitely be safely used in the given context.\n * @abstract\n * @param {?} context\n * @param {?} value\n * @return {?}\n */\nsanitize(context: SecurityContext, value: SafeValue|string|null) {}\n/**\n * Bypass security and trust the given value to be safe HTML. Only use this when the bound HTML\n * is unsafe (e.g. contains `<script>` tags) and the code should be executed. The sanitizer will\n * leave safe HTML intact, so in most situations this method should not be used.\n * \n * **WARNING:** calling this method with untrusted user data exposes your application to XSS\n * security risks!\n * @abstract\n * @param {?} value\n * @return {?}\n */\nbypassSecurityTrustHtml(value: string) {}\n/**\n * Bypass security and trust the given value to be safe style value (CSS).\n * \n * **WARNING:** calling this method with untrusted user data exposes your application to XSS\n * security risks!\n * @abstract\n * @param {?} value\n * @return {?}\n */\nbypassSecurityTrustStyle(value: string) {}\n/**\n * Bypass security and trust the given value to be safe JavaScript.\n * \n * **WARNING:** calling this method with untrusted user data exposes your application to XSS\n * security risks!\n * @abstract\n * @param {?} value\n * @return {?}\n */\nbypassSecurityTrustScript(value: string) {}\n/**\n * Bypass security and trust the given value to be a safe style URL, i.e. a value that can be used\n * in hyperlinks or `<img src>`.\n * \n * **WARNING:** calling this method with untrusted user data exposes your application to XSS\n * security risks!\n * @abstract\n * @param {?} value\n * @return {?}\n */\nbypassSecurityTrustUrl(value: string) {}\n/**\n * Bypass security and trust the given value to be a safe resource URL, i.e. a location that may\n * be used to load executable code from, like `<script src>`, or `<iframe src>`.\n * \n * **WARNING:** calling this method with untrusted user data exposes your application to XSS\n * security risks!\n * @abstract\n * @param {?} value\n * @return {?}\n */\nbypassSecurityTrustResourceUrl(value: string) {}\n}\nexport class DomSanitizerImpl extends DomSanitizer {\n/**\n * @param {?} _doc\n */\nconstructor(\nprivate _doc: any) { super(); }\n/**\n * @param {?} ctx\n * @param {?} value\n * @return {?}\n */\nsanitize(ctx: SecurityContext, value: SafeValue|string|null): string|null {\n    if (value == null) return null;\n    switch (ctx) {\n      case SecurityContext.NONE:\n        return /** @type {?} */(( value as string));\n      case SecurityContext.HTML:\n        if (value instanceof SafeHtmlImpl) return value.changingThisBreaksApplicationSecurity;\n        this.checkNotSafeValue(value, 'HTML');\n        return sanitizeHtml(this._doc, String(value));\n      case SecurityContext.STYLE:\n        if (value instanceof SafeStyleImpl) return value.changingThisBreaksApplicationSecurity;\n        this.checkNotSafeValue(value, 'Style');\n        return sanitizeStyle( /** @type {?} */((value as string)));\n      case SecurityContext.SCRIPT:\n        if (value instanceof SafeScriptImpl) return value.changingThisBreaksApplicationSecurity;\n        this.checkNotSafeValue(value, 'Script');\n        throw new Error('unsafe value used in a script context');\n      case SecurityContext.URL:\n        if (value instanceof SafeResourceUrlImpl || value instanceof SafeUrlImpl) {\n          // Allow resource URLs in URL contexts, they are strictly more trusted.\n          return value.changingThisBreaksApplicationSecurity;\n        }\n        this.checkNotSafeValue(value, 'URL');\n        return sanitizeUrl(String(value));\n      case SecurityContext.RESOURCE_URL:\n        if (value instanceof SafeResourceUrlImpl) {\n          return value.changingThisBreaksApplicationSecurity;\n        }\n        this.checkNotSafeValue(value, 'ResourceURL');\n        throw new Error(\n            'unsafe value used in a resource URL context (see http://g.co/ng/security#xss)');\n      default:\n        throw new Error(`Unexpected SecurityContext ${ctx} (see http://g.co/ng/security#xss)`);\n    }\n  }\n/**\n * @param {?} value\n * @param {?} expectedType\n * @return {?}\n */\nprivate checkNotSafeValue(value: any, expectedType: string) {\n    if (value instanceof SafeValueImpl) {\n      throw new Error(\n          `Required a safe ${expectedType}, got a ${value.getTypeName()} ` +\n          `(see http://g.co/ng/security#xss)`);\n    }\n  }\n/**\n * @param {?} value\n * @return {?}\n */\nbypassSecurityTrustHtml(value: string): SafeHtml { return new SafeHtmlImpl(value); }\n/**\n * @param {?} value\n * @return {?}\n */\nbypassSecurityTrustStyle(value: string): SafeStyle { return new SafeStyleImpl(value); }\n/**\n * @param {?} value\n * @return {?}\n */\nbypassSecurityTrustScript(value: string): SafeScript { return new SafeScriptImpl(value); }\n/**\n * @param {?} value\n * @return {?}\n */\nbypassSecurityTrustUrl(value: string): SafeUrl { return new SafeUrlImpl(value); }\n/**\n * @param {?} value\n * @return {?}\n */\nbypassSecurityTrustResourceUrl(value: string): SafeResourceUrl {\n    return new SafeResourceUrlImpl(value);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\n}\n\nfunction DomSanitizerImpl_tsickle_Closure_declarations() {\n/** @type {?} */\nDomSanitizerImpl.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDomSanitizerImpl.ctorParameters;\n/** @type {?} */\nDomSanitizerImpl.prototype._doc;\n}\n\n/**\n * @abstract\n */\nabstract class SafeValueImpl implements SafeValue {\n/**\n * @param {?} changingThisBreaksApplicationSecurity\n */\nconstructor(public changingThisBreaksApplicationSecurity: string) {\n    // empty\n  }\n/**\n * @abstract\n * @return {?}\n */\ngetTypeName() {}\n/**\n * @return {?}\n */\ntoString() {\n    return `SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}` +\n        ` (see http://g.co/ng/security#xss)`;\n  }\n}\n\nfunction SafeValueImpl_tsickle_Closure_declarations() {\n/** @type {?} */\nSafeValueImpl.prototype.changingThisBreaksApplicationSecurity;\n}\n\nclass SafeHtmlImpl extends SafeValueImpl implements SafeHtml {\n/**\n * @return {?}\n */\ngetTypeName() { return 'HTML'; }\n}\nclass SafeStyleImpl extends SafeValueImpl implements SafeStyle {\n/**\n * @return {?}\n */\ngetTypeName() { return 'Style'; }\n}\nclass SafeScriptImpl extends SafeValueImpl implements SafeScript {\n/**\n * @return {?}\n */\ngetTypeName() { return 'Script'; }\n}\nclass SafeUrlImpl extends SafeValueImpl implements SafeUrl {\n/**\n * @return {?}\n */\ngetTypeName() { return 'URL'; }\n}\nclass SafeResourceUrlImpl extends SafeValueImpl implements SafeResourceUrl {\n/**\n * @return {?}\n */\ngetTypeName() { return 'ResourceURL'; }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * Coerces a data-bound value (typically a string) to a boolean.\n * @param {?} value\n * @return {?}\n */\nexport function coerceBooleanProperty(value) {\n    return value != null && \"\" + value !== 'false';\n}\n//# sourceMappingURL=boolean-property.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Subject } from 'rxjs/Subject';\n/**\n * Reference to an overlay that has been created with the Overlay service.\n * Used to manipulate or dispose of said overlay.\n */\nvar OverlayRef = (function () {\n    /**\n     * @param {?} _portalHost\n     * @param {?} _pane\n     * @param {?} _config\n     * @param {?} _ngZone\n     */\n    function OverlayRef(_portalHost, _pane, _config, _ngZone) {\n        this._portalHost = _portalHost;\n        this._pane = _pane;\n        this._config = _config;\n        this._ngZone = _ngZone;\n        this._backdropElement = null;\n        this._backdropClick = new Subject();\n        this._attachments = new Subject();\n        this._detachments = new Subject();\n        if (_config.scrollStrategy) {\n            _config.scrollStrategy.attach(this);\n        }\n    }\n    Object.defineProperty(OverlayRef.prototype, \"overlayElement\", {\n        /**\n         * The overlay's HTML element\n         * @return {?}\n         */\n        get: function () {\n            return this._pane;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Attaches the overlay to a portal instance and adds the backdrop.\n     * @param {?} portal Portal instance to which to attach the overlay.\n     * @return {?} The portal attachment result.\n     */\n    OverlayRef.prototype.attach = function (portal) {\n        var _this = this;\n        var /** @type {?} */ attachResult = this._portalHost.attach(portal);\n        if (this._config.positionStrategy) {\n            this._config.positionStrategy.attach(this);\n        }\n        // Update the pane element with the given configuration.\n        this._updateStackingOrder();\n        this.updateSize();\n        this.updateDirection();\n        this.updatePosition();\n        if (this._config.scrollStrategy) {\n            this._config.scrollStrategy.enable();\n        }\n        // Enable pointer events for the overlay pane element.\n        this._togglePointerEvents(true);\n        if (this._config.hasBackdrop) {\n            this._attachBackdrop();\n        }\n        if (this._config.panelClass) {\n            // We can't do a spread here, because IE doesn't support setting multiple classes.\n            if (Array.isArray(this._config.panelClass)) {\n                this._config.panelClass.forEach(function (cls) { return _this._pane.classList.add(cls); });\n            }\n            else {\n                this._pane.classList.add(this._config.panelClass);\n            }\n        }\n        // Only emit the `attachments` event once all other setup is done.\n        this._attachments.next();\n        return attachResult;\n    };\n    /**\n     * Detaches an overlay from a portal.\n     * @return {?} The portal detachment result.\n     */\n    OverlayRef.prototype.detach = function () {\n        this.detachBackdrop();\n        // When the overlay is detached, the pane element should disable pointer events.\n        // This is necessary because otherwise the pane element will cover the page and disable\n        // pointer events therefore. Depends on the position strategy and the applied pane boundaries.\n        this._togglePointerEvents(false);\n        if (this._config.positionStrategy && this._config.positionStrategy.detach) {\n            this._config.positionStrategy.detach();\n        }\n        if (this._config.scrollStrategy) {\n            this._config.scrollStrategy.disable();\n        }\n        var /** @type {?} */ detachmentResult = this._portalHost.detach();\n        // Only emit after everything is detached.\n        this._detachments.next();\n        return detachmentResult;\n    };\n    /**\n     * Cleans up the overlay from the DOM.\n     * @return {?}\n     */\n    OverlayRef.prototype.dispose = function () {\n        if (this._config.positionStrategy) {\n            this._config.positionStrategy.dispose();\n        }\n        if (this._config.scrollStrategy) {\n            this._config.scrollStrategy.disable();\n        }\n        this.detachBackdrop();\n        this._portalHost.dispose();\n        this._attachments.complete();\n        this._backdropClick.complete();\n        this._detachments.next();\n        this._detachments.complete();\n    };\n    /**\n     * Checks whether the overlay has been attached.\n     * @return {?}\n     */\n    OverlayRef.prototype.hasAttached = function () {\n        return this._portalHost.hasAttached();\n    };\n    /**\n     * Returns an observable that emits when the backdrop has been clicked.\n     * @return {?}\n     */\n    OverlayRef.prototype.backdropClick = function () {\n        return this._backdropClick.asObservable();\n    };\n    /**\n     * Returns an observable that emits when the overlay has been attached.\n     * @return {?}\n     */\n    OverlayRef.prototype.attachments = function () {\n        return this._attachments.asObservable();\n    };\n    /**\n     * Returns an observable that emits when the overlay has been detached.\n     * @return {?}\n     */\n    OverlayRef.prototype.detachments = function () {\n        return this._detachments.asObservable();\n    };\n    /**\n     * Gets the current config of the overlay.\n     * @return {?}\n     */\n    OverlayRef.prototype.getConfig = function () {\n        return this._config;\n    };\n    /**\n     * Updates the position of the overlay based on the position strategy.\n     * @return {?}\n     */\n    OverlayRef.prototype.updatePosition = function () {\n        if (this._config.positionStrategy) {\n            this._config.positionStrategy.apply();\n        }\n    };\n    /**\n     * Updates the text direction of the overlay panel.\n     * @return {?}\n     */\n    OverlayRef.prototype.updateDirection = function () {\n        this._pane.setAttribute('dir', /** @type {?} */ ((this._config.direction)));\n    };\n    /**\n     * Updates the size of the overlay based on the overlay config.\n     * @return {?}\n     */\n    OverlayRef.prototype.updateSize = function () {\n        if (this._config.width || this._config.width === 0) {\n            this._pane.style.width = formatCssUnit(this._config.width);\n        }\n        if (this._config.height || this._config.height === 0) {\n            this._pane.style.height = formatCssUnit(this._config.height);\n        }\n        if (this._config.minWidth || this._config.minWidth === 0) {\n            this._pane.style.minWidth = formatCssUnit(this._config.minWidth);\n        }\n        if (this._config.minHeight || this._config.minHeight === 0) {\n            this._pane.style.minHeight = formatCssUnit(this._config.minHeight);\n        }\n        if (this._config.maxWidth || this._config.maxWidth === 0) {\n            this._pane.style.maxWidth = formatCssUnit(this._config.maxWidth);\n        }\n        if (this._config.maxHeight || this._config.maxHeight === 0) {\n            this._pane.style.maxHeight = formatCssUnit(this._config.maxHeight);\n        }\n    };\n    /**\n     * Toggles the pointer events for the overlay pane element.\n     * @param {?} enablePointer\n     * @return {?}\n     */\n    OverlayRef.prototype._togglePointerEvents = function (enablePointer) {\n        this._pane.style.pointerEvents = enablePointer ? 'auto' : 'none';\n    };\n    /**\n     * Attaches a backdrop for this overlay.\n     * @return {?}\n     */\n    OverlayRef.prototype._attachBackdrop = function () {\n        var _this = this;\n        this._backdropElement = document.createElement('div');\n        this._backdropElement.classList.add('cdk-overlay-backdrop');\n        if (this._config.backdropClass) {\n            this._backdropElement.classList.add(this._config.backdropClass);\n        } /** @type {?} */\n        ((\n        // Insert the backdrop before the pane in the DOM order,\n        // in order to handle stacked overlays properly.\n        this._pane.parentElement)).insertBefore(this._backdropElement, this._pane);\n        // Forward backdrop clicks such that the consumer of the overlay can perform whatever\n        // action desired when such a click occurs (usually closing the overlay).\n        this._backdropElement.addEventListener('click', function () { return _this._backdropClick.next(null); });\n        // Add class to fade-in the backdrop after one frame.\n        requestAnimationFrame(function () {\n            if (_this._backdropElement) {\n                _this._backdropElement.classList.add('cdk-overlay-backdrop-showing');\n            }\n        });\n    };\n    /**\n     * Updates the stacking order of the element, moving it to the top if necessary.\n     * This is required in cases where one overlay was detached, while another one,\n     * that should be behind it, was destroyed. The next time both of them are opened,\n     * the stacking will be wrong, because the detached element's pane will still be\n     * in its original DOM position.\n     * @return {?}\n     */\n    OverlayRef.prototype._updateStackingOrder = function () {\n        if (this._pane.nextSibling) {\n            ((this._pane.parentNode)).appendChild(this._pane);\n        }\n    };\n    /**\n     * Detaches the backdrop (if any) associated with the overlay.\n     * @return {?}\n     */\n    OverlayRef.prototype.detachBackdrop = function () {\n        var _this = this;\n        var /** @type {?} */ backdropToDetach = this._backdropElement;\n        if (backdropToDetach) {\n            var /** @type {?} */ finishDetach_1 = function () {\n                // It may not be attached to anything in certain cases (e.g. unit tests).\n                if (backdropToDetach && backdropToDetach.parentNode) {\n                    backdropToDetach.parentNode.removeChild(backdropToDetach);\n                }\n                // It is possible that a new portal has been attached to this overlay since we started\n                // removing the backdrop. If that is the case, only clear the backdrop reference if it\n                // is still the same instance that we started to remove.\n                if (_this._backdropElement == backdropToDetach) {\n                    _this._backdropElement = null;\n                }\n            };\n            backdropToDetach.classList.remove('cdk-overlay-backdrop-showing');\n            if (this._config.backdropClass) {\n                backdropToDetach.classList.remove(this._config.backdropClass);\n            }\n            backdropToDetach.addEventListener('transitionend', finishDetach_1);\n            // If the backdrop doesn't have a transition, the `transitionend` event won't fire.\n            // In this case we make it unclickable and we try to remove it after a delay.\n            backdropToDetach.style.pointerEvents = 'none';\n            // Run this outside the Angular zone because there's nothing that Angular cares about.\n            // If it were to run inside the Angular zone, every test that used Overlay would have to be\n            // either async or fakeAsync.\n            this._ngZone.runOutsideAngular(function () {\n                setTimeout(finishDetach_1, 500);\n            });\n        }\n    };\n    return OverlayRef;\n}());\nexport { OverlayRef };\nfunction OverlayRef_tsickle_Closure_declarations() {\n    /** @type {?} */\n    OverlayRef.prototype._backdropElement;\n    /** @type {?} */\n    OverlayRef.prototype._backdropClick;\n    /** @type {?} */\n    OverlayRef.prototype._attachments;\n    /** @type {?} */\n    OverlayRef.prototype._detachments;\n    /** @type {?} */\n    OverlayRef.prototype._portalHost;\n    /** @type {?} */\n    OverlayRef.prototype._pane;\n    /** @type {?} */\n    OverlayRef.prototype._config;\n    /** @type {?} */\n    OverlayRef.prototype._ngZone;\n}\n/**\n * @param {?} value\n * @return {?}\n */\nfunction formatCssUnit(value) {\n    return typeof value === 'string' ? (value) : value + \"px\";\n}\n//# sourceMappingURL=overlay-ref.js.map","/**\n * Gets whether an element is scrolled outside of view by any of its parent scrolling containers.\n * \\@docs-private\n * @param {?} element Dimensions of the element (from getBoundingClientRect)\n * @param {?} scrollContainers Dimensions of element's scrolling containers (from getBoundingClientRect)\n * @return {?} Whether the element is scrolled out of view\n */\nexport function isElementScrolledOutsideView(element, scrollContainers) {\n    return scrollContainers.some(function (containerBounds) {\n        var /** @type {?} */ outsideAbove = element.bottom < containerBounds.top;\n        var /** @type {?} */ outsideBelow = element.top > containerBounds.bottom;\n        var /** @type {?} */ outsideLeft = element.right < containerBounds.left;\n        var /** @type {?} */ outsideRight = element.left > containerBounds.right;\n        return outsideAbove || outsideBelow || outsideLeft || outsideRight;\n    });\n}\n/**\n * Gets whether an element is clipped by any of its scrolling containers.\n * \\@docs-private\n * @param {?} element Dimensions of the element (from getBoundingClientRect)\n * @param {?} scrollContainers Dimensions of element's scrolling containers (from getBoundingClientRect)\n * @return {?} Whether the element is clipped\n */\nexport function isElementClippedByScrolling(element, scrollContainers) {\n    return scrollContainers.some(function (scrollContainerRect) {\n        var /** @type {?} */ clippedAbove = element.top < scrollContainerRect.top;\n        var /** @type {?} */ clippedBelow = element.bottom > scrollContainerRect.bottom;\n        var /** @type {?} */ clippedLeft = element.left < scrollContainerRect.left;\n        var /** @type {?} */ clippedRight = element.right > scrollContainerRect.right;\n        return clippedAbove || clippedBelow || clippedLeft || clippedRight;\n    });\n}\n//# sourceMappingURL=scroll-clip.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Returns an error to be thrown when attempting to attach an already-attached scroll strategy.\n * @return {?}\n */\nexport function getMatScrollStrategyAlreadyAttachedError() {\n    return Error(\"Scroll strategy has already been attached.\");\n}\n//# sourceMappingURL=scroll-strategy.js.map","\n/**\n * Simple object check.\n * @param {?} item\n * @return {?}\n */\nfunction isObject(item) {\n  return (item && typeof item === 'object' && !Array.isArray(item));\n}\n/**\n * Deep merge two objects.\n * @param {?} target\n * @param {...?} sources\n * @return {?}\n */\nexport function mergeDeep(target, ...sources) {\n  if (!sources.length) {\n    return target;\n  }\n  const /** @type {?} */ source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const /** @type {?} */ key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) {\n          Object.assign(target, {[key]: {}});\n        }\n        mergeDeep(target[key], source[key]);\n      } else {\n        Object.assign(target, {[key]: source[key]});\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n}\n","\n/**\n * Applies CSS prefixes to appropriate style keys.\n * \n * Note: `-ms-`, `-moz` and `-webkit-box` are no longer supported. e.g.\n *    {\n *      display: -webkit-flex;     NEW - Safari 6.1+. iOS 7.1+, BB10\n *      display: flex;             NEW, Spec - Firefox, Chrome, Opera\n *      // display: -webkit-box;   OLD - iOS 6-, Safari 3.1-6, BB7\n *      // display: -ms-flexbox;   TWEENER - IE 10\n *      // display: -moz-flexbox;  OLD - Firefox\n *    }\n * @param {?} target\n * @return {?}\n */\nexport function applyCssPrefixes(target) {\n  for (const /** @type {?} */ key in target) {\n    let /** @type {?} */ value = target[key] || '';\n\n    switch (key) {\n      case 'display':\n        if (value === 'flex') {\n          target['display'] = [\n            '-webkit-flex',\n            'flex'\n          ];\n        } else if (value === 'inline-flex') {\n          target['display'] = [\n            '-webkit-inline-flex',\n            'inline-flex'\n          ];\n        } else {\n          target['display'] = value;\n        }\n        break;\n\n      case 'align-items':\n      case 'align-self':\n      case 'align-content':\n      case 'flex':\n      case 'flex-basis':\n      case 'flex-flow':\n      case 'flex-grow':\n      case 'flex-shrink':\n      case 'flex-wrap':\n      case 'justify-content':\n        target['-webkit-' + key] = value;\n        break;\n\n      case 'flex-direction':\n        value = value || 'row';\n        target['-webkit-flex-direction'] = value;\n        target['flex-direction'] = value;\n        break;\n\n      case 'order':\n        target['order'] = target['-webkit-' + key] = isNaN(value) ? '0' : value;\n        break;\n    }\n  }\n  return target;\n}\n\n// function prefixFlexDirection(target, value) {\n//   value = value || 'row';\n//   target['-webkit-flex-direction'] = value;\n//   target['flex-direction'] = value;\n//   return target;\n// }\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OverlayModule, Overlay } from '@angular/cdk/overlay';\nimport { ViewportRuler } from '@angular/cdk/scrolling';\n\nimport { Gallery } from './services/gallery.service';\nimport { GalleryConfig } from './models/index';\nimport { CONFIG } from './services/gallery.token';\n\nimport { GalleryComponent } from './components/gallery/gallery.component';\nimport { GalleryNavComponent } from './components/gallery-nav/gallery-nav.component';\nimport { GalleryThumbComponent } from './components/gallery-thumb/gallery-thumb.component';\nimport { GalleryTextComponent } from './components/gallery-text/gallery-text.component';\nimport { GalleryItemsComponent } from './components/gallery-items/gallery-items.component';\nimport { GalleryLoaderComponent } from './components/gallery-loader/gallery-loader.component';\nimport { GalleryBulletsComponent } from './components/gallery-bullets/gallery-bullets.component';\nimport { GalleryPlayerComponent } from './components/gallery-player/gallery-player.component';\nimport { GalleryMainComponent } from './components/gallery-main/gallery-main.component';\nimport { GallerySliderComponent } from './components/gallery-slider/gallery-slider.component';\nimport { GalleryLightboxComponent } from './components/gallery-lightbox/gallery-lightbox.component';\n\nimport { GallerizeDirective } from './directives/gallerize.directive';\nimport { TapDirective } from './directives/tap.directive';\nimport { LazyDirective } from './directives/lazy.directive';\n/**\n * Initialize Gallery with custom config\n * \n * @param {?} config\n * @param {?} overlay\n * @param {?} viewportRuler\n * @return {?}\n */\nexport function galleryFactory(config: GalleryConfig, overlay: Overlay, viewportRuler: ViewportRuler) {\n  return new Gallery(config, overlay, viewportRuler);\n}\nexport class GalleryModule {\n/**\n * @param {?=} config\n * @return {?}\n */\nstatic forRoot(config?: GalleryConfig): ModuleWithProviders {\n\n    return {\n      ngModule: GalleryModule,\n      providers: [\n        {provide: CONFIG, useValue: config},\n        {\n          provide: Gallery,\n          useFactory: galleryFactory,\n          deps: [CONFIG, Overlay, ViewportRuler]\n        }\n      ]\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule,\n    OverlayModule\n  ],\n  declarations: [\n    GalleryComponent,\n    GalleryNavComponent,\n    GalleryThumbComponent,\n    GalleryTextComponent,\n    GalleryItemsComponent,\n    GalleryLoaderComponent,\n    GalleryBulletsComponent,\n    GalleryPlayerComponent,\n    GalleryMainComponent,\n    GallerySliderComponent,\n    GalleryLightboxComponent,\n    GallerizeDirective,\n    TapDirective,\n    LazyDirective\n  ],\n  exports: [\n    GalleryComponent,\n    GallerizeDirective\n  ],\n  entryComponents: [\n    GalleryLightboxComponent\n  ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction GalleryModule_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport * as tslib_1 from \"tslib\";\nimport { throwNullPortalHostError, throwPortalAlreadyAttachedError, throwNoPortalAttachedError, throwNullPortalError, throwPortalHostAlreadyDisposedError, throwUnknownPortalTypeError } from './portal-errors';\n/**\n * A `Portal` is something that you want to render somewhere else.\n * It can be attach to / detached from a `PortalHost`.\n * @abstract\n */\nvar Portal = (function () {\n    function Portal() {\n    }\n    /**\n     * Attach this portal to a host.\n     * @param {?} host\n     * @return {?}\n     */\n    Portal.prototype.attach = function (host) {\n        if (host == null) {\n            throwNullPortalHostError();\n        }\n        if (host.hasAttached()) {\n            throwPortalAlreadyAttachedError();\n        }\n        this._attachedHost = host;\n        return (host.attach(this));\n    };\n    /**\n     * Detach this portal from its host\n     * @return {?}\n     */\n    Portal.prototype.detach = function () {\n        var /** @type {?} */ host = this._attachedHost;\n        if (host == null) {\n            throwNoPortalAttachedError();\n        }\n        else {\n            this._attachedHost = null;\n            host.detach();\n        }\n    };\n    Object.defineProperty(Portal.prototype, \"isAttached\", {\n        /**\n         * Whether this portal is attached to a host.\n         * @return {?}\n         */\n        get: function () {\n            return this._attachedHost != null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Sets the PortalHost reference without performing `attach()`. This is used directly by\n     * the PortalHost when it is performing an `attach()` or `detach()`.\n     * @param {?} host\n     * @return {?}\n     */\n    Portal.prototype.setAttachedHost = function (host) {\n        this._attachedHost = host;\n    };\n    return Portal;\n}());\nexport { Portal };\nfunction Portal_tsickle_Closure_declarations() {\n    /** @type {?} */\n    Portal.prototype._attachedHost;\n}\n/**\n * A `ComponentPortal` is a portal that instantiates some Component upon attachment.\n */\nvar ComponentPortal = (function (_super) {\n    tslib_1.__extends(ComponentPortal, _super);\n    /**\n     * @param {?} component\n     * @param {?=} viewContainerRef\n     * @param {?=} injector\n     */\n    function ComponentPortal(component, viewContainerRef, injector) {\n        var _this = _super.call(this) || this;\n        _this.component = component;\n        _this.viewContainerRef = viewContainerRef;\n        _this.injector = injector;\n        return _this;\n    }\n    return ComponentPortal;\n}(Portal));\nexport { ComponentPortal };\nfunction ComponentPortal_tsickle_Closure_declarations() {\n    /**\n     * The type of the component that will be instantiated for attachment.\n     * @type {?}\n     */\n    ComponentPortal.prototype.component;\n    /**\n     * [Optional] Where the attached component should live in Angular's *logical* component tree.\n     * This is different from where the component *renders*, which is determined by the PortalHost.\n     * The origin is necessary when the host is outside of the Angular application context.\n     * @type {?}\n     */\n    ComponentPortal.prototype.viewContainerRef;\n    /**\n     * [Optional] Injector used for the instantiation of the component.\n     * @type {?}\n     */\n    ComponentPortal.prototype.injector;\n}\n/**\n * A `TemplatePortal` is a portal that represents some embedded template (TemplateRef).\n */\nvar TemplatePortal = (function (_super) {\n    tslib_1.__extends(TemplatePortal, _super);\n    /**\n     * @param {?} template\n     * @param {?} viewContainerRef\n     * @param {?=} context\n     */\n    function TemplatePortal(template, viewContainerRef, context) {\n        var _this = _super.call(this) || this;\n        _this.templateRef = template;\n        _this.viewContainerRef = viewContainerRef;\n        if (context) {\n            _this.context = context;\n        }\n        return _this;\n    }\n    Object.defineProperty(TemplatePortal.prototype, \"origin\", {\n        /**\n         * @return {?}\n         */\n        get: function () {\n            return this.templateRef.elementRef;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Attach the the portal to the provided `PortalHost`.\n     * When a context is provided it will override the `context` property of the `TemplatePortal`\n     * instance.\n     * @param {?} host\n     * @param {?=} context\n     * @return {?}\n     */\n    TemplatePortal.prototype.attach = function (host, context) {\n        if (context === void 0) { context = this.context; }\n        this.context = context;\n        return _super.prototype.attach.call(this, host);\n    };\n    /**\n     * @return {?}\n     */\n    TemplatePortal.prototype.detach = function () {\n        this.context = undefined;\n        return _super.prototype.detach.call(this);\n    };\n    return TemplatePortal;\n}(Portal));\nexport { TemplatePortal };\nfunction TemplatePortal_tsickle_Closure_declarations() {\n    /**\n     * The embedded template that will be used to instantiate an embedded View in the host.\n     * @type {?}\n     */\n    TemplatePortal.prototype.templateRef;\n    /**\n     * Reference to the ViewContainer into which the template will be stamped out.\n     * @type {?}\n     */\n    TemplatePortal.prototype.viewContainerRef;\n    /** @type {?} */\n    TemplatePortal.prototype.context;\n}\n/**\n * Partial implementation of PortalHost that only deals with attaching either a\n * ComponentPortal or a TemplatePortal.\n * @abstract\n */\nvar BasePortalHost = (function () {\n    function BasePortalHost() {\n        /**\n         * Whether this host has already been permanently disposed.\n         */\n        this._isDisposed = false;\n    }\n    /**\n     * Whether this host has an attached portal.\n     * @return {?}\n     */\n    BasePortalHost.prototype.hasAttached = function () {\n        return !!this._attachedPortal;\n    };\n    /**\n     * @param {?} portal\n     * @return {?}\n     */\n    BasePortalHost.prototype.attach = function (portal) {\n        if (!portal) {\n            throwNullPortalError();\n        }\n        if (this.hasAttached()) {\n            throwPortalAlreadyAttachedError();\n        }\n        if (this._isDisposed) {\n            throwPortalHostAlreadyDisposedError();\n        }\n        if (portal instanceof ComponentPortal) {\n            this._attachedPortal = portal;\n            return this.attachComponentPortal(portal);\n        }\n        else if (portal instanceof TemplatePortal) {\n            this._attachedPortal = portal;\n            return this.attachTemplatePortal(portal);\n        }\n        throwUnknownPortalTypeError();\n    };\n    /**\n     * @abstract\n     * @template T\n     * @param {?} portal\n     * @return {?}\n     */\n    BasePortalHost.prototype.attachComponentPortal = function (portal) { };\n    /**\n     * @abstract\n     * @template C\n     * @param {?} portal\n     * @return {?}\n     */\n    BasePortalHost.prototype.attachTemplatePortal = function (portal) { };\n    /**\n     * @return {?}\n     */\n    BasePortalHost.prototype.detach = function () {\n        if (this._attachedPortal) {\n            this._attachedPortal.setAttachedHost(null);\n            this._attachedPortal = null;\n        }\n        this._invokeDisposeFn();\n    };\n    /**\n     * @return {?}\n     */\n    BasePortalHost.prototype.dispose = function () {\n        if (this.hasAttached()) {\n            this.detach();\n        }\n        this._invokeDisposeFn();\n        this._isDisposed = true;\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    BasePortalHost.prototype.setDisposeFn = function (fn) {\n        this._disposeFn = fn;\n    };\n    /**\n     * @return {?}\n     */\n    BasePortalHost.prototype._invokeDisposeFn = function () {\n        if (this._disposeFn) {\n            this._disposeFn();\n            this._disposeFn = null;\n        }\n    };\n    return BasePortalHost;\n}());\nexport { BasePortalHost };\nfunction BasePortalHost_tsickle_Closure_declarations() {\n    /**\n     * The portal currently attached to the host.\n     * @type {?}\n     */\n    BasePortalHost.prototype._attachedPortal;\n    /**\n     * A function that will permanently dispose this host.\n     * @type {?}\n     */\n    BasePortalHost.prototype._disposeFn;\n    /**\n     * Whether this host has already been permanently disposed.\n     * @type {?}\n     */\n    BasePortalHost.prototype._isDisposed;\n}\n//# sourceMappingURL=portal.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport * as tslib_1 from \"tslib\";\nimport { BasePortalHost } from './portal';\n/**\n * A PortalHost for attaching portals to an arbitrary DOM element outside of the Angular\n * application context.\n *\n * This is the only part of the portal core that directly touches the DOM.\n */\nvar DomPortalHost = (function (_super) {\n    tslib_1.__extends(DomPortalHost, _super);\n    /**\n     * @param {?} _hostDomElement\n     * @param {?} _componentFactoryResolver\n     * @param {?} _appRef\n     * @param {?} _defaultInjector\n     */\n    function DomPortalHost(_hostDomElement, _componentFactoryResolver, _appRef, _defaultInjector) {\n        var _this = _super.call(this) || this;\n        _this._hostDomElement = _hostDomElement;\n        _this._componentFactoryResolver = _componentFactoryResolver;\n        _this._appRef = _appRef;\n        _this._defaultInjector = _defaultInjector;\n        return _this;\n    }\n    /**\n     * Attach the given ComponentPortal to DOM element using the ComponentFactoryResolver.\n     * @template T\n     * @param {?} portal Portal to be attached\n     * @return {?}\n     */\n    DomPortalHost.prototype.attachComponentPortal = function (portal) {\n        var _this = this;\n        var /** @type {?} */ componentFactory = this._componentFactoryResolver.resolveComponentFactory(portal.component);\n        var /** @type {?} */ componentRef;\n        // If the portal specifies a ViewContainerRef, we will use that as the attachment point\n        // for the component (in terms of Angular's component tree, not rendering).\n        // When the ViewContainerRef is missing, we use the factory to create the component directly\n        // and then manually attach the view to the application.\n        if (portal.viewContainerRef) {\n            componentRef = portal.viewContainerRef.createComponent(componentFactory, portal.viewContainerRef.length, portal.injector || portal.viewContainerRef.parentInjector);\n            this.setDisposeFn(function () { return componentRef.destroy(); });\n        }\n        else {\n            componentRef = componentFactory.create(portal.injector || this._defaultInjector);\n            this._appRef.attachView(componentRef.hostView);\n            this.setDisposeFn(function () {\n                _this._appRef.detachView(componentRef.hostView);\n                componentRef.destroy();\n            });\n        }\n        // At this point the component has been instantiated, so we move it to the location in the DOM\n        // where we want it to be rendered.\n        this._hostDomElement.appendChild(this._getComponentRootNode(componentRef));\n        return componentRef;\n    };\n    /**\n     * Attaches a template portal to the DOM as an embedded view.\n     * @template C\n     * @param {?} portal Portal to be attached.\n     * @return {?}\n     */\n    DomPortalHost.prototype.attachTemplatePortal = function (portal) {\n        var _this = this;\n        var /** @type {?} */ viewContainer = portal.viewContainerRef;\n        var /** @type {?} */ viewRef = viewContainer.createEmbeddedView(portal.templateRef, portal.context);\n        viewRef.detectChanges();\n        // The method `createEmbeddedView` will add the view as a child of the viewContainer.\n        // But for the DomPortalHost the view can be added everywhere in the DOM (e.g Overlay Container)\n        // To move the view to the specified host element. We just re-append the existing root nodes.\n        viewRef.rootNodes.forEach(function (rootNode) { return _this._hostDomElement.appendChild(rootNode); });\n        this.setDisposeFn((function () {\n            var /** @type {?} */ index = viewContainer.indexOf(viewRef);\n            if (index !== -1) {\n                viewContainer.remove(index);\n            }\n        }));\n        // TODO(jelbourn): Return locals from view.\n        return viewRef;\n    };\n    /**\n     * Clears out a portal from the DOM.\n     * @return {?}\n     */\n    DomPortalHost.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        if (this._hostDomElement.parentNode != null) {\n            this._hostDomElement.parentNode.removeChild(this._hostDomElement);\n        }\n    };\n    /**\n     * Gets the root HTMLElement for an instantiated component.\n     * @param {?} componentRef\n     * @return {?}\n     */\n    DomPortalHost.prototype._getComponentRootNode = function (componentRef) {\n        return (((componentRef.hostView)).rootNodes[0]);\n    };\n    return DomPortalHost;\n}(BasePortalHost));\nexport { DomPortalHost };\nfunction DomPortalHost_tsickle_Closure_declarations() {\n    /** @type {?} */\n    DomPortalHost.prototype._hostDomElement;\n    /** @type {?} */\n    DomPortalHost.prototype._componentFactoryResolver;\n    /** @type {?} */\n    DomPortalHost.prototype._appRef;\n    /** @type {?} */\n    DomPortalHost.prototype._defaultInjector;\n}\n//# sourceMappingURL=dom-portal-host.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport * as tslib_1 from \"tslib\";\nimport { NgModule, Directive, TemplateRef, ComponentFactoryResolver, ViewContainerRef, Input, } from '@angular/core';\nimport { TemplatePortal, BasePortalHost } from './portal';\n/**\n * Directive version of a `TemplatePortal`. Because the directive *is* a TemplatePortal,\n * the directive instance itself can be attached to a host, enabling declarative use of portals.\n *\n * Usage:\n * <ng-template portal #greeting>\n *   <p> Hello {{name}} </p>\n * </ng-template>\n */\nvar TemplatePortalDirective = (function (_super) {\n    tslib_1.__extends(TemplatePortalDirective, _super);\n    /**\n     * @param {?} templateRef\n     * @param {?} viewContainerRef\n     */\n    function TemplatePortalDirective(templateRef, viewContainerRef) {\n        return _super.call(this, templateRef, viewContainerRef) || this;\n    }\n    TemplatePortalDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[cdk-portal], [cdkPortal], [portal]',\n                    exportAs: 'cdkPortal',\n                },] },\n    ];\n    /**\n     * @nocollapse\n     */\n    TemplatePortalDirective.ctorParameters = function () { return [\n        { type: TemplateRef, },\n        { type: ViewContainerRef, },\n    ]; };\n    return TemplatePortalDirective;\n}(TemplatePortal));\nexport { TemplatePortalDirective };\nfunction TemplatePortalDirective_tsickle_Closure_declarations() {\n    /** @type {?} */\n    TemplatePortalDirective.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    TemplatePortalDirective.ctorParameters;\n}\n/**\n * Directive version of a PortalHost. Because the directive *is* a PortalHost, portals can be\n * directly attached to it, enabling declarative use.\n *\n * Usage:\n * <ng-template [cdkPortalHost]=\"greeting\"></ng-template>\n */\nvar PortalHostDirective = (function (_super) {\n    tslib_1.__extends(PortalHostDirective, _super);\n    /**\n     * @param {?} _componentFactoryResolver\n     * @param {?} _viewContainerRef\n     */\n    function PortalHostDirective(_componentFactoryResolver, _viewContainerRef) {\n        var _this = _super.call(this) || this;\n        _this._componentFactoryResolver = _componentFactoryResolver;\n        _this._viewContainerRef = _viewContainerRef;\n        /**\n         * The attached portal.\n         */\n        _this._portal = null;\n        return _this;\n    }\n    Object.defineProperty(PortalHostDirective.prototype, \"_deprecatedPortal\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.portal; },\n        /**\n         * @param {?} v\n         * @return {?}\n         */\n        set: function (v) { this.portal = v; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PortalHostDirective.prototype, \"portal\", {\n        /**\n         * Portal associated with the Portal host.\n         * @return {?}\n         */\n        get: function () {\n            return this._portal;\n        },\n        /**\n         * @param {?} portal\n         * @return {?}\n         */\n        set: function (portal) {\n            if (this.hasAttached()) {\n                _super.prototype.detach.call(this);\n            }\n            if (portal) {\n                _super.prototype.attach.call(this, portal);\n            }\n            this._portal = portal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @return {?}\n     */\n    PortalHostDirective.prototype.ngOnDestroy = function () {\n        _super.prototype.dispose.call(this);\n        this._portal = null;\n    };\n    /**\n     * Attach the given ComponentPortal to this PortalHost using the ComponentFactoryResolver.\n     *\n     * @template T\n     * @param {?} portal Portal to be attached to the portal host.\n     * @return {?}\n     */\n    PortalHostDirective.prototype.attachComponentPortal = function (portal) {\n        portal.setAttachedHost(this);\n        // If the portal specifies an origin, use that as the logical location of the component\n        // in the application tree. Otherwise use the location of this PortalHost.\n        var /** @type {?} */ viewContainerRef = portal.viewContainerRef != null ?\n            portal.viewContainerRef :\n            this._viewContainerRef;\n        var /** @type {?} */ componentFactory = this._componentFactoryResolver.resolveComponentFactory(portal.component);\n        var /** @type {?} */ ref = viewContainerRef.createComponent(componentFactory, viewContainerRef.length, portal.injector || viewContainerRef.parentInjector);\n        _super.prototype.setDisposeFn.call(this, function () { return ref.destroy(); });\n        this._portal = portal;\n        return ref;\n    };\n    /**\n     * Attach the given TemplatePortal to this PortlHost as an embedded View.\n     * @template C\n     * @param {?} portal Portal to be attached.\n     * @return {?}\n     */\n    PortalHostDirective.prototype.attachTemplatePortal = function (portal) {\n        var _this = this;\n        portal.setAttachedHost(this);\n        var /** @type {?} */ viewRef = this._viewContainerRef.createEmbeddedView(portal.templateRef, portal.context);\n        _super.prototype.setDisposeFn.call(this, function () { return _this._viewContainerRef.clear(); });\n        this._portal = portal;\n        return viewRef;\n    };\n    PortalHostDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[cdkPortalHost], [portalHost]',\n                    exportAs: 'cdkPortalHost',\n                    inputs: ['portal: cdkPortalHost']\n                },] },\n    ];\n    /**\n     * @nocollapse\n     */\n    PortalHostDirective.ctorParameters = function () { return [\n        { type: ComponentFactoryResolver, },\n        { type: ViewContainerRef, },\n    ]; };\n    PortalHostDirective.propDecorators = {\n        '_deprecatedPortal': [{ type: Input, args: ['portalHost',] },],\n    };\n    return PortalHostDirective;\n}(BasePortalHost));\nexport { PortalHostDirective };\nfunction PortalHostDirective_tsickle_Closure_declarations() {\n    /** @type {?} */\n    PortalHostDirective.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    PortalHostDirective.ctorParameters;\n    /** @type {?} */\n    PortalHostDirective.propDecorators;\n    /**\n     * The attached portal.\n     * @type {?}\n     */\n    PortalHostDirective.prototype._portal;\n    /** @type {?} */\n    PortalHostDirective.prototype._componentFactoryResolver;\n    /** @type {?} */\n    PortalHostDirective.prototype._viewContainerRef;\n}\nvar PortalModule = (function () {\n    function PortalModule() {\n    }\n    PortalModule.decorators = [\n        { type: NgModule, args: [{\n                    exports: [TemplatePortalDirective, PortalHostDirective],\n                    declarations: [TemplatePortalDirective, PortalHostDirective],\n                },] },\n    ];\n    /**\n     * @nocollapse\n     */\n    PortalModule.ctorParameters = function () { return []; };\n    return PortalModule;\n}());\nexport { PortalModule };\nfunction PortalModule_tsickle_Closure_declarations() {\n    /** @type {?} */\n    PortalModule.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    PortalModule.ctorParameters;\n}\n//# sourceMappingURL=portal-directives.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Injectable } from '@angular/core';\n// Whether the current platform supports the V8 Break Iterator. The V8 check\n// is necessary to detect all Blink based browsers.\nvar /** @type {?} */ hasV8BreakIterator = (typeof (Intl) !== 'undefined' && ((Intl)).v8BreakIterator);\n/**\n * Service to detect the current platform by comparing the userAgent strings and\n * checking browser-specific global properties.\n * \\@docs-private\n */\nvar Platform = (function () {\n    function Platform() {\n        this.isBrowser = typeof document === 'object' && !!document;\n        /**\n         * Layout Engines\n         */\n        this.EDGE = this.isBrowser && /(edge)/i.test(navigator.userAgent);\n        this.TRIDENT = this.isBrowser && /(msie|trident)/i.test(navigator.userAgent);\n        // EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.\n        this.BLINK = this.isBrowser &&\n            (!!(((window)).chrome || hasV8BreakIterator) && !!CSS && !this.EDGE && !this.TRIDENT);\n        // Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to\n        // ensure that Webkit runs standalone and is not used as another engine's base.\n        this.WEBKIT = this.isBrowser &&\n            /AppleWebKit/i.test(navigator.userAgent) && !this.BLINK && !this.EDGE && !this.TRIDENT;\n        /**\n         * Browsers and Platform Types\n         */\n        this.IOS = this.isBrowser && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n        // It's difficult to detect the plain Gecko engine, because most of the browsers identify\n        // them self as Gecko-like browsers and modify the userAgent's according to that.\n        // Since we only cover one explicit Firefox case, we can simply check for Firefox\n        // instead of having an unstable check for Gecko.\n        this.FIREFOX = this.isBrowser && /(firefox|minefield)/i.test(navigator.userAgent);\n        // Trident on mobile adds the android platform to the userAgent to trick detections.\n        this.ANDROID = this.isBrowser && /android/i.test(navigator.userAgent) && !this.TRIDENT;\n        // Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake\n        // this and just place the Safari keyword in the userAgent. To be more safe about Safari every\n        // Safari browser should also use Webkit as its layout engine.\n        this.SAFARI = this.isBrowser && /safari/i.test(navigator.userAgent) && this.WEBKIT;\n    }\n    Platform.decorators = [\n        { type: Injectable },\n    ];\n    /**\n     * @nocollapse\n     */\n    Platform.ctorParameters = function () { return []; };\n    return Platform;\n}());\nexport { Platform };\nfunction Platform_tsickle_Closure_declarations() {\n    /** @type {?} */\n    Platform.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    Platform.ctorParameters;\n    /** @type {?} */\n    Platform.prototype.isBrowser;\n    /**\n     * Layout Engines\n     * @type {?}\n     */\n    Platform.prototype.EDGE;\n    /** @type {?} */\n    Platform.prototype.TRIDENT;\n    /** @type {?} */\n    Platform.prototype.BLINK;\n    /** @type {?} */\n    Platform.prototype.WEBKIT;\n    /**\n     * Browsers and Platform Types\n     * @type {?}\n     */\n    Platform.prototype.IOS;\n    /** @type {?} */\n    Platform.prototype.FIREFOX;\n    /** @type {?} */\n    Platform.prototype.ANDROID;\n    /** @type {?} */\n    Platform.prototype.SAFARI;\n}\n//# sourceMappingURL=platform.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Custom injector to be used when providing custom\n * injection tokens to components inside a portal.\n * \\@docs-private\n */\nvar PortalInjector = (function () {\n    /**\n     * @param {?} _parentInjector\n     * @param {?} _customTokens\n     */\n    function PortalInjector(_parentInjector, _customTokens) {\n        this._parentInjector = _parentInjector;\n        this._customTokens = _customTokens;\n    }\n    /**\n     * @param {?} token\n     * @param {?=} notFoundValue\n     * @return {?}\n     */\n    PortalInjector.prototype.get = function (token, notFoundValue) {\n        var /** @type {?} */ value = this._customTokens.get(token);\n        if (typeof value !== 'undefined') {\n            return value;\n        }\n        return this._parentInjector.get(token, notFoundValue);\n    };\n    return PortalInjector;\n}());\nexport { PortalInjector };\nfunction PortalInjector_tsickle_Closure_declarations() {\n    /** @type {?} */\n    PortalInjector.prototype._parentInjector;\n    /** @type {?} */\n    PortalInjector.prototype._customTokens;\n}\n//# sourceMappingURL=portal-injector.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { NgModule } from '@angular/core';\nimport { Platform } from './platform';\nvar PlatformModule = (function () {\n    function PlatformModule() {\n    }\n    PlatformModule.decorators = [\n        { type: NgModule, args: [{\n                    providers: [Platform]\n                },] },\n    ];\n    /**\n     * @nocollapse\n     */\n    PlatformModule.ctorParameters = function () { return []; };\n    return PlatformModule;\n}());\nexport { PlatformModule };\nfunction PlatformModule_tsickle_Closure_declarations() {\n    /** @type {?} */\n    PlatformModule.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    PlatformModule.ctorParameters;\n}\n//# sourceMappingURL=platform-module.js.map","export const isArray = Array.isArray || (<T>(x: any): x is T[] => x && typeof x.length === 'number');\n","export function isObject(x: any): x is Object {\n  return x != null && typeof x === 'object';\n}\n","export function isFunction(x: any): x is Function {\n  return typeof x === 'function';\n}\n","// typeof any so that it we don't have to cast when comparing a result to the error object\nexport var errorObject: any = { e: {} };","/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport class UnsubscriptionError extends Error {\n  constructor(public errors: any[]) {\n    super();\n    const err: any = Error.call(this, errors ?\n      `${errors.length} errors occurred during unsubscription:\n  ${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}` : '');\n    (<any> this).name = err.name = 'UnsubscriptionError';\n    (<any> this).stack = err.stack;\n    (<any> this).message = err.message;\n  }\n}\n","import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { tryCatch } from './util/tryCatch';\nimport { errorObject } from './util/errorObject';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\n\nexport interface AnonymousSubscription {\n  unsubscribe(): void;\n}\n\nexport type TeardownLogic = AnonymousSubscription | Function | void;\n\nexport interface ISubscription extends AnonymousSubscription {\n  unsubscribe(): void;\n  closed: boolean;\n}\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements ISubscription {\n  public static EMPTY: Subscription = (function(empty: any){\n    empty.closed = true;\n    return empty;\n  }(new Subscription()));\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   * @type {boolean}\n   */\n  public closed: boolean = false;\n\n  /**\n   * @param {function(): void} [unsubscribe] A function describing how to\n   * perform the disposal of resources when the `unsubscribe` method is called.\n   */\n  constructor(unsubscribe?: () => void) {\n    if (unsubscribe) {\n      (<any> this)._unsubscribe = unsubscribe;\n    }\n  }\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let hasErrors = false;\n    let errors: any[];\n\n    if (this.closed) {\n      return;\n    }\n\n    this.closed = true;\n\n    const { _unsubscribe, _subscriptions } = (<any> this);\n\n    (<any> this)._subscriptions = null;\n\n    if (isFunction(_unsubscribe)) {\n      let trial = tryCatch(_unsubscribe).call(this);\n      if (trial === errorObject) {\n        hasErrors = true;\n        (errors = errors || []).push(errorObject.e);\n      }\n    }\n\n    if (isArray(_subscriptions)) {\n\n      let index = -1;\n      const len = _subscriptions.length;\n\n      while (++index < len) {\n        const sub = _subscriptions[index];\n        if (isObject(sub)) {\n          let trial = tryCatch(sub.unsubscribe).call(sub);\n          if (trial === errorObject) {\n            hasErrors = true;\n            errors = errors || [];\n            let err = errorObject.e;\n            if (err instanceof UnsubscriptionError) {\n              errors = errors.concat(err.errors);\n            } else {\n              errors.push(err);\n            }\n          }\n        }\n      }\n    }\n\n    if (hasErrors) {\n      throw new UnsubscriptionError(errors);\n    }\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription.\n   *\n   * If the tear down being added is a subscription that is already\n   * unsubscribed, is the same reference `add` is being called on, or is\n   * `Subscription.EMPTY`, it will not be added.\n   *\n   * If this subscription is already in an `closed` state, the passed\n   * tear down logic will be executed immediately.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown: TeardownLogic): Subscription {\n    if (!teardown || (teardown === Subscription.EMPTY)) {\n      return Subscription.EMPTY;\n    }\n\n    if (teardown === this) {\n      return this;\n    }\n\n    let sub = (<Subscription> teardown);\n\n    switch (typeof teardown) {\n      case 'function':\n        sub = new Subscription(<(() => void) > teardown);\n      case 'object':\n        if (sub.closed || typeof sub.unsubscribe !== 'function') {\n          break;\n        } else if (this.closed) {\n          sub.unsubscribe();\n        } else {\n          ((<any> this)._subscriptions || ((<any> this)._subscriptions = [])).push(sub);\n        }\n        break;\n      default:\n        throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n    }\n\n    return sub;\n  }\n\n  /**\n   * Removes a Subscription from the internal list of subscriptions that will\n   * unsubscribe during the unsubscribe process of this Subscription.\n   * @param {Subscription} subscription The subscription to remove.\n   * @return {void}\n   */\n  remove(subscription: Subscription): void {\n\n    // HACK: This might be redundant because of the logic in `add()`\n    if (subscription == null   || (\n        subscription === this) || (\n        subscription === Subscription.EMPTY)) {\n      return;\n    }\n\n    const subscriptions = (<any> this)._subscriptions;\n\n    if (subscriptions) {\n      const subscriptionIndex = subscriptions.indexOf(subscription);\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  }\n}\n","declare let global: NodeJS.Global;\n\ndeclare module NodeJS {\n  interface Global {\n    window: any;\n    global: any;\n  }\n}\n\n/**\n * window: browser in DOM main thread\n * self: browser in WebWorker\n * global: Node.js/other\n */\nexport const root: any = (\n     typeof window == 'object' && window.window === window && window\n  || typeof self == 'object' && self.self === self && self\n  || typeof global == 'object' && global.global === global && global\n);\n\nif (!root) {\n  throw new Error('RxJS could not find any global context (window, self, global)');\n}\n","export interface NextObserver<T> {\n  closed?: boolean;\n  next: (value: T) => void;\n  error?: (err: any) => void;\n  complete?: () => void;\n}\n\nexport interface ErrorObserver<T> {\n  closed?: boolean;\n  next?: (value: T) => void;\n  error: (err: any) => void;\n  complete?: () => void;\n}\n\nexport interface CompletionObserver<T> {\n  closed?: boolean;\n  next?: (value: T) => void;\n  error?: (err: any) => void;\n  complete: () => void;\n}\n\nexport type PartialObserver<T> = NextObserver<T> | ErrorObserver<T> | CompletionObserver<T>;\n\nexport interface Observer<T> {\n  closed?: boolean;\n  next: (value: T) => void;\n  error: (err: any) => void;\n  complete: () => void;\n}\n\nexport const empty: Observer<any> = {\n  closed: true,\n  next(value: any): void { /* noop */},\n  error(err: any): void { throw err; },\n  complete(): void { /*noop*/ }\n};\n","import { root } from '../util/root';\n\nconst Symbol: any = root.Symbol;\n\nexport const $$rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n  Symbol.for('rxSubscriber') : '@@rxSubscriber';\n","import { isFunction } from './util/isFunction';\nimport { Observer, PartialObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { empty as emptyObserver } from './Observer';\nimport { $$rxSubscriber } from './symbol/rxSubscriber';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [$$rxSubscriber]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  public syncErrorValue: any = null;\n  public syncErrorThrown: boolean = false;\n  public syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.destination = (<Subscriber<any>> destinationOrNext);\n            (<any> this.destination).add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached {@link Error}. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parent: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      context = observerOrNext;\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (isFunction(context.unsubscribe)) {\n        this.add(<() => void> context.unsubscribe.bind(context));\n      }\n      context.unsubscribe = this.unsubscribe.bind(this);\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parent } = this;\n      if (!_parent.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parent, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parent } = this;\n      if (this._error) {\n        if (!_parent.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parent, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parent.syncErrorThrowable) {\n        this.unsubscribe();\n        throw err;\n      } else {\n        _parent.syncErrorValue = err;\n        _parent.syncErrorThrown = true;\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parent } = this;\n      if (this._complete) {\n        if (!_parent.syncErrorThrowable) {\n          this.__tryOrUnsub(this._complete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parent, this._complete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      throw err;\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      parent.syncErrorValue = err;\n      parent.syncErrorThrown = true;\n      return true;\n    }\n    return false;\n  }\n\n  protected _unsubscribe(): void {\n    const { _parent } = this;\n    this._context = null;\n    this._parent = null;\n    _parent.unsubscribe();\n  }\n}\n","import { Subscriber } from '../Subscriber';\nimport { $$rxSubscriber } from '../symbol/rxSubscriber';\nimport { PartialObserver, empty as emptyObserver } from '../Observer';\n\nexport function toSubscriber<T>(\n  nextOrObserver?: PartialObserver<T> | ((value: T) => void),\n  error?: (error: any) => void,\n  complete?: () => void): Subscriber<T> {\n\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber) {\n      return (<Subscriber<T>> nextOrObserver);\n    }\n\n    if (nextOrObserver[$$rxSubscriber]) {\n      return nextOrObserver[$$rxSubscriber]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber(emptyObserver);\n  }\n\n  return new Subscriber(nextOrObserver, error, complete);\n}\n","import { PartialObserver } from './Observer';\nimport { Operator } from './Operator';\nimport { Subscriber } from './Subscriber';\nimport { Subscription, AnonymousSubscription, TeardownLogic } from './Subscription';\nimport { root } from './util/root';\nimport { toSubscriber } from './util/toSubscriber';\nimport { IfObservable } from './observable/IfObservable';\nimport { ErrorObservable } from './observable/ErrorObservable';\nimport { $$observable } from './symbol/observable';\n\nexport interface Subscribable<T> {\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): AnonymousSubscription;\n}\n\nexport type SubscribableOrPromise<T> = Subscribable<T> | PromiseLike<T>;\nexport type ObservableInput<T> = SubscribableOrPromise<T> | ArrayLike<T>;\n\n/**\n * A representation of any set of values over any amount of time. This the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nexport class Observable<T> implements Subscribable<T> {\n\n  public _isScalar: boolean = false;\n\n  protected source: Observable<any>;\n  protected operator: Operator<any, T>;\n\n  /**\n   * @constructor\n   * @param {Function} subscribe the function that is  called when the Observable is\n   * initially subscribed to. This function is given a Subscriber, to which new values\n   * can be `next`ed, or an `error` method can be called to raise an error, or\n   * `complete` can be called to notify of a successful completion.\n   */\n  constructor(subscribe?: <R>(this: Observable<T>, subscriber: Subscriber<R>) => TeardownLogic) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  // HACK: Since TypeScript inherits static properties too, we have to\n  // fight against TypeScript here so Subject can have a different static create signature\n  /**\n   * Creates a new cold Observable by calling the Observable constructor\n   * @static true\n   * @owner Observable\n   * @method create\n   * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n   * @return {Observable} a new cold observable\n   */\n  static create: Function = <T>(subscribe?: <R>(subscriber: Subscriber<R>) => TeardownLogic) => {\n    return new Observable<T>(subscribe);\n  };\n\n  /**\n   * Creates a new Observable, with this Observable as the source, and the passed\n   * operator defined as the new observable's operator.\n   * @method lift\n   * @param {Operator} operator the operator defining the operation to take on the observable\n   * @return {Observable} a new observable with the Operator applied\n   */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const observable = new Observable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n\n  /**\n   * Registers handlers for handling emitted values, error and completions from the observable, and\n   *  executes the observable's subscriber function, which will take action to set up the underlying data stream\n   * @method subscribe\n   * @param {PartialObserver|Function} observerOrNext (optional) either an observer defining all functions to be called,\n   *  or the first of three possible handlers, which is the handler for each value emitted from the observable.\n   * @param {Function} error (optional) a handler for a terminal event resulting from an error. If no error handler is provided,\n   *  the error will be thrown as unhandled\n   * @param {Function} complete (optional) a handler for a terminal event resulting from successful completion.\n   * @return {ISubscription} a subscription reference to the registered handlers\n   */\n  subscribe(): Subscription;\n  subscribe(observer: PartialObserver<T>): Subscription;\n  subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription;\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): Subscription {\n\n    const { operator } = this;\n    const sink = toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      operator.call(sink, this.source);\n    } else {\n      sink.add(this._subscribe(sink));\n    }\n\n    if (sink.syncErrorThrowable) {\n      sink.syncErrorThrowable = false;\n      if (sink.syncErrorThrown) {\n        throw sink.syncErrorValue;\n      }\n    }\n\n    return sink;\n  }\n\n  /**\n   * @method forEach\n   * @param {Function} next a handler for each value emitted by the observable\n   * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n   * @return {Promise} a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   */\n  forEach(next: (value: T) => void, PromiseCtor?: typeof Promise): Promise<void> {\n    if (!PromiseCtor) {\n      if (root.Rx && root.Rx.config && root.Rx.config.Promise) {\n        PromiseCtor = root.Rx.config.Promise;\n      } else if (root.Promise) {\n        PromiseCtor = root.Promise;\n      }\n    }\n\n    if (!PromiseCtor) {\n      throw new Error('no Promise impl found');\n    }\n\n    return new PromiseCtor<void>((resolve, reject) => {\n      const subscription = this.subscribe((value) => {\n        if (subscription) {\n          // if there is a subscription, then we can surmise\n          // the next handling is asynchronous. Any errors thrown\n          // need to be rejected explicitly and unsubscribe must be\n          // called manually\n          try {\n            next(value);\n          } catch (err) {\n            reject(err);\n            subscription.unsubscribe();\n          }\n        } else {\n          // if there is NO subscription, then we're getting a nexted\n          // value synchronously during subscription. We can just call it.\n          // If it errors, Observable's `subscribe` will ensure the\n          // unsubscription logic is called, then synchronously rethrow the error.\n          // After that, Promise will trap the error and send it\n          // down the rejection path.\n          next(value);\n        }\n      }, reject, resolve);\n    });\n  }\n\n  protected _subscribe(subscriber: Subscriber<any>): TeardownLogic {\n    return this.source.subscribe(subscriber);\n  }\n\n  // `if` and `throw` are special snow flakes, the compiler sees them as reserved words\n  static if: typeof IfObservable.create;\n  static throw: typeof ErrorObservable.create;\n\n  /**\n   * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n   * @method Symbol.observable\n   * @return {Observable} this instance of the observable\n   */\n  [$$observable]() {\n    return this;\n  }\n}\n","import {  FromEventObservable  } from './FromEventObservable';\n\nexport const fromEvent = FromEventObservable.create;","import { Scheduler } from '../Scheduler';\nimport { Subscription } from '../Subscription';\n\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nexport class Action<T> extends Subscription {\n  constructor(scheduler: Scheduler, work: (this: Action<T>, state?: T) => void) {\n    super();\n  }\n  /**\n   * Schedules this action on its parent Scheduler for execution. May be passed\n   * some context object, `state`. May happen at some point in the future,\n   * according to the `delay` parameter, if specified.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler.\n   * @return {void}\n   */\n  public schedule(state?: T, delay: number = 0): Subscription {\n    return this;\n  }\n}\n","import { root } from '../util/root';\nimport { Action } from './Action';\nimport { Subscription } from '../Subscription';\nimport { AsyncScheduler } from './AsyncScheduler';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class AsyncAction<T> extends Action<T> {\n\n  public id: any;\n  public state: T;\n  public delay: number;\n  protected pending: boolean = false;\n\n  constructor(protected scheduler: AsyncScheduler,\n              protected work: (this: AsyncAction<T>, state?: T) => void) {\n    super(scheduler, work);\n  }\n\n  public schedule(state?: T, delay: number = 0): Subscription {\n\n    if (this.closed) {\n      return this;\n     }\n\n    // Always replace the current state with the new state.\n    this.state = state;\n\n    // Set the pending flag indicating that this action has been scheduled, or\n    // has recursively rescheduled itself.\n    this.pending = true;\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n\n    //\n    // Important implementation note:\n    //\n    // Actions only execute once by default, unless rescheduled from within the\n    // scheduled callback. This allows us to implement single and repeat\n    // actions via the same code path, without adding API surface area, as well\n    // as mimic traditional recursion but across asynchronous boundaries.\n    //\n    // However, JS runtimes and timers distinguish between intervals achieved by\n    // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n    // serial `setTimeout` calls can be individually delayed, which delays\n    // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n    // guarantee the interval callback will be invoked more precisely to the\n    // interval period, regardless of load.\n    //\n    // Therefore, we use `setInterval` to schedule single and repeat actions.\n    // If the action reschedules itself with the same delay, the interval is not\n    // canceled. If the action doesn't reschedule, or reschedules with a\n    // different delay, the interval will be canceled after scheduled callback\n    // execution.\n    //\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, delay);\n    }\n\n    this.delay = delay;\n    // If this action has already an async Id, don't request a new one.\n    this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n\n    return this;\n  }\n\n  protected requestAsyncId(scheduler: AsyncScheduler, id?: any, delay: number = 0): any {\n    return root.setInterval(scheduler.flush.bind(scheduler, this), delay);\n  }\n\n  protected recycleAsyncId(scheduler: AsyncScheduler, id: any, delay: number = 0): any {\n    // If this action is rescheduled with the same delay time, don't clear the interval id.\n    if (delay !== null && this.delay === delay) {\n      return id;\n    }\n    // Otherwise, if the action's delay time is different from the current delay,\n    // clear the interval id\n    return root.clearInterval(id) && undefined || undefined;\n  }\n\n  /**\n   * Immediately executes this action and the `work` it contains.\n   * @return {any}\n   */\n  public execute(state: T, delay: number): any {\n\n    if (this.closed) {\n      return new Error('executing a cancelled action');\n    }\n\n    this.pending = false;\n    const error = this._execute(state, delay);\n    if (error) {\n      return error;\n    } else if (this.pending === false && this.id != null) {\n      // Dequeue if the action didn't reschedule itself. Don't call\n      // unsubscribe(), because the action could reschedule later.\n      // For example:\n      // ```\n      // scheduler.schedule(function doWork(counter) {\n      //   /* ... I'm a busy worker bee ... */\n      //   var originalAction = this;\n      //   /* wait 100ms before rescheduling the action */\n      //   setTimeout(function () {\n      //     originalAction.schedule(counter + 1);\n      //   }, 100);\n      // }, 1000);\n      // ```\n      this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n    }\n  }\n\n  protected _execute(state: T, delay: number): any {\n    let errored: boolean = false;\n    let errorValue: any = undefined;\n    try {\n      this.work(state);\n    } catch (e) {\n      errored = true;\n      errorValue = !!e && e || new Error(e);\n    }\n    if (errored) {\n      this.unsubscribe();\n      return errorValue;\n    }\n  }\n\n  protected _unsubscribe() {\n\n    const id = this.id;\n    const scheduler = this.scheduler;\n    const actions = scheduler.actions;\n    const index = actions.indexOf(this);\n\n    this.work  = null;\n    this.delay = null;\n    this.state = null;\n    this.pending = false;\n    this.scheduler = null;\n\n    if (index !== -1) {\n      actions.splice(index, 1);\n    }\n\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, null);\n    }\n  }\n}\n","import { Action } from './scheduler/Action';\nimport { Subscription } from './Subscription';\n\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n */\nexport class Scheduler {\n\n  public static now: () => number = Date.now ? Date.now : () => +new Date();\n\n  constructor(private SchedulerAction: typeof Action,\n              now: () => number = Scheduler.now) {\n    this.now = now;\n  }\n\n  /**\n   * A getter method that returns a number representing the current time\n   * (at the time this function was called) according to the scheduler's own\n   * internal clock.\n   * @return {number} A number that represents the current time. May or may not\n   * have a relation to wall-clock time. May or may not refer to a time unit\n   * (e.g. milliseconds).\n   */\n  public now: () => number;\n\n  /**\n   * Schedules a function, `work`, for execution. May happen at some point in\n   * the future, according to the `delay` parameter, if specified. May be passed\n   * some context object, `state`, which will be passed to the `work` function.\n   *\n   * The given arguments will be processed an stored as an Action object in a\n   * queue of actions.\n   *\n   * @param {function(state: ?T): ?Subscription} work A function representing a\n   * task, or some unit of work to be executed by the Scheduler.\n   * @param {number} [delay] Time to wait before executing the work, where the\n   * time unit is implicit and defined by the Scheduler itself.\n   * @param {T} [state] Some contextual data that the `work` function uses when\n   * called by the Scheduler.\n   * @return {Subscription} A subscription in order to be able to unsubscribe\n   * the scheduled work.\n   */\n  public schedule<T>(work: (this: Action<T>, state?: T) => void, delay: number = 0, state?: T): Subscription {\n    return new this.SchedulerAction<T>(this, work).schedule(state, delay);\n  }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\n\nexport const async = new AsyncScheduler(AsyncAction);\n","import { Scheduler } from '../Scheduler';\nimport { AsyncAction } from './AsyncAction';\n\nexport class AsyncScheduler extends Scheduler {\n  public actions: Array<AsyncAction<any>> = [];\n  /**\n   * A flag to indicate whether the Scheduler is currently executing a batch of\n   * queued actions.\n   * @type {boolean}\n   */\n  public active: boolean = false;\n  /**\n   * An internal ID used to track the latest asynchronous task such as those\n   * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n   * others.\n   * @type {any}\n   */\n  public scheduled: any = undefined;\n\n  public flush(action: AsyncAction<any>): void {\n\n    const {actions} = this;\n\n    if (this.active) {\n      actions.push(action);\n      return;\n    }\n\n    let error: any;\n    this.active = true;\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (action = actions.shift()); // exhaust the scheduler queue\n\n    this.active = false;\n\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n      throw error;\n    }\n  }\n}\n","import { Scheduler } from '../Scheduler';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { TeardownLogic } from '../Subscription';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class ScalarObservable<T> extends Observable<T> {\n  static create<T>(value: T, scheduler?: Scheduler): ScalarObservable<T> {\n    return new ScalarObservable(value, scheduler);\n  }\n\n  static dispatch(state: any): void {\n    const { done, value, subscriber } = state;\n\n    if (done) {\n      subscriber.complete();\n      return;\n    }\n\n    subscriber.next(value);\n    if (subscriber.closed) {\n      return;\n    }\n\n    state.done = true;\n    (<any> this).schedule(state);\n  }\n\n  _isScalar: boolean = true;\n\n  constructor(public value: T, private scheduler?: Scheduler) {\n    super();\n    if (scheduler) {\n      this._isScalar = false;\n    }\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>): TeardownLogic {\n    const value = this.value;\n    const scheduler = this.scheduler;\n\n    if (scheduler) {\n      return scheduler.schedule(ScalarObservable.dispatch, 0, {\n        done: false, value, subscriber\n      });\n    } else {\n      subscriber.next(value);\n      if (!subscriber.closed) {\n        subscriber.complete();\n      }\n    }\n  }\n}\n","import { Scheduler } from '../Scheduler';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { TeardownLogic } from '../Subscription';\n\nexport interface DispatchArg<T> {\n  subscriber: Subscriber<T>;\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class EmptyObservable<T> extends Observable<T> {\n\n  /**\n   * Creates an Observable that emits no items to the Observer and immediately\n   * emits a complete notification.\n   *\n   * <span class=\"informal\">Just emits 'complete', and nothing else.\n   * </span>\n   *\n   * <img src=\"./img/empty.png\" width=\"100%\">\n   *\n   * This static operator is useful for creating a simple Observable that only\n   * emits the complete notification. It can be used for composing with other\n   * Observables, such as in a {@link mergeMap}.\n   *\n   * @example <caption>Emit the number 7, then complete.</caption>\n   * var result = Rx.Observable.empty().startWith(7);\n   * result.subscribe(x => console.log(x));\n   *\n   * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n   * var interval = Rx.Observable.interval(1000);\n   * var result = interval.mergeMap(x =>\n   *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n   * );\n   * result.subscribe(x => console.log(x));\n   *\n   * // Results in the following to the console:\n   * // x is equal to the count on the interval eg(0,1,2,3,...)\n   * // x will occur every 1000ms\n   * // if x % 2 is equal to 1 print abc\n   * // if x % 2 is not equal to 1 nothing will be output\n   *\n   * @see {@link create}\n   * @see {@link never}\n   * @see {@link of}\n   * @see {@link throw}\n   *\n   * @param {Scheduler} [scheduler] A {@link Scheduler} to use for scheduling\n   * the emission of the complete notification.\n   * @return {Observable} An \"empty\" Observable: emits only the complete\n   * notification.\n   * @static true\n   * @name empty\n   * @owner Observable\n   */\n  static create<T>(scheduler?: Scheduler): Observable<T> {\n    return new EmptyObservable<T>(scheduler);\n  }\n\n  static dispatch<T>(arg: DispatchArg<T>) {\n    const { subscriber } = arg;\n    subscriber.complete();\n  }\n\n  constructor(private scheduler?: Scheduler) {\n    super();\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>): TeardownLogic {\n\n    const scheduler = this.scheduler;\n\n    if (scheduler) {\n      return scheduler.schedule(EmptyObservable.dispatch, 0, { subscriber });\n    } else {\n      subscriber.complete();\n    }\n  }\n}\n","import { Scheduler } from '../Scheduler';\nexport function isScheduler(value: any): value is Scheduler {\n  return value && typeof (<any>value).schedule === 'function';\n}\n","import { Scheduler } from '../Scheduler';\nimport { Observable } from '../Observable';\nimport { ScalarObservable } from './ScalarObservable';\nimport { EmptyObservable } from './EmptyObservable';\nimport { Subscriber } from '../Subscriber';\nimport { isScheduler } from '../util/isScheduler';\nimport { TeardownLogic } from '../Subscription';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nexport class ArrayObservable<T> extends Observable<T> {\n\n  static create<T>(array: T[], scheduler?: Scheduler): Observable<T> {\n    return new ArrayObservable(array, scheduler);\n  }\n\n  static of<T>(item1: T, scheduler?: Scheduler): Observable<T>;\n  static of<T>(item1: T, item2: T, scheduler?: Scheduler): Observable<T>;\n  static of<T>(item1: T, item2: T, item3: T, scheduler?: Scheduler): Observable<T>;\n  static of<T>(item1: T, item2: T, item3: T, item4: T, scheduler?: Scheduler): Observable<T>;\n  static of<T>(item1: T, item2: T, item3: T, item4: T, item5: T, scheduler?: Scheduler): Observable<T>;\n  static of<T>(item1: T, item2: T, item3: T, item4: T, item5: T, item6: T, scheduler?: Scheduler): Observable<T>;\n  static of<T>(...array: Array<T | Scheduler>): Observable<T>;\n  /**\n   * Creates an Observable that emits some values you specify as arguments,\n   * immediately one after the other, and then emits a complete notification.\n   *\n   * <span class=\"informal\">Emits the arguments you provide, then completes.\n   * </span>\n   *\n   * <img src=\"./img/of.png\" width=\"100%\">\n   *\n   * This static operator is useful for creating a simple Observable that only\n   * emits the arguments given, and the complete notification thereafter. It can\n   * be used for composing with other Observables, such as with {@link concat}.\n   * By default, it uses a `null` Scheduler, which means the `next`\n   * notifications are sent synchronously, although with a different Scheduler\n   * it is possible to determine when those notifications will be delivered.\n   *\n   * @example <caption>Emit 10, 20, 30, then 'a', 'b', 'c', then start ticking every second.</caption>\n   * var numbers = Rx.Observable.of(10, 20, 30);\n   * var letters = Rx.Observable.of('a', 'b', 'c');\n   * var interval = Rx.Observable.interval(1000);\n   * var result = numbers.concat(letters).concat(interval);\n   * result.subscribe(x => console.log(x));\n   *\n   * @see {@link create}\n   * @see {@link empty}\n   * @see {@link never}\n   * @see {@link throw}\n   *\n   * @param {...T} values Arguments that represent `next` values to be emitted.\n   * @param {Scheduler} [scheduler] A {@link Scheduler} to use for scheduling\n   * the emissions of the `next` notifications.\n   * @return {Observable<T>} An Observable that emits each given input value.\n   * @static true\n   * @name of\n   * @owner Observable\n   */\n  static of<T>(...array: Array<T | Scheduler>): Observable<T> {\n    let scheduler = <Scheduler>array[array.length - 1];\n    if (isScheduler(scheduler)) {\n      array.pop();\n    } else {\n      scheduler = null;\n    }\n\n    const len = array.length;\n    if (len > 1) {\n      return new ArrayObservable<T>(<any>array, scheduler);\n    } else if (len === 1) {\n      return new ScalarObservable<T>(<any>array[0], scheduler);\n    } else {\n      return new EmptyObservable<T>(scheduler);\n    }\n  }\n\n  static dispatch(state: any) {\n\n    const { array, index, count, subscriber } = state;\n\n    if (index >= count) {\n      subscriber.complete();\n      return;\n    }\n\n    subscriber.next(array[index]);\n\n    if (subscriber.closed) {\n      return;\n    }\n\n    state.index = index + 1;\n\n    (<any> this).schedule(state);\n  }\n\n  // value used if Array has one value and _isScalar\n  value: any;\n\n  constructor(private array: T[], private scheduler?: Scheduler) {\n    super();\n    if (!scheduler && array.length === 1) {\n      this._isScalar = true;\n      this.value = array[0];\n    }\n  }\n\n  protected _subscribe(subscriber: Subscriber<T>): TeardownLogic {\n    let index = 0;\n    const array = this.array;\n    const count = array.length;\n    const scheduler = this.scheduler;\n\n    if (scheduler) {\n      return scheduler.schedule(ArrayObservable.dispatch, 0, {\n        array, index, count, subscriber\n      });\n    } else {\n      for (let i = 0; i < count && !subscriber.closed; i++) {\n        subscriber.next(array[i]);\n      }\n      subscriber.complete();\n    }\n  }\n}\n","import { Subscriber } from './Subscriber';\nimport { InnerSubscriber } from './InnerSubscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class OuterSubscriber<T, R> extends Subscriber<T> {\n  notifyNext(outerValue: T, innerValue: R,\n             outerIndex: number, innerIndex: number,\n             innerSub: InnerSubscriber<T, R>): void {\n    this.destination.next(innerValue);\n  }\n\n  notifyError(error: any, innerSub: InnerSubscriber<T, R>): void {\n    this.destination.error(error);\n  }\n\n  notifyComplete(innerSub: InnerSubscriber<T, R>): void {\n    this.destination.complete();\n  }\n}\n","export function isPromise<T>(value: any | Promise<T>): value is Promise<T> {\n  return value && typeof (<any>value).subscribe !== 'function' && typeof (value as any).then === 'function';\n}\n","import { Subscriber } from './Subscriber';\nimport { OuterSubscriber } from './OuterSubscriber';\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class InnerSubscriber<T, R> extends Subscriber<R> {\n  private index: number = 0;\n\n  constructor(private parent: OuterSubscriber<T, R>, private outerValue: T, private outerIndex: number) {\n    super();\n  }\n\n  protected _next(value: R): void {\n    this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n  }\n\n  protected _error(error: any): void {\n    this.parent.notifyError(error, this);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.parent.notifyComplete(this);\n    this.unsubscribe();\n  }\n}\n","import { root } from './root';\nimport { isArray } from './isArray';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { Subscriber } from '../Subscriber';\nimport { Observable, ObservableInput } from '../Observable';\nimport { $$iterator } from '../symbol/iterator';\nimport { Subscription } from '../Subscription';\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { $$observable } from '../symbol/observable';\n\nexport function subscribeToResult<T, R>(outerSubscriber: OuterSubscriber<T, R>,\n                                        result: any,\n                                        outerValue?: T,\n                                        outerIndex?: number): Subscription;\nexport function subscribeToResult<T>(outerSubscriber: OuterSubscriber<any, any>,\n                                     result: ObservableInput<T>,\n                                     outerValue?: T,\n                                     outerIndex?: number): Subscription {\n  let destination: Subscriber<any> = new InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n\n  if (destination.closed) {\n    return null;\n  }\n\n  if (result instanceof Observable) {\n    if (result._isScalar) {\n      destination.next((<any>result).value);\n      destination.complete();\n      return null;\n    } else {\n      return result.subscribe(destination);\n    }\n  } else if (isArray(result)) {\n    for (let i = 0, len = result.length; i < len && !destination.closed; i++) {\n      destination.next(result[i]);\n    }\n    if (!destination.closed) {\n      destination.complete();\n    }\n  } else if (isPromise(result)) {\n    result.then(\n      (value) => {\n        if (!destination.closed) {\n          destination.next(<any>value);\n          destination.complete();\n        }\n      },\n      (err: any) => destination.error(err)\n    )\n    .then(null, (err: any) => {\n      // Escaping the Promise trap: globally throw unhandled errors\n      root.setTimeout(() => { throw err; });\n    });\n    return destination;\n  } else if (result && typeof result[$$iterator] === 'function') {\n    const iterator = <any>result[$$iterator]();\n    do {\n      let item = iterator.next();\n      if (item.done) {\n        destination.complete();\n        break;\n      }\n      destination.next(item.value);\n      if (destination.closed) {\n        break;\n      }\n    } while (true);\n  } else if (result && typeof result[$$observable] === 'function') {\n    const obs = result[$$observable]();\n    if (typeof obs.subscribe !== 'function') {\n      destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n    } else {\n      return obs.subscribe(new InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n    }\n  } else {\n    const value = isObject(result) ? 'an invalid object' : `'${result}'`;\n    const msg = `You provided ${value} where a stream was expected.`\n      + ' You can provide an Observable, Promise, Array, or Iterable.';\n    destination.error(new TypeError(msg));\n  }\n  return null;\n}\n","import { Observable } from '../Observable';\nimport { Operator } from '../Operator';\nimport { Observer } from '../Observer';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\n\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * <img src=\"./img/mergeAll.png\" width=\"100%\">\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Spawn a new interval Observable for each click event, and blend their outputs as one Observable</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));\n * var firstOrder = higherOrder.mergeAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * @example <caption>Count from 0 to 9 every second for each click, but only allow 2 concurrent timers</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(10));\n * var firstOrder = higherOrder.mergeAll(2);\n * firstOrder.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nexport function mergeAll<T>(this: Observable<T>, concurrent: number = Number.POSITIVE_INFINITY): T {\n  return <any>this.lift<any>(new MergeAllOperator<T>(concurrent));\n}\n\nexport class MergeAllOperator<T> implements Operator<Observable<T>, T> {\n  constructor(private concurrent: number) {\n  }\n\n  call(observer: Observer<T>, source: any): any {\n    return source.subscribe(new MergeAllSubscriber(observer, this.concurrent));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class MergeAllSubscriber<T> extends OuterSubscriber<Observable<T>, T> {\n  private hasCompleted: boolean = false;\n  private buffer: Observable<T>[] = [];\n  private active: number = 0;\n\n  constructor(destination: Observer<T>, private concurrent: number) {\n    super(destination);\n  }\n\n  protected _next(observable: Observable<T>) {\n    if (this.active < this.concurrent) {\n      this.active++;\n      this.add(subscribeToResult<Observable<T>, T>(this, observable));\n    } else {\n      this.buffer.push(observable);\n    }\n  }\n\n  protected _complete() {\n    this.hasCompleted = true;\n    if (this.active === 0 && this.buffer.length === 0) {\n      this.destination.complete();\n    }\n  }\n\n  notifyComplete(innerSub: Subscription) {\n    const buffer = this.buffer;\n    this.remove(innerSub);\n    this.active--;\n    if (buffer.length > 0) {\n      this._next(buffer.shift());\n    } else if (this.active === 0 && this.hasCompleted) {\n      this.destination.complete();\n    }\n  }\n}\n","import {  ArrayObservable  } from './ArrayObservable';\n\nexport const of = ArrayObservable.of;","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Injectable, NgZone, Optional, SkipSelf } from '@angular/core';\nimport { Platform } from '@angular/cdk/platform';\nimport { Subject } from 'rxjs/Subject';\nimport { Subscription } from 'rxjs/Subscription';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { auditTime } from 'rxjs/operator/auditTime';\n/**\n * Time in ms to throttle the scrolling events by default.\n */\nexport var DEFAULT_SCROLL_TIME = 20;\n/**\n * Service contained all registered Scrollable references and emits an event when any one of the\n * Scrollable references emit a scrolled event.\n */\nvar ScrollDispatcher = (function () {\n    /**\n     * @param {?} _ngZone\n     * @param {?} _platform\n     */\n    function ScrollDispatcher(_ngZone, _platform) {\n        this._ngZone = _ngZone;\n        this._platform = _platform;\n        /**\n         * Subject for notifying that a registered scrollable reference element has been scrolled.\n         */\n        this._scrolled = new Subject();\n        /**\n         * Keeps track of the global `scroll` and `resize` subscriptions.\n         */\n        this._globalSubscription = null;\n        /**\n         * Keeps track of the amount of subscriptions to `scrolled`. Used for cleaning up afterwards.\n         */\n        this._scrolledCount = 0;\n        /**\n         * Map of all the scrollable references that are registered with the service and their\n         * scroll event subscriptions.\n         */\n        this.scrollableReferences = new Map();\n    }\n    /**\n     * Registers a Scrollable with the service and listens for its scrolled events. When the\n     * scrollable is scrolled, the service emits the event in its scrolled observable.\n     * @param {?} scrollable Scrollable instance to be registered.\n     * @return {?}\n     */\n    ScrollDispatcher.prototype.register = function (scrollable) {\n        var _this = this;\n        var /** @type {?} */ scrollSubscription = scrollable.elementScrolled().subscribe(function () { return _this._notify(); });\n        this.scrollableReferences.set(scrollable, scrollSubscription);\n    };\n    /**\n     * Deregisters a Scrollable reference and unsubscribes from its scroll event observable.\n     * @param {?} scrollable Scrollable instance to be deregistered.\n     * @return {?}\n     */\n    ScrollDispatcher.prototype.deregister = function (scrollable) {\n        var /** @type {?} */ scrollableReference = this.scrollableReferences.get(scrollable);\n        if (scrollableReference) {\n            scrollableReference.unsubscribe();\n            this.scrollableReferences.delete(scrollable);\n        }\n    };\n    /**\n     * Subscribes to an observable that emits an event whenever any of the registered Scrollable\n     * references (or window, document, or body) fire a scrolled event. Can provide a time in ms\n     * to override the default \"throttle\" time.\n     * @param {?=} auditTimeInMs\n     * @param {?=} callback\n     * @return {?}\n     */\n    ScrollDispatcher.prototype.scrolled = function (auditTimeInMs, callback) {\n        var _this = this;\n        if (auditTimeInMs === void 0) { auditTimeInMs = DEFAULT_SCROLL_TIME; }\n        // Scroll events can only happen on the browser, so do nothing if we're not on the browser.\n        if (!this._platform.isBrowser) {\n            return Subscription.EMPTY;\n        }\n        // In the case of a 0ms delay, use an observable without auditTime\n        // since it does add a perceptible delay in processing overhead.\n        var /** @type {?} */ observable = auditTimeInMs > 0 ?\n            auditTime.call(this._scrolled.asObservable(), auditTimeInMs) :\n            this._scrolled.asObservable();\n        this._scrolledCount++;\n        if (!this._globalSubscription) {\n            this._globalSubscription = this._ngZone.runOutsideAngular(function () {\n                return fromEvent(window.document, 'scroll').subscribe(function () { return _this._notify(); });\n            });\n        }\n        // Note that we need to do the subscribing from here, in order to be able to remove\n        // the global event listeners once there are no more subscriptions.\n        var /** @type {?} */ subscription = observable.subscribe(callback);\n        subscription.add(function () {\n            _this._scrolledCount--;\n            if (_this._globalSubscription && !_this.scrollableReferences.size && !_this._scrolledCount) {\n                _this._globalSubscription.unsubscribe();\n                _this._globalSubscription = null;\n            }\n        });\n        return subscription;\n    };\n    /**\n     * Returns all registered Scrollables that contain the provided element.\n     * @param {?} elementRef\n     * @return {?}\n     */\n    ScrollDispatcher.prototype.getScrollContainers = function (elementRef) {\n        var _this = this;\n        var /** @type {?} */ scrollingContainers = [];\n        this.scrollableReferences.forEach(function (_subscription, scrollable) {\n            if (_this.scrollableContainsElement(scrollable, elementRef)) {\n                scrollingContainers.push(scrollable);\n            }\n        });\n        return scrollingContainers;\n    };\n    /**\n     * Returns true if the element is contained within the provided Scrollable.\n     * @param {?} scrollable\n     * @param {?} elementRef\n     * @return {?}\n     */\n    ScrollDispatcher.prototype.scrollableContainsElement = function (scrollable, elementRef) {\n        var /** @type {?} */ element = elementRef.nativeElement;\n        var /** @type {?} */ scrollableElement = scrollable.getElementRef().nativeElement;\n        // Traverse through the element parents until we reach null, checking if any of the elements\n        // are the scrollable's element.\n        do {\n            if (element == scrollableElement) {\n                return true;\n            }\n        } while (element = element.parentElement);\n        return false;\n    };\n    /**\n     * Sends a notification that a scroll event has been fired.\n     * @return {?}\n     */\n    ScrollDispatcher.prototype._notify = function () {\n        this._scrolled.next();\n    };\n    ScrollDispatcher.decorators = [\n        { type: Injectable },\n    ];\n    /**\n     * @nocollapse\n     */\n    ScrollDispatcher.ctorParameters = function () { return [\n        { type: NgZone, },\n        { type: Platform, },\n    ]; };\n    return ScrollDispatcher;\n}());\nexport { ScrollDispatcher };\nfunction ScrollDispatcher_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ScrollDispatcher.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    ScrollDispatcher.ctorParameters;\n    /**\n     * Subject for notifying that a registered scrollable reference element has been scrolled.\n     * @type {?}\n     */\n    ScrollDispatcher.prototype._scrolled;\n    /**\n     * Keeps track of the global `scroll` and `resize` subscriptions.\n     * @type {?}\n     */\n    ScrollDispatcher.prototype._globalSubscription;\n    /**\n     * Keeps track of the amount of subscriptions to `scrolled`. Used for cleaning up afterwards.\n     * @type {?}\n     */\n    ScrollDispatcher.prototype._scrolledCount;\n    /**\n     * Map of all the scrollable references that are registered with the service and their\n     * scroll event subscriptions.\n     * @type {?}\n     */\n    ScrollDispatcher.prototype.scrollableReferences;\n    /** @type {?} */\n    ScrollDispatcher.prototype._ngZone;\n    /** @type {?} */\n    ScrollDispatcher.prototype._platform;\n}\n/**\n * \\@docs-private\n * @param {?} parentDispatcher\n * @param {?} ngZone\n * @param {?} platform\n * @return {?}\n */\nexport function SCROLL_DISPATCHER_PROVIDER_FACTORY(parentDispatcher, ngZone, platform) {\n    return parentDispatcher || new ScrollDispatcher(ngZone, platform);\n}\n/**\n * \\@docs-private\n */\nexport var SCROLL_DISPATCHER_PROVIDER = {\n    // If there is already a ScrollDispatcher available, use that. Otherwise, provide a new one.\n    provide: ScrollDispatcher,\n    deps: [[new Optional(), new SkipSelf(), ScrollDispatcher], NgZone, Platform],\n    useFactory: SCROLL_DISPATCHER_PROVIDER_FACTORY\n};\n//# sourceMappingURL=scroll-dispatcher.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Directive, ElementRef, NgZone, Renderer2 } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport { ScrollDispatcher } from './scroll-dispatcher';\n/**\n * Sends an event when the directive's element is scrolled. Registers itself with the\n * ScrollDispatcher service to include itself as part of its collection of scrolling events that it\n * can be listened to through the service.\n */\nvar Scrollable = (function () {\n    /**\n     * @param {?} _elementRef\n     * @param {?} _scroll\n     * @param {?} _ngZone\n     * @param {?} _renderer\n     */\n    function Scrollable(_elementRef, _scroll, _ngZone, _renderer) {\n        this._elementRef = _elementRef;\n        this._scroll = _scroll;\n        this._ngZone = _ngZone;\n        this._renderer = _renderer;\n        this._elementScrolled = new Subject();\n    }\n    /**\n     * @return {?}\n     */\n    Scrollable.prototype.ngOnInit = function () {\n        var _this = this;\n        this._scrollListener = this._ngZone.runOutsideAngular(function () {\n            return _this._renderer.listen(_this.getElementRef().nativeElement, 'scroll', function (event) {\n                _this._elementScrolled.next(event);\n            });\n        });\n        this._scroll.register(this);\n    };\n    /**\n     * @return {?}\n     */\n    Scrollable.prototype.ngOnDestroy = function () {\n        this._scroll.deregister(this);\n        if (this._scrollListener) {\n            this._scrollListener();\n            this._scrollListener = null;\n        }\n    };\n    /**\n     * Returns observable that emits when a scroll event is fired on the host element.\n     * @return {?}\n     */\n    Scrollable.prototype.elementScrolled = function () {\n        return this._elementScrolled.asObservable();\n    };\n    /**\n     * @return {?}\n     */\n    Scrollable.prototype.getElementRef = function () {\n        return this._elementRef;\n    };\n    Scrollable.decorators = [\n        { type: Directive, args: [{\n                    selector: '[cdk-scrollable], [cdkScrollable]'\n                },] },\n    ];\n    /**\n     * @nocollapse\n     */\n    Scrollable.ctorParameters = function () { return [\n        { type: ElementRef, },\n        { type: ScrollDispatcher, },\n        { type: NgZone, },\n        { type: Renderer2, },\n    ]; };\n    return Scrollable;\n}());\nexport { Scrollable };\nfunction Scrollable_tsickle_Closure_declarations() {\n    /** @type {?} */\n    Scrollable.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    Scrollable.ctorParameters;\n    /** @type {?} */\n    Scrollable.prototype._elementScrolled;\n    /** @type {?} */\n    Scrollable.prototype._scrollListener;\n    /** @type {?} */\n    Scrollable.prototype._elementRef;\n    /** @type {?} */\n    Scrollable.prototype._scroll;\n    /** @type {?} */\n    Scrollable.prototype._ngZone;\n    /** @type {?} */\n    Scrollable.prototype._renderer;\n}\n//# sourceMappingURL=scrollable.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Injectable, Optional, SkipSelf, NgZone } from '@angular/core';\nimport { Platform } from '@angular/cdk/platform';\nimport { ScrollDispatcher } from './scroll-dispatcher';\nimport { fromEvent } from 'rxjs/observable/fromEvent';\nimport { merge } from 'rxjs/observable/merge';\nimport { auditTime } from 'rxjs/operator/auditTime';\nimport { of as observableOf } from 'rxjs/observable/of';\n/**\n * Time in ms to throttle the resize events by default.\n */\nexport var DEFAULT_RESIZE_TIME = 20;\n/**\n * Simple utility for getting the bounds of the browser viewport.\n * \\@docs-private\n */\nvar ViewportRuler = (function () {\n    /**\n     * @param {?} platform\n     * @param {?} ngZone\n     * @param {?} scrollDispatcher\n     */\n    function ViewportRuler(platform, ngZone, scrollDispatcher) {\n        var _this = this;\n        this._change = platform.isBrowser ? ngZone.runOutsideAngular(function () {\n            return merge(fromEvent(window, 'resize'), fromEvent(window, 'orientationchange'));\n        }) : observableOf();\n        // Subscribe to scroll and resize events and update the document rectangle on changes.\n        this._invalidateCacheSubscriptions = [\n            scrollDispatcher.scrolled(0, function () { return _this._cacheViewportGeometry(); }),\n            this.change().subscribe(function () { return _this._cacheViewportGeometry(); })\n        ];\n    }\n    /**\n     * @return {?}\n     */\n    ViewportRuler.prototype.ngOnDestroy = function () {\n        this._invalidateCacheSubscriptions.forEach(function (subscription) { return subscription.unsubscribe(); });\n    };\n    /**\n     * Gets a ClientRect for the viewport's bounds.\n     * @param {?=} documentRect\n     * @return {?}\n     */\n    ViewportRuler.prototype.getViewportRect = function (documentRect) {\n        if (documentRect === void 0) { documentRect = this._documentRect; }\n        // Cache the document bounding rect so that we don't recompute it for multiple calls.\n        if (!documentRect) {\n            this._cacheViewportGeometry();\n            documentRect = this._documentRect;\n        }\n        // Use the document element's bounding rect rather than the window scroll properties\n        // (e.g. pageYOffset, scrollY) due to in issue in Chrome and IE where window scroll\n        // properties and client coordinates (boundingClientRect, clientX/Y, etc.) are in different\n        // conceptual viewports. Under most circumstances these viewports are equivalent, but they\n        // can disagree when the page is pinch-zoomed (on devices that support touch).\n        // See https://bugs.chromium.org/p/chromium/issues/detail?id=489206#c4\n        // We use the documentElement instead of the body because, by default (without a css reset)\n        // browsers typically give the document body an 8px margin, which is not included in\n        // getBoundingClientRect().\n        var /** @type {?} */ scrollPosition = this.getViewportScrollPosition(documentRect);\n        var /** @type {?} */ height = window.innerHeight;\n        var /** @type {?} */ width = window.innerWidth;\n        return {\n            top: scrollPosition.top,\n            left: scrollPosition.left,\n            bottom: scrollPosition.top + height,\n            right: scrollPosition.left + width,\n            height: height,\n            width: width,\n        };\n    };\n    /**\n     * Gets the (top, left) scroll position of the viewport.\n     * @param {?=} documentRect\n     * @return {?}\n     */\n    ViewportRuler.prototype.getViewportScrollPosition = function (documentRect) {\n        if (documentRect === void 0) { documentRect = this._documentRect; }\n        // Cache the document bounding rect so that we don't recompute it for multiple calls.\n        if (!documentRect) {\n            this._cacheViewportGeometry();\n            documentRect = this._documentRect;\n        }\n        // The top-left-corner of the viewport is determined by the scroll position of the document\n        // body, normally just (scrollLeft, scrollTop). However, Chrome and Firefox disagree about\n        // whether `document.body` or `document.documentElement` is the scrolled element, so reading\n        // `scrollTop` and `scrollLeft` is inconsistent. However, using the bounding rect of\n        // `document.documentElement` works consistently, where the `top` and `left` values will\n        // equal negative the scroll position.\n        var /** @type {?} */ top = -((documentRect)).top || document.body.scrollTop || window.scrollY ||\n            document.documentElement.scrollTop || 0;\n        var /** @type {?} */ left = -((documentRect)).left || document.body.scrollLeft || window.scrollX ||\n            document.documentElement.scrollLeft || 0;\n        return { top: top, left: left };\n    };\n    /**\n     * Returns a stream that emits whenever the size of the viewport changes.\n     * @param {?=} throttleTime\n     * @return {?}\n     */\n    ViewportRuler.prototype.change = function (throttleTime) {\n        if (throttleTime === void 0) { throttleTime = DEFAULT_RESIZE_TIME; }\n        return throttleTime > 0 ? auditTime.call(this._change, throttleTime) : this._change;\n    };\n    /**\n     * Caches the latest client rectangle of the document element.\n     * @return {?}\n     */\n    ViewportRuler.prototype._cacheViewportGeometry = function () {\n        this._documentRect = document.documentElement.getBoundingClientRect();\n    };\n    ViewportRuler.decorators = [\n        { type: Injectable },\n    ];\n    /**\n     * @nocollapse\n     */\n    ViewportRuler.ctorParameters = function () { return [\n        { type: Platform, },\n        { type: NgZone, },\n        { type: ScrollDispatcher, },\n    ]; };\n    return ViewportRuler;\n}());\nexport { ViewportRuler };\nfunction ViewportRuler_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ViewportRuler.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    ViewportRuler.ctorParameters;\n    /**\n     * Cached document client rectangle.\n     * @type {?}\n     */\n    ViewportRuler.prototype._documentRect;\n    /**\n     * Stream of viewport change events.\n     * @type {?}\n     */\n    ViewportRuler.prototype._change;\n    /**\n     * Subscriptions to streams that invalidate the cached viewport dimensions.\n     * @type {?}\n     */\n    ViewportRuler.prototype._invalidateCacheSubscriptions;\n}\n/**\n * \\@docs-private\n * @param {?} parentRuler\n * @param {?} platform\n * @param {?} ngZone\n * @param {?} scrollDispatcher\n * @return {?}\n */\nexport function VIEWPORT_RULER_PROVIDER_FACTORY(parentRuler, platform, ngZone, scrollDispatcher) {\n    return parentRuler || new ViewportRuler(platform, ngZone, scrollDispatcher);\n}\n/**\n * \\@docs-private\n */\nexport var VIEWPORT_RULER_PROVIDER = {\n    // If there is already a ViewportRuler available, use that. Otherwise, provide a new one.\n    provide: ViewportRuler,\n    deps: [[new Optional(), new SkipSelf(), ViewportRuler], Platform, NgZone, ScrollDispatcher],\n    useFactory: VIEWPORT_RULER_PROVIDER_FACTORY\n};\n//# sourceMappingURL=viewport-ruler.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { NgModule } from '@angular/core';\nimport { SCROLL_DISPATCHER_PROVIDER } from './scroll-dispatcher';\nimport { Scrollable } from './scrollable';\nimport { PlatformModule } from '@angular/cdk/platform';\nvar ScrollDispatchModule = (function () {\n    function ScrollDispatchModule() {\n    }\n    ScrollDispatchModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [PlatformModule],\n                    exports: [Scrollable],\n                    declarations: [Scrollable],\n                    providers: [SCROLL_DISPATCHER_PROVIDER],\n                },] },\n    ];\n    /**\n     * @nocollapse\n     */\n    ScrollDispatchModule.ctorParameters = function () { return []; };\n    return ScrollDispatchModule;\n}());\nexport { ScrollDispatchModule };\nfunction ScrollDispatchModule_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ScrollDispatchModule.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    ScrollDispatchModule.ctorParameters;\n}\n//# sourceMappingURL=scrolling-module.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {Type} from '@angular/core';\n\nlet /** @type {?} */ _DOM: DomAdapter = /** @type {?} */(( null));\n/**\n * @return {?}\n */\nexport function getDOM() {\n  return _DOM;\n}\n/**\n * @param {?} adapter\n * @return {?}\n */\nexport function setDOM(adapter: DomAdapter) {\n  _DOM = adapter;\n}\n/**\n * @param {?} adapter\n * @return {?}\n */\nexport function setRootDomAdapter(adapter: DomAdapter) {\n  if (!_DOM) {\n    _DOM = adapter;\n  }\n}\n/**\n * Provides DOM operations in an environment-agnostic way.\n * \n * \\@security Tread carefully! Interacting with the DOM directly is dangerous and\n * can introduce XSS risks.\n * @abstract\n */\nexport abstract class DomAdapter {\npublic resourceLoaderType: Type<any> = /** @type {?} */(( null));\n/**\n * @abstract\n * @param {?} element\n * @param {?} name\n * @return {?}\n */\nhasProperty(element: any, name: string) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetProperty(el: Element, name: string, value: any) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} name\n * @return {?}\n */\ngetProperty(el: Element, name: string) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} methodName\n * @param {?} args\n * @return {?}\n */\ninvoke(el: Element, methodName: string, args: any[]) {}\n/**\n * @abstract\n * @param {?} error\n * @return {?}\n */\nlogError(error: any) {}\n/**\n * @abstract\n * @param {?} error\n * @return {?}\n */\nlog(error: any) {}\n/**\n * @abstract\n * @param {?} error\n * @return {?}\n */\nlogGroup(error: any) {}\n/**\n * @abstract\n * @return {?}\n */\nlogGroupEnd() {}\n/**\n * Maps attribute names to their corresponding property names for cases\n * where attribute name doesn't match property name.\n * @return {?}\n */\nget attrToPropMap(): {[key: string]: string} { return this._attrToPropMap; };\n/**\n * @param {?} value\n * @return {?}\n */\nset attrToPropMap(value: {[key: string]: string}) { this._attrToPropMap = value; };\n/**\n * \\@internal\n */\n_attrToPropMap: {[key: string]: string};\n/**\n * @abstract\n * @param {?} nodeA\n * @param {?} nodeB\n * @return {?}\n */\ncontains(nodeA: any, nodeB: any) {}\n/**\n * @abstract\n * @param {?} templateHtml\n * @return {?}\n */\nparse(templateHtml: string) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} selector\n * @return {?}\n */\nquerySelector(el: any, selector: string) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} selector\n * @return {?}\n */\nquerySelectorAll(el: any, selector: string) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} evt\n * @param {?} listener\n * @return {?}\n */\non(el: any, evt: any, listener: any) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} evt\n * @param {?} listener\n * @return {?}\n */\nonAndCancel(el: any, evt: any, listener: any) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} evt\n * @return {?}\n */\ndispatchEvent(el: any, evt: any) {}\n/**\n * @abstract\n * @param {?} eventType\n * @return {?}\n */\ncreateMouseEvent(eventType: any) {}\n/**\n * @abstract\n * @param {?} eventType\n * @return {?}\n */\ncreateEvent(eventType: string) {}\n/**\n * @abstract\n * @param {?} evt\n * @return {?}\n */\npreventDefault(evt: any) {}\n/**\n * @abstract\n * @param {?} evt\n * @return {?}\n */\nisPrevented(evt: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\ngetInnerHTML(el: any) {}\n/**\n * Returns content if el is a <template> element, null otherwise.\n * @abstract\n * @param {?} el\n * @return {?}\n */\ngetTemplateContent(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\ngetOuterHTML(el: any) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\nnodeName(node: any) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\nnodeValue(node: any) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\ntype(node: any) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\ncontent(node: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\nfirstChild(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\nnextSibling(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\nparentElement(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\nchildNodes(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\nchildNodesAsList(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\nclearNodes(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} node\n * @return {?}\n */\nappendChild(el: any, node: any) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} node\n * @return {?}\n */\nremoveChild(el: any, node: any) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} newNode\n * @param {?} oldNode\n * @return {?}\n */\nreplaceChild(el: any, newNode: any, oldNode: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\nremove(el: any) {}\n/**\n * @abstract\n * @param {?} parent\n * @param {?} ref\n * @param {?} node\n * @return {?}\n */\ninsertBefore(parent: any, ref: any, node: any) {}\n/**\n * @abstract\n * @param {?} parent\n * @param {?} ref\n * @param {?} nodes\n * @return {?}\n */\ninsertAllBefore(parent: any, ref: any, nodes: any) {}\n/**\n * @abstract\n * @param {?} parent\n * @param {?} el\n * @param {?} node\n * @return {?}\n */\ninsertAfter(parent: any, el: any, node: any) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetInnerHTML(el: any, value: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\ngetText(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetText(el: any, value: string) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\ngetValue(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetValue(el: any, value: string) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\ngetChecked(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @param {?} value\n * @return {?}\n */\nsetChecked(el: any, value: boolean) {}\n/**\n * @abstract\n * @param {?} text\n * @return {?}\n */\ncreateComment(text: string) {}\n/**\n * @abstract\n * @param {?} html\n * @return {?}\n */\ncreateTemplate(html: any) {}\n/**\n * @abstract\n * @param {?} tagName\n * @param {?=} doc\n * @return {?}\n */\ncreateElement(tagName: any, doc?: any) {}\n/**\n * @abstract\n * @param {?} ns\n * @param {?} tagName\n * @param {?=} doc\n * @return {?}\n */\ncreateElementNS(ns: string, tagName: string, doc?: any) {}\n/**\n * @abstract\n * @param {?} text\n * @param {?=} doc\n * @return {?}\n */\ncreateTextNode(text: string, doc?: any) {}\n/**\n * @abstract\n * @param {?} attrName\n * @param {?} attrValue\n * @param {?=} doc\n * @return {?}\n */\ncreateScriptTag(attrName: string, attrValue: string, doc?: any) {}\n/**\n * @abstract\n * @param {?} css\n * @param {?=} doc\n * @return {?}\n */\ncreateStyleElement(css: string, doc?: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\ncreateShadowRoot(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\ngetShadowRoot(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\ngetHost(el: any) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\ngetDistributedNodes(el: any) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\nclone /*<T extends Node>*/ (node: Node) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} name\n * @return {?}\n */\ngetElementsByClassName(element: any, name: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} name\n * @return {?}\n */\ngetElementsByTagName(element: any, name: string) {}\n/**\n * @abstract\n * @param {?} element\n * @return {?}\n */\nclassList(element: any) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\naddClass(element: any, className: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\nremoveClass(element: any, className: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} className\n * @return {?}\n */\nhasClass(element: any, className: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} styleName\n * @param {?} styleValue\n * @return {?}\n */\nsetStyle(element: any, styleName: string, styleValue: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} styleName\n * @return {?}\n */\nremoveStyle(element: any, styleName: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} styleName\n * @return {?}\n */\ngetStyle(element: any, styleName: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} styleName\n * @param {?=} styleValue\n * @return {?}\n */\nhasStyle(element: any, styleName: string, styleValue?: string) {}\n/**\n * @abstract\n * @param {?} element\n * @return {?}\n */\ntagName(element: any) {}\n/**\n * @abstract\n * @param {?} element\n * @return {?}\n */\nattributeMap(element: any) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} attribute\n * @return {?}\n */\nhasAttribute(element: any, attribute: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} ns\n * @param {?} attribute\n * @return {?}\n */\nhasAttributeNS(element: any, ns: string, attribute: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} attribute\n * @return {?}\n */\ngetAttribute(element: any, attribute: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} ns\n * @param {?} attribute\n * @return {?}\n */\ngetAttributeNS(element: any, ns: string, attribute: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetAttribute(element: any, name: string, value: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} ns\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetAttributeNS(element: any, ns: string, name: string, value: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} attribute\n * @return {?}\n */\nremoveAttribute(element: any, attribute: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} ns\n * @param {?} attribute\n * @return {?}\n */\nremoveAttributeNS(element: any, ns: string, attribute: string) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\ntemplateAwareRoot(el: any) {}\n/**\n * @abstract\n * @return {?}\n */\ncreateHtmlDocument() {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\ngetBoundingClientRect(el: any) {}\n/**\n * @abstract\n * @param {?} doc\n * @return {?}\n */\ngetTitle(doc: Document) {}\n/**\n * @abstract\n * @param {?} doc\n * @param {?} newTitle\n * @return {?}\n */\nsetTitle(doc: Document, newTitle: string) {}\n/**\n * @abstract\n * @param {?} n\n * @param {?} selector\n * @return {?}\n */\nelementMatches(n: any, selector: string) {}\n/**\n * @abstract\n * @param {?} el\n * @return {?}\n */\nisTemplateElement(el: any) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\nisTextNode(node: any) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\nisCommentNode(node: any) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\nisElementNode(node: any) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\nhasShadowRoot(node: any) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\nisShadowRoot(node: any) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\nimportIntoDoc /*<T extends Node>*/ (node: Node) {}\n/**\n * @abstract\n * @param {?} node\n * @return {?}\n */\nadoptNode /*<T extends Node>*/ (node: Node) {}\n/**\n * @abstract\n * @param {?} element\n * @return {?}\n */\ngetHref(element: any) {}\n/**\n * @abstract\n * @param {?} event\n * @return {?}\n */\ngetEventKey(event: any) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} baseUrl\n * @param {?} href\n * @return {?}\n */\nresolveAndSetHref(element: any, baseUrl: string, href: string) {}\n/**\n * @abstract\n * @return {?}\n */\nsupportsDOMEvents() {}\n/**\n * @abstract\n * @return {?}\n */\nsupportsNativeShadowDOM() {}\n/**\n * @abstract\n * @param {?} doc\n * @param {?} target\n * @return {?}\n */\ngetGlobalEventTarget(doc: Document, target: string) {}\n/**\n * @abstract\n * @return {?}\n */\ngetHistory() {}\n/**\n * @abstract\n * @return {?}\n */\ngetLocation() {}\n/**\n * @abstract\n * @param {?} doc\n * @return {?}\n */\ngetBaseHref(doc: Document) {}\n/**\n * @abstract\n * @return {?}\n */\nresetBaseElement() {}\n/**\n * @abstract\n * @return {?}\n */\ngetUserAgent() {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetData(element: any, name: string, value: string) {}\n/**\n * @abstract\n * @param {?} element\n * @return {?}\n */\ngetComputedStyle(element: any) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} name\n * @return {?}\n */\ngetData(element: any, name: string) {}\n/**\n * @abstract\n * @return {?}\n */\nsupportsWebAnimation() {}\n/**\n * @abstract\n * @return {?}\n */\nperformanceNow() {}\n/**\n * @abstract\n * @return {?}\n */\ngetAnimationPrefix() {}\n/**\n * @abstract\n * @return {?}\n */\ngetTransitionEnd() {}\n/**\n * @abstract\n * @return {?}\n */\nsupportsAnimation() {}\n/**\n * @abstract\n * @return {?}\n */\nsupportsCookies() {}\n/**\n * @abstract\n * @param {?} name\n * @return {?}\n */\ngetCookie(name: string) {}\n/**\n * @abstract\n * @param {?} name\n * @param {?} value\n * @return {?}\n */\nsetCookie(name: string, value: string) {}\n}\n\nfunction DomAdapter_tsickle_Closure_declarations() {\n/** @type {?} */\nDomAdapter.prototype.resourceLoaderType;\n/**\n * \\@internal\n * @type {?}\n */\nDomAdapter.prototype._attrToPropMap;\n}\n\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {DomAdapter} from '../dom/dom_adapter';\n/**\n * Provides DOM operations in any browser environment.\n * \n * \\@security Tread carefully! Interacting with the DOM directly is dangerous and\n * can introduce XSS risks.\n * @abstract\n */\nexport abstract class GenericBrowserDomAdapter extends DomAdapter {\nprivate _animationPrefix: string|null = null;\nprivate _transitionEnd: string|null = null;\nconstructor() {\n    super();\n    try {\n      const element = this.createElement('div', document);\n      if (this.getStyle(element, 'animationName') != null) {\n        this._animationPrefix = '';\n      } else {\n        const domPrefixes = ['Webkit', 'Moz', 'O', 'ms'];\n\n        for (let i = 0; i < domPrefixes.length; i++) {\n          if (this.getStyle(element, domPrefixes[i] + 'AnimationName') != null) {\n            this._animationPrefix = '-' + domPrefixes[i].toLowerCase() + '-';\n            break;\n          }\n        }\n      }\n\n      const transEndEventNames: {[key: string]: string} = {\n        WebkitTransition: 'webkitTransitionEnd',\n        MozTransition: 'transitionend',\n        OTransition: 'oTransitionEnd otransitionend',\n        transition: 'transitionend'\n      };\n\n      Object.keys(transEndEventNames).forEach((key: string) => {\n        if (this.getStyle(element, key) != null) {\n          this._transitionEnd = transEndEventNames[key];\n        }\n      });\n    } catch (e) {\n      this._animationPrefix = null;\n      this._transitionEnd = null;\n    }\n  }\n/**\n * @param {?} el\n * @return {?}\n */\ngetDistributedNodes(el: HTMLElement): Node[] { return ( /** @type {?} */((<any>el))).getDistributedNodes(); }\n/**\n * @param {?} el\n * @param {?} baseUrl\n * @param {?} href\n * @return {?}\n */\nresolveAndSetHref(el: HTMLAnchorElement, baseUrl: string, href: string) {\n    el.href = href == null ? baseUrl : baseUrl + '/../' + href;\n  }\n/**\n * @return {?}\n */\nsupportsDOMEvents(): boolean { return true; }\n/**\n * @return {?}\n */\nsupportsNativeShadowDOM(): boolean {\n    return typeof( /** @type {?} */((<any>document.body))).createShadowRoot === 'function';\n  }\n/**\n * @return {?}\n */\ngetAnimationPrefix(): string { return this._animationPrefix ? this._animationPrefix : ''; }\n/**\n * @return {?}\n */\ngetTransitionEnd(): string { return this._transitionEnd ? this._transitionEnd : ''; }\n/**\n * @return {?}\n */\nsupportsAnimation(): boolean {\n    return this._animationPrefix != null && this._transitionEnd != null;\n  }\n}\n\nfunction GenericBrowserDomAdapter_tsickle_Closure_declarations() {\n/** @type {?} */\nGenericBrowserDomAdapter.prototype._animationPrefix;\n/** @type {?} */\nGenericBrowserDomAdapter.prototype._transitionEnd;\n}\n\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {LocationChangeListener, PlatformLocation} from '@angular/common';\nimport {Inject, Injectable} from '@angular/core';\n\nimport {getDOM} from '../../dom/dom_adapter';\nimport {DOCUMENT} from '../../dom/dom_tokens';\n\nimport {supportsState} from './history';\n/**\n * `PlatformLocation` encapsulates all of the direct calls to platform APIs.\n * This class should not be used directly by an application developer. Instead, use\n * {\\@link Location}.\n */\nexport class BrowserPlatformLocation extends PlatformLocation {\nprivate _location: Location;\nprivate _history: History;\n/**\n * @param {?} _doc\n */\nconstructor(\nprivate _doc: any) {\n    super();\n    this._init();\n  }\n/**\n * \\@internal\n * @return {?}\n */\n_init() {\n    this._location = getDOM().getLocation();\n    this._history = getDOM().getHistory();\n  }\n/**\n * @return {?}\n */\nget location(): Location { return this._location; }\n/**\n * @return {?}\n */\ngetBaseHrefFromDOM(): string { return /** @type {?} */(( getDOM().getBaseHref(this._doc))); }\n/**\n * @param {?} fn\n * @return {?}\n */\nonPopState(fn: LocationChangeListener): void {\n    getDOM().getGlobalEventTarget(this._doc, 'window').addEventListener('popstate', fn, false);\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nonHashChange(fn: LocationChangeListener): void {\n    getDOM().getGlobalEventTarget(this._doc, 'window').addEventListener('hashchange', fn, false);\n  }\n/**\n * @return {?}\n */\nget pathname(): string { return this._location.pathname; }\n/**\n * @return {?}\n */\nget search(): string { return this._location.search; }\n/**\n * @return {?}\n */\nget hash(): string { return this._location.hash; }\n/**\n * @param {?} newPath\n * @return {?}\n */\nset pathname(newPath: string) { this._location.pathname = newPath; }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} url\n * @return {?}\n */\npushState(state: any, title: string, url: string): void {\n    if (supportsState()) {\n      this._history.pushState(state, title, url);\n    } else {\n      this._location.hash = url;\n    }\n  }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} url\n * @return {?}\n */\nreplaceState(state: any, title: string, url: string): void {\n    if (supportsState()) {\n      this._history.replaceState(state, title, url);\n    } else {\n      this._location.hash = url;\n    }\n  }\n/**\n * @return {?}\n */\nforward(): void { this._history.forward(); }\n/**\n * @return {?}\n */\nback(): void { this._history.back(); }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\n}\n\nfunction BrowserPlatformLocation_tsickle_Closure_declarations() {\n/** @type {?} */\nBrowserPlatformLocation.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nBrowserPlatformLocation.ctorParameters;\n/** @type {?} */\nBrowserPlatformLocation.prototype._location;\n/** @type {?} */\nBrowserPlatformLocation.prototype._history;\n/** @type {?} */\nBrowserPlatformLocation.prototype._doc;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {Inject, Injectable} from '@angular/core';\n\nimport {DomAdapter, getDOM} from '../dom/dom_adapter';\nimport {DOCUMENT} from '../dom/dom_tokens';\n\n\n/**\n * Represents a meta element.\n *\n * @experimental\n */\nexport type MetaDefinition = {\n  charset?: string; content?: string; httpEquiv?: string; id?: string; itemprop?: string;\n  name?: string;\n  property?: string;\n  scheme?: string;\n  url?: string;\n} &\n{\n  // TODO(IgorMinar): this type looks wrong\n  [prop: string]: string;\n};\n/**\n * A service that can be used to get and add meta tags.\n * \n * \\@experimental\n */\nexport class Meta {\nprivate _dom: DomAdapter;\n/**\n * @param {?} _doc\n */\nconstructor(\nprivate _doc: any) { this._dom = getDOM(); }\n/**\n * @param {?} tag\n * @param {?=} forceCreation\n * @return {?}\n */\naddTag(tag: MetaDefinition, forceCreation: boolean = false): HTMLMetaElement|null {\n    if (!tag) return null;\n    return this._getOrCreateElement(tag, forceCreation);\n  }\n/**\n * @param {?} tags\n * @param {?=} forceCreation\n * @return {?}\n */\naddTags(tags: MetaDefinition[], forceCreation: boolean = false): HTMLMetaElement[] {\n    if (!tags) return [];\n    return tags.reduce((result: HTMLMetaElement[], tag: MetaDefinition) => {\n      if (tag) {\n        result.push(this._getOrCreateElement(tag, forceCreation));\n      }\n      return result;\n    }, []);\n  }\n/**\n * @param {?} attrSelector\n * @return {?}\n */\ngetTag(attrSelector: string): HTMLMetaElement|null {\n    if (!attrSelector) return null;\n    return this._dom.querySelector(this._doc, `meta[${attrSelector}]`);\n  }\n/**\n * @param {?} attrSelector\n * @return {?}\n */\ngetTags(attrSelector: string): HTMLMetaElement[] {\n    if (!attrSelector) return [];\n    const /** @type {?} */ list /*NodeList*/ = this._dom.querySelectorAll(this._doc, `meta[${attrSelector}]`);\n    return list ? [].slice.call(list) : [];\n  }\n/**\n * @param {?} tag\n * @param {?=} selector\n * @return {?}\n */\nupdateTag(tag: MetaDefinition, selector?: string): HTMLMetaElement|null {\n    if (!tag) return null;\n    selector = selector || this._parseSelector(tag);\n    const /** @type {?} */ meta: HTMLMetaElement = /** @type {?} */(( this.getTag(selector)));\n    if (meta) {\n      return this._setMetaElementAttributes(tag, meta);\n    }\n    return this._getOrCreateElement(tag, true);\n  }\n/**\n * @param {?} attrSelector\n * @return {?}\n */\nremoveTag(attrSelector: string): void { this.removeTagElement( /** @type {?} */((this.getTag(attrSelector)))); }\n/**\n * @param {?} meta\n * @return {?}\n */\nremoveTagElement(meta: HTMLMetaElement): void {\n    if (meta) {\n      this._dom.remove(meta);\n    }\n  }\n/**\n * @param {?} meta\n * @param {?=} forceCreation\n * @return {?}\n */\nprivate _getOrCreateElement(meta: MetaDefinition, forceCreation: boolean = false):\n      HTMLMetaElement {\n    if (!forceCreation) {\n      const /** @type {?} */ selector: string = this._parseSelector(meta);\n      const /** @type {?} */ elem: HTMLMetaElement = /** @type {?} */(( this.getTag(selector)));\n      // It's allowed to have multiple elements with the same name so it's not enough to\n      // just check that element with the same name already present on the page. We also need to\n      // check if element has tag attributes\n      if (elem && this._containsAttributes(meta, elem)) return elem;\n    }\n    const /** @type {?} */ element: HTMLMetaElement = /** @type {?} */(( this._dom.createElement('meta') as HTMLMetaElement));\n    this._setMetaElementAttributes(meta, element);\n    const /** @type {?} */ head = this._dom.getElementsByTagName(this._doc, 'head')[0];\n    this._dom.appendChild(head, element);\n    return element;\n  }\n/**\n * @param {?} tag\n * @param {?} el\n * @return {?}\n */\nprivate _setMetaElementAttributes(tag: MetaDefinition, el: HTMLMetaElement): HTMLMetaElement {\n    Object.keys(tag).forEach((prop: string) => this._dom.setAttribute(el, prop, tag[prop]));\n    return el;\n  }\n/**\n * @param {?} tag\n * @return {?}\n */\nprivate _parseSelector(tag: MetaDefinition): string {\n    const /** @type {?} */ attr: string = tag.name ? 'name' : 'property';\n    return `${attr}=\"${tag[attr]}\"`;\n  }\n/**\n * @param {?} tag\n * @param {?} elem\n * @return {?}\n */\nprivate _containsAttributes(tag: MetaDefinition, elem: HTMLMetaElement): boolean {\n    return Object.keys(tag).every((key: string) => this._dom.getAttribute(elem, key) === tag[key]);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\n}\n\nfunction Meta_tsickle_Closure_declarations() {\n/** @type {?} */\nMeta.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nMeta.ctorParameters;\n/** @type {?} */\nMeta.prototype._dom;\n/** @type {?} */\nMeta.prototype._doc;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {APP_INITIALIZER, ApplicationInitStatus, Inject, InjectionToken, Injector, Provider} from '@angular/core';\n\nimport {getDOM} from '../dom/dom_adapter';\nimport {DOCUMENT} from '../dom/dom_tokens';\n/**\n * An id that identifies a particular application being bootstrapped, that should\n * match across the client/server boundary.\n */\nexport const TRANSITION_ID = new InjectionToken('TRANSITION_ID');\n/**\n * @param {?} transitionId\n * @param {?} document\n * @param {?} injector\n * @return {?}\n */\nexport function appInitializerFactory(transitionId: string, document: any, injector: Injector) {\n  return () => {\n    // Wait for all application initializers to be completed before removing the styles set by\n    // the server.\n    injector.get(ApplicationInitStatus).donePromise.then(() => {\n      const /** @type {?} */ dom = getDOM();\n      const /** @type {?} */ styles: any[] =\n          Array.prototype.slice.apply(dom.querySelectorAll(document, `style[ng-transition]`));\n      styles.filter(el => dom.getAttribute(el, 'ng-transition') === transitionId)\n          .forEach(el => dom.remove(el));\n    });\n  };\n}\n\nexport const /** @type {?} */ SERVER_TRANSITION_PROVIDERS: Provider[] = [\n  {\n    provide: APP_INITIALIZER,\n    useFactory: appInitializerFactory,\n    deps: [TRANSITION_ID, DOCUMENT, Injector],\n    multi: true\n  },\n];\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {GetTestability, Testability, TestabilityRegistry, setTestabilityGetter, ɵglobal as global} from '@angular/core';\n\nimport {getDOM} from '../dom/dom_adapter';\nexport class BrowserGetTestability implements GetTestability {\n/**\n * @return {?}\n */\nstatic init() { setTestabilityGetter(new BrowserGetTestability()); }\n/**\n * @param {?} registry\n * @return {?}\n */\naddToWindow(registry: TestabilityRegistry): void {\n    global['getAngularTestability'] = (elem: any, findInAncestors: boolean = true) => {\n      const /** @type {?} */ testability = registry.findTestabilityInTree(elem, findInAncestors);\n      if (testability == null) {\n        throw new Error('Could not find testability for element.');\n      }\n      return testability;\n    };\n\n    global['getAllAngularTestabilities'] = () => registry.getAllTestabilities();\n\n    global['getAllAngularRootElements'] = () => registry.getAllRootElements();\n\n    const /** @type {?} */ whenAllStable = (callback: any /** TODO #9100 */) => {\n      const /** @type {?} */ testabilities = global['getAllAngularTestabilities']();\n      let /** @type {?} */ count = testabilities.length;\n      let /** @type {?} */ didWork = false;\n      const /** @type {?} */ decrement = function(didWork_: any /** TODO #9100 */) {\n        didWork = didWork || didWork_;\n        count--;\n        if (count == 0) {\n          callback(didWork);\n        }\n      };\n      testabilities.forEach(function(testability: any /** TODO #9100 */) {\n        testability.whenStable(decrement);\n      });\n    };\n\n    if (!global['frameworkStabilizers']) {\n      global['frameworkStabilizers'] = [];\n    }\n    global['frameworkStabilizers'].push(whenAllStable);\n  }\n/**\n * @param {?} registry\n * @param {?} elem\n * @param {?} findInAncestors\n * @return {?}\n */\nfindTestabilityInTree(registry: TestabilityRegistry, elem: any, findInAncestors: boolean):\n      Testability|null {\n    if (elem == null) {\n      return null;\n    }\n    const /** @type {?} */ t = registry.getTestability(elem);\n    if (t != null) {\n      return t;\n    } else if (!findInAncestors) {\n      return null;\n    }\n    if (getDOM().isShadowRoot(elem)) {\n      return this.findTestabilityInTree(registry, getDOM().getHost(elem), true);\n    }\n    return this.findTestabilityInTree(registry, getDOM().parentElement(elem), true);\n  }\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {Inject, Injectable} from '@angular/core';\n\nimport {getDOM} from '../dom/dom_adapter';\nimport {DOCUMENT} from '../dom/dom_tokens';\n/**\n * A service that can be used to get and set the title of a current HTML document.\n * \n * Since an Angular application can't be bootstrapped on the entire HTML document (`<html>` tag)\n * it is not possible to bind to the `text` property of the `HTMLTitleElement` elements\n * (representing the `<title>` tag). Instead, this service can be used to set and get the current\n * title value.\n * \n * \\@experimental\n */\nexport class Title {\n/**\n * @param {?} _doc\n */\nconstructor(\nprivate _doc: any) {}\n/**\n * Get the title of the current HTML document.\n * @return {?}\n */\ngetTitle(): string { return getDOM().getTitle(this._doc); }\n/**\n * Set the title of the current HTML document.\n * @param {?} newTitle\n * @return {?}\n */\nsetTitle(newTitle: string) { getDOM().setTitle(this._doc, newTitle); }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\n}\n\nfunction Title_tsickle_Closure_declarations() {\n/** @type {?} */\nTitle.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTitle.ctorParameters;\n/** @type {?} */\nTitle.prototype._doc;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {Inject, Injectable, InjectionToken, NgZone} from '@angular/core';\n\nimport {getDOM} from '../dom_adapter';\n/**\n * \\@stable\n */\nexport const EVENT_MANAGER_PLUGINS =\n    new InjectionToken<EventManagerPlugin[]>('EventManagerPlugins');\n/**\n * \\@stable\n */\nexport class EventManager {\nprivate _plugins: EventManagerPlugin[];\nprivate _eventNameToPlugin = new Map<string, EventManagerPlugin>();\n/**\n * @param {?} plugins\n * @param {?} _zone\n */\nconstructor( plugins: EventManagerPlugin[],\nprivate _zone: NgZone) {\n    plugins.forEach(p => p.manager = this);\n    this._plugins = plugins.slice().reverse();\n  }\n/**\n * @param {?} element\n * @param {?} eventName\n * @param {?} handler\n * @return {?}\n */\naddEventListener(element: HTMLElement, eventName: string, handler: Function): Function {\n    const /** @type {?} */ plugin = this._findPluginFor(eventName);\n    return plugin.addEventListener(element, eventName, handler);\n  }\n/**\n * @param {?} target\n * @param {?} eventName\n * @param {?} handler\n * @return {?}\n */\naddGlobalEventListener(target: string, eventName: string, handler: Function): Function {\n    const /** @type {?} */ plugin = this._findPluginFor(eventName);\n    return plugin.addGlobalEventListener(target, eventName, handler);\n  }\n/**\n * @return {?}\n */\ngetZone(): NgZone { return this._zone; }\n/**\n * \\@internal\n * @param {?} eventName\n * @return {?}\n */\n_findPluginFor(eventName: string): EventManagerPlugin {\n    const /** @type {?} */ plugin = this._eventNameToPlugin.get(eventName);\n    if (plugin) {\n      return plugin;\n    }\n\n    const /** @type {?} */ plugins = this._plugins;\n    for (let /** @type {?} */ i = 0; i < plugins.length; i++) {\n      const /** @type {?} */ plugin = plugins[i];\n      if (plugin.supports(eventName)) {\n        this._eventNameToPlugin.set(eventName, plugin);\n        return plugin;\n      }\n    }\n    throw new Error(`No event manager plugin found for event ${eventName}`);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Array, decorators: [{ type: Inject, args: [EVENT_MANAGER_PLUGINS, ] }, ]},\n{type: NgZone, },\n];\n}\n\nfunction EventManager_tsickle_Closure_declarations() {\n/** @type {?} */\nEventManager.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nEventManager.ctorParameters;\n/** @type {?} */\nEventManager.prototype._plugins;\n/** @type {?} */\nEventManager.prototype._eventNameToPlugin;\n/** @type {?} */\nEventManager.prototype._zone;\n}\n\n/**\n * @abstract\n */\nexport abstract class EventManagerPlugin {\n/**\n * @param {?} _doc\n */\nconstructor(private _doc: any) {}\n\n  manager: EventManager;\n/**\n * @abstract\n * @param {?} eventName\n * @return {?}\n */\nsupports(eventName: string) {}\n/**\n * @abstract\n * @param {?} element\n * @param {?} eventName\n * @param {?} handler\n * @return {?}\n */\naddEventListener(element: HTMLElement, eventName: string, handler: Function) {}\n/**\n * @param {?} element\n * @param {?} eventName\n * @param {?} handler\n * @return {?}\n */\naddGlobalEventListener(element: string, eventName: string, handler: Function): Function {\n    const /** @type {?} */ target: HTMLElement = getDOM().getGlobalEventTarget(this._doc, element);\n    if (!target) {\n      throw new Error(`Unsupported event target ${target} for event ${eventName}`);\n    }\n    return this.addEventListener(target, eventName, handler);\n  };\n}\n\nfunction EventManagerPlugin_tsickle_Closure_declarations() {\n/** @type {?} */\nEventManagerPlugin.prototype.manager;\n/** @type {?} */\nEventManagerPlugin.prototype._doc;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {Inject, Injectable, OnDestroy} from '@angular/core';\nimport {getDOM} from './dom_adapter';\nimport {DOCUMENT} from './dom_tokens';\nexport class SharedStylesHost {\n/**\n * \\@internal\n */\nprotected _stylesSet = new Set<string>();\n/**\n * @param {?} styles\n * @return {?}\n */\naddStyles(styles: string[]): void {\n    const /** @type {?} */ additions = new Set<string>();\n    styles.forEach(style => {\n      if (!this._stylesSet.has(style)) {\n        this._stylesSet.add(style);\n        additions.add(style);\n      }\n    });\n    this.onStylesAdded(additions);\n  }\n/**\n * @param {?} additions\n * @return {?}\n */\nonStylesAdded(additions: Set<string>): void {}\n/**\n * @return {?}\n */\ngetAllStyles(): string[] { return Array.from(this._stylesSet); }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction SharedStylesHost_tsickle_Closure_declarations() {\n/** @type {?} */\nSharedStylesHost.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSharedStylesHost.ctorParameters;\n/**\n * \\@internal\n * @type {?}\n */\nSharedStylesHost.prototype._stylesSet;\n}\n\nexport class DomSharedStylesHost extends SharedStylesHost implements OnDestroy {\nprivate _hostNodes = new Set<Node>();\nprivate _styleNodes = new Set<Node>();\n/**\n * @param {?} _doc\n */\nconstructor(\nprivate _doc: any) {\n    super();\n    this._hostNodes.add(_doc.head);\n  }\n/**\n * @param {?} styles\n * @param {?} host\n * @return {?}\n */\nprivate _addStylesToHost(styles: Set<string>, host: Node): void {\n    styles.forEach((style: string) => {\n      const /** @type {?} */ styleEl = this._doc.createElement('style');\n      styleEl.textContent = style;\n      this._styleNodes.add(host.appendChild(styleEl));\n    });\n  }\n/**\n * @param {?} hostNode\n * @return {?}\n */\naddHost(hostNode: Node): void {\n    this._addStylesToHost(this._stylesSet, hostNode);\n    this._hostNodes.add(hostNode);\n  }\n/**\n * @param {?} hostNode\n * @return {?}\n */\nremoveHost(hostNode: Node): void { this._hostNodes.delete(hostNode); }\n/**\n * @param {?} additions\n * @return {?}\n */\nonStylesAdded(additions: Set<string>): void {\n    this._hostNodes.forEach(hostNode => this._addStylesToHost(additions, hostNode));\n  }\n/**\n * @return {?}\n */\nngOnDestroy(): void { this._styleNodes.forEach(styleNode => getDOM().remove(styleNode)); }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\n}\n\nfunction DomSharedStylesHost_tsickle_Closure_declarations() {\n/** @type {?} */\nDomSharedStylesHost.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDomSharedStylesHost.ctorParameters;\n/** @type {?} */\nDomSharedStylesHost.prototype._hostNodes;\n/** @type {?} */\nDomSharedStylesHost.prototype._styleNodes;\n/** @type {?} */\nDomSharedStylesHost.prototype._doc;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {Inject, Injectable} from '@angular/core';\n\nimport {DOCUMENT} from '../dom_tokens';\n\nimport {EventManagerPlugin} from './event_manager';\nexport class DomEventsPlugin extends EventManagerPlugin {\n/**\n * @param {?} doc\n */\nconstructor( doc: any) { super(doc); }\n/**\n * @param {?} eventName\n * @return {?}\n */\nsupports(eventName: string): boolean { return true; }\n/**\n * @param {?} element\n * @param {?} eventName\n * @param {?} handler\n * @return {?}\n */\naddEventListener(element: HTMLElement, eventName: string, handler: Function): Function {\n    element.addEventListener(eventName, /** @type {?} */(( handler as any)), false);\n    return () => element.removeEventListener(eventName, /** @type {?} */(( handler as any)), false);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\n}\n\nfunction DomEventsPlugin_tsickle_Closure_declarations() {\n/** @type {?} */\nDomEventsPlugin.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDomEventsPlugin.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {Inject, Injectable, InjectionToken} from '@angular/core';\n\nimport {DOCUMENT} from '../dom_tokens';\n\nimport {EventManagerPlugin} from './event_manager';\n\nconst /** @type {?} */ EVENT_NAMES = {\n  // pan\n  'pan': true,\n  'panstart': true,\n  'panmove': true,\n  'panend': true,\n  'pancancel': true,\n  'panleft': true,\n  'panright': true,\n  'panup': true,\n  'pandown': true,\n  // pinch\n  'pinch': true,\n  'pinchstart': true,\n  'pinchmove': true,\n  'pinchend': true,\n  'pinchcancel': true,\n  'pinchin': true,\n  'pinchout': true,\n  // press\n  'press': true,\n  'pressup': true,\n  // rotate\n  'rotate': true,\n  'rotatestart': true,\n  'rotatemove': true,\n  'rotateend': true,\n  'rotatecancel': true,\n  // swipe\n  'swipe': true,\n  'swipeleft': true,\n  'swiperight': true,\n  'swipeup': true,\n  'swipedown': true,\n  // tap\n  'tap': true,\n};\n/**\n * A DI token that you can use to provide{\\@link HammerGestureConfig} to Angular. Use it to configure\n * Hammer gestures.\n * \n * \\@experimental\n */\nexport const HAMMER_GESTURE_CONFIG = new InjectionToken<HammerGestureConfig>('HammerGestureConfig');\n\nexport interface HammerInstance {\n  on(eventName: string, callback?: Function): void;\n  off(eventName: string, callback?: Function): void;\n}\n/**\n * \\@experimental\n */\nexport class HammerGestureConfig {\n  events: string[] = [];\n\n  overrides: {[key: string]: Object} = {};\n/**\n * @param {?} element\n * @return {?}\n */\nbuildHammer(element: HTMLElement): HammerInstance {\n    const /** @type {?} */ mc = new Hammer(element);\n\n    mc.get('pinch').set({enable: true});\n    mc.get('rotate').set({enable: true});\n\n    for (const /** @type {?} */ eventName in this.overrides) {\n      mc.get(eventName).set(this.overrides[eventName]);\n    }\n\n    return mc;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction HammerGestureConfig_tsickle_Closure_declarations() {\n/** @type {?} */\nHammerGestureConfig.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nHammerGestureConfig.ctorParameters;\n/** @type {?} */\nHammerGestureConfig.prototype.events;\n/** @type {?} */\nHammerGestureConfig.prototype.overrides;\n}\n\nexport class HammerGesturesPlugin extends EventManagerPlugin {\n/**\n * @param {?} doc\n * @param {?} _config\n */\nconstructor(\n       doc: any,\nprivate _config: HammerGestureConfig) {\n    super(doc);\n  }\n/**\n * @param {?} eventName\n * @return {?}\n */\nsupports(eventName: string): boolean {\n    if (!EVENT_NAMES.hasOwnProperty(eventName.toLowerCase()) && !this.isCustomEvent(eventName)) {\n      return false;\n    }\n\n    if (!( /** @type {?} */((window as any))).Hammer) {\n      throw new Error(`Hammer.js is not loaded, can not bind ${eventName} event`);\n    }\n\n    return true;\n  }\n/**\n * @param {?} element\n * @param {?} eventName\n * @param {?} handler\n * @return {?}\n */\naddEventListener(element: HTMLElement, eventName: string, handler: Function): Function {\n    const /** @type {?} */ zone = this.manager.getZone();\n    eventName = eventName.toLowerCase();\n\n    return zone.runOutsideAngular(() => {\n      // Creating the manager bind events, must be done outside of angular\n      const /** @type {?} */ mc = this._config.buildHammer(element);\n      const /** @type {?} */ callback = function(eventObj: HammerInput) {\n        zone.runGuarded(function() { handler(eventObj); });\n      };\n      mc.on(eventName, callback);\n      return () => mc.off(eventName, callback);\n    });\n  }\n/**\n * @param {?} eventName\n * @return {?}\n */\nisCustomEvent(eventName: string): boolean { return this._config.events.indexOf(eventName) > -1; }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n{type: HammerGestureConfig, decorators: [{ type: Inject, args: [HAMMER_GESTURE_CONFIG, ] }, ]},\n];\n}\n\nfunction HammerGesturesPlugin_tsickle_Closure_declarations() {\n/** @type {?} */\nHammerGesturesPlugin.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nHammerGesturesPlugin.ctorParameters;\n/** @type {?} */\nHammerGesturesPlugin.prototype._config;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {Inject, Injectable, NgZone} from '@angular/core';\n\nimport {getDOM} from '../dom_adapter';\nimport {DOCUMENT} from '../dom_tokens';\n\nimport {EventManagerPlugin} from './event_manager';\n\nconst /** @type {?} */ MODIFIER_KEYS = ['alt', 'control', 'meta', 'shift'];\nconst /** @type {?} */ MODIFIER_KEY_GETTERS: {[key: string]: (event: KeyboardEvent) => boolean} = {\n  'alt': (event: KeyboardEvent) => event.altKey,\n  'control': (event: KeyboardEvent) => event.ctrlKey,\n  'meta': (event: KeyboardEvent) => event.metaKey,\n  'shift': (event: KeyboardEvent) => event.shiftKey\n};\n/**\n * \\@experimental\n */\nexport class KeyEventsPlugin extends EventManagerPlugin {\n/**\n * @param {?} doc\n */\nconstructor( doc: any) { super(doc); }\n/**\n * @param {?} eventName\n * @return {?}\n */\nsupports(eventName: string): boolean { return KeyEventsPlugin.parseEventName(eventName) != null; }\n/**\n * @param {?} element\n * @param {?} eventName\n * @param {?} handler\n * @return {?}\n */\naddEventListener(element: HTMLElement, eventName: string, handler: Function): Function {\n    const /** @type {?} */ parsedEvent = /** @type {?} */(( KeyEventsPlugin.parseEventName(eventName)));\n\n    const /** @type {?} */ outsideHandler =\n        KeyEventsPlugin.eventCallback(parsedEvent['fullKey'], handler, this.manager.getZone());\n\n    return this.manager.getZone().runOutsideAngular(() => {\n      return getDOM().onAndCancel(element, parsedEvent['domEventName'], outsideHandler);\n    });\n  }\n/**\n * @param {?} eventName\n * @return {?}\n */\nstatic parseEventName(eventName: string): {[key: string]: string}|null {\n    const /** @type {?} */ parts: string[] = eventName.toLowerCase().split('.');\n\n    const /** @type {?} */ domEventName = parts.shift();\n    if ((parts.length === 0) || !(domEventName === 'keydown' || domEventName === 'keyup')) {\n      return null;\n    }\n\n    const /** @type {?} */ key = KeyEventsPlugin._normalizeKey( /** @type {?} */((parts.pop())));\n\n    let /** @type {?} */ fullKey = '';\n    MODIFIER_KEYS.forEach(modifierName => {\n      const /** @type {?} */ index: number = parts.indexOf(modifierName);\n      if (index > -1) {\n        parts.splice(index, 1);\n        fullKey += modifierName + '.';\n      }\n    });\n    fullKey += key;\n\n    if (parts.length != 0 || key.length === 0) {\n      // returning null instead of throwing to let another plugin process the event\n      return null;\n    }\n\n    const /** @type {?} */ result: {[k: string]: string} = {};\n    result['domEventName'] = domEventName;\n    result['fullKey'] = fullKey;\n    return result;\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nstatic getEventFullKey(event: KeyboardEvent): string {\n    let /** @type {?} */ fullKey = '';\n    let /** @type {?} */ key = getDOM().getEventKey(event);\n    key = key.toLowerCase();\n    if (key === ' ') {\n      key = 'space';  // for readability\n    } else if (key === '.') {\n      key = 'dot';  // because '.' is used as a separator in event names\n    }\n    MODIFIER_KEYS.forEach(modifierName => {\n      if (modifierName != key) {\n        const /** @type {?} */ modifierGetter = MODIFIER_KEY_GETTERS[modifierName];\n        if (modifierGetter(event)) {\n          fullKey += modifierName + '.';\n        }\n      }\n    });\n    fullKey += key;\n    return fullKey;\n  }\n/**\n * @param {?} fullKey\n * @param {?} handler\n * @param {?} zone\n * @return {?}\n */\nstatic eventCallback(fullKey: any, handler: Function, zone: NgZone): Function {\n    return (event: any /** TODO #9100 */) => {\n      if (KeyEventsPlugin.getEventFullKey(event) === fullKey) {\n        zone.runGuarded(() => handler(event));\n      }\n    };\n  }\n/**\n * \\@internal\n * @param {?} keyName\n * @return {?}\n */\nstatic _normalizeKey(keyName: string): string {\n    // TODO: switch to a Map if the mapping grows too much\n    switch (keyName) {\n      case 'esc':\n        return 'escape';\n      default:\n        return keyName;\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\n}\n\nfunction KeyEventsPlugin_tsickle_Closure_declarations() {\n/** @type {?} */\nKeyEventsPlugin.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nKeyEventsPlugin.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {CommonModule, PlatformLocation, ɵPLATFORM_BROWSER_ID as PLATFORM_BROWSER_ID} from '@angular/common';\nimport {APP_ID, ApplicationModule, ErrorHandler, ModuleWithProviders, NgModule, Optional, PLATFORM_ID, PLATFORM_INITIALIZER, PlatformRef, Provider, RendererFactory2, RootRenderer, Sanitizer, SkipSelf, Testability, createPlatformFactory, platformCore} from '@angular/core';\n\nimport {BrowserDomAdapter} from './browser/browser_adapter';\nimport {BrowserPlatformLocation} from './browser/location/browser_platform_location';\nimport {Meta} from './browser/meta';\nimport {SERVER_TRANSITION_PROVIDERS, TRANSITION_ID} from './browser/server-transition';\nimport {BrowserGetTestability} from './browser/testability';\nimport {Title} from './browser/title';\nimport {ELEMENT_PROBE_PROVIDERS} from './dom/debug/ng_probe';\nimport {getDOM} from './dom/dom_adapter';\nimport {DomRendererFactory2} from './dom/dom_renderer';\nimport {DOCUMENT} from './dom/dom_tokens';\nimport {DomEventsPlugin} from './dom/events/dom_events';\nimport {EVENT_MANAGER_PLUGINS, EventManager} from './dom/events/event_manager';\nimport {HAMMER_GESTURE_CONFIG, HammerGestureConfig, HammerGesturesPlugin} from './dom/events/hammer_gestures';\nimport {KeyEventsPlugin} from './dom/events/key_events';\nimport {DomSharedStylesHost, SharedStylesHost} from './dom/shared_styles_host';\nimport {DomSanitizer, DomSanitizerImpl} from './security/dom_sanitization_service';\n\nexport const /** @type {?} */ INTERNAL_BROWSER_PLATFORM_PROVIDERS: Provider[] = [\n  {provide: PLATFORM_ID, useValue: PLATFORM_BROWSER_ID},\n  {provide: PLATFORM_INITIALIZER, useValue: initDomAdapter, multi: true},\n  {provide: PlatformLocation, useClass: BrowserPlatformLocation},\n  {provide: DOCUMENT, useFactory: _document, deps: []},\n];\n/**\n * \\@security Replacing built-in sanitization providers exposes the application to XSS risks.\n * Attacker-controlled data introduced by an unsanitized provider could expose your\n * application to XSS risks. For more detail, see the [Security Guide](http://g.co/ng/security).\n * \\@experimental\n */\nexport const BROWSER_SANITIZATION_PROVIDERS: Array<any> = [\n  {provide: Sanitizer, useExisting: DomSanitizer},\n  {provide: DomSanitizer, useClass: DomSanitizerImpl},\n];\n/**\n * \\@stable\n */\nexport const platformBrowser: (extraProviders?: Provider[]) => PlatformRef =\n    createPlatformFactory(platformCore, 'browser', INTERNAL_BROWSER_PLATFORM_PROVIDERS);\n/**\n * @return {?}\n */\nexport function initDomAdapter() {\n  BrowserDomAdapter.makeCurrent();\n  BrowserGetTestability.init();\n}\n/**\n * @return {?}\n */\nexport function errorHandler(): ErrorHandler {\n  return new ErrorHandler();\n}\n/**\n * @return {?}\n */\nexport function _document(): any {\n  return document;\n}\n/**\n * The ng module for the browser.\n * \n * \\@stable\n */\nexport class BrowserModule {\n/**\n * @param {?} parentModule\n */\nconstructor(  parentModule: BrowserModule) {\n    if (parentModule) {\n      throw new Error(\n          `BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.`);\n    }\n  }\n/**\n * Configures a browser-based application to transition from a server-rendered app, if\n * one is present on the page. The specified parameters must include an application id,\n * which must match between the client and server applications.\n * \n * \\@experimental\n * @param {?} params\n * @return {?}\n */\nstatic withServerTransition(params: {appId: string}): ModuleWithProviders {\n    return {\n      ngModule: BrowserModule,\n      providers: [\n        {provide: APP_ID, useValue: params.appId},\n        {provide: TRANSITION_ID, useExisting: APP_ID},\n        SERVER_TRANSITION_PROVIDERS,\n      ],\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  providers: [\n    BROWSER_SANITIZATION_PROVIDERS,\n    {provide: ErrorHandler, useFactory: errorHandler, deps: []},\n    {provide: EVENT_MANAGER_PLUGINS, useClass: DomEventsPlugin, multi: true},\n    {provide: EVENT_MANAGER_PLUGINS, useClass: KeyEventsPlugin, multi: true},\n    {provide: EVENT_MANAGER_PLUGINS, useClass: HammerGesturesPlugin, multi: true},\n    {provide: HAMMER_GESTURE_CONFIG, useClass: HammerGestureConfig},\n    DomRendererFactory2,\n    {provide: RendererFactory2, useExisting: DomRendererFactory2},\n    {provide: SharedStylesHost, useExisting: DomSharedStylesHost},\n    DomSharedStylesHost,\n    Testability,\n    EventManager,\n    ELEMENT_PROBE_PROVIDERS,\n    Meta,\n    Title,\n  ],\n  exports: [CommonModule, ApplicationModule]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: BrowserModule, decorators: [{ type: Optional }, { type: SkipSelf }, ]},\n];\n}\n\nfunction BrowserModule_tsickle_Closure_declarations() {\n/** @type {?} */\nBrowserModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nBrowserModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {ApplicationRef, ComponentRef} from '@angular/core';\nimport {getDOM} from '../../dom/dom_adapter';\nimport {window} from './browser';\nexport class ChangeDetectionPerfRecord {\n/**\n * @param {?} msPerTick\n * @param {?} numTicks\n */\nconstructor(public msPerTick: number,\npublic numTicks: number) {}\n}\n\nfunction ChangeDetectionPerfRecord_tsickle_Closure_declarations() {\n/** @type {?} */\nChangeDetectionPerfRecord.prototype.msPerTick;\n/** @type {?} */\nChangeDetectionPerfRecord.prototype.numTicks;\n}\n\n/**\n * Entry point for all Angular profiling-related debug tools. This object\n * corresponds to the `ng.profiler` in the dev console.\n */\nexport class AngularProfiler {\n  appRef: ApplicationRef;\n/**\n * @param {?} ref\n */\nconstructor(ref: ComponentRef<any>) { this.appRef = ref.injector.get(ApplicationRef); }\n/**\n * Exercises change detection in a loop and then prints the average amount of\n * time in milliseconds how long a single round of change detection takes for\n * the current state of the UI. It runs a minimum of 5 rounds for a minimum\n * of 500 milliseconds.\n * \n * Optionally, a user may pass a `config` parameter containing a map of\n * options. Supported options are:\n * \n * `record` (boolean) - causes the profiler to record a CPU profile while\n * it exercises the change detector. Example:\n * \n * ```\n * ng.profiler.timeChangeDetection({record: true})\n * ```\n * @param {?} config\n * @return {?}\n */\ntimeChangeDetection(config: any): ChangeDetectionPerfRecord {\n    const /** @type {?} */ record = config && config['record'];\n    const /** @type {?} */ profileName = 'Change Detection';\n    // Profiler is not available in Android browsers, nor in IE 9 without dev tools opened\n    const /** @type {?} */ isProfilerAvailable = window.console.profile != null;\n    if (record && isProfilerAvailable) {\n      window.console.profile(profileName);\n    }\n    const /** @type {?} */ start = getDOM().performanceNow();\n    let /** @type {?} */ numTicks = 0;\n    while (numTicks < 5 || (getDOM().performanceNow() - start) < 500) {\n      this.appRef.tick();\n      numTicks++;\n    }\n    const /** @type {?} */ end = getDOM().performanceNow();\n    if (record && isProfilerAvailable) {\n      // need to cast to <any> because type checker thinks there's no argument\n      // while in fact there is:\n      //\n      // https://developer.mozilla.org/en-US/docs/Web/API/Console/profileEnd\n      ( /** @type {?} */((<any>window.console.profileEnd)))(profileName);\n    }\n    const /** @type {?} */ msPerTick = (end - start) / numTicks;\n    window.console.log(`ran ${numTicks} change detection cycles`);\n    window.console.log(`${msPerTick.toFixed(2)} ms per check`);\n\n    return new ChangeDetectionPerfRecord(msPerTick, numTicks);\n  }\n}\n\nfunction AngularProfiler_tsickle_Closure_declarations() {\n/** @type {?} */\nAngularProfiler.prototype.appRef;\n}\n\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { EventEmitter, Injectable, Optional, SkipSelf, Inject, InjectionToken, } from '@angular/core';\nimport { DOCUMENT } from '@angular/platform-browser';\n/**\n * Injection token used to inject the document into Directionality.\n * This is used so that the value can be faked in tests.\n *\n * We can't use the real document in tests because changing the real `dir` causes geometry-based\n * tests in Safari to fail.\n *\n * We also can't re-provide the DOCUMENT token from platform-brower because the unit tests\n * themselves use things like `querySelector` in test code.\n */\nexport var DIR_DOCUMENT = new InjectionToken('mat-dir-doc');\n/**\n * The directionality (LTR / RTL) context for the application (or a subtree of it).\n * Exposes the current direction and a stream of direction changes.\n */\nvar Directionality = (function () {\n    /**\n     * @param {?=} _document\n     */\n    function Directionality(_document) {\n        this.value = 'ltr';\n        this.change = new EventEmitter();\n        if (_document) {\n            // TODO: handle 'auto' value -\n            // We still need to account for dir=\"auto\".\n            // It looks like HTMLElemenet.dir is also \"auto\" when that's set to the attribute,\n            // but getComputedStyle return either \"ltr\" or \"rtl\". avoiding getComputedStyle for now\n            var bodyDir = _document.body ? _document.body.dir : null;\n            var htmlDir = _document.documentElement ? _document.documentElement.dir : null;\n            this.value = (bodyDir || htmlDir || 'ltr');\n        }\n    }\n    Directionality.decorators = [\n        { type: Injectable },\n    ];\n    /**\n     * @nocollapse\n     */\n    Directionality.ctorParameters = function () { return [\n        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [DIR_DOCUMENT,] },] },\n    ]; };\n    return Directionality;\n}());\nexport { Directionality };\nfunction Directionality_tsickle_Closure_declarations() {\n    /** @type {?} */\n    Directionality.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    Directionality.ctorParameters;\n    /** @type {?} */\n    Directionality.prototype.value;\n    /** @type {?} */\n    Directionality.prototype.change;\n}\n/**\n * \\@docs-private\n * @param {?} parentDirectionality\n * @param {?} _document\n * @return {?}\n */\nexport function DIRECTIONALITY_PROVIDER_FACTORY(parentDirectionality, _document) {\n    return parentDirectionality || new Directionality(_document);\n}\n/**\n * \\@docs-private\n */\nexport var DIRECTIONALITY_PROVIDER = {\n    // If there is already a Directionality available, use that. Otherwise, provide a new one.\n    provide: Directionality,\n    deps: [[new Optional(), new SkipSelf(), Directionality], [new Optional(), DOCUMENT]],\n    useFactory: DIRECTIONALITY_PROVIDER_FACTORY\n};\n//# sourceMappingURL=directionality.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {ComponentRef} from '@angular/core';\nimport {exportNgVar} from '../../dom/util';\nimport {AngularProfiler} from './common_tools';\n\nconst /** @type {?} */ PROFILER_GLOBAL_NAME = 'profiler';\n/**\n * Enabled Angular debug tools that are accessible via your browser's\n * developer console.\n * \n * Usage:\n * \n * 1. Open developer console (e.g. in Chrome Ctrl + Shift + j)\n * 1. Type `ng.` (usually the console will show auto-complete suggestion)\n * 1. Try the change detection profiler `ng.profiler.timeChangeDetection()`\n *    then hit Enter.\n * \n * \\@experimental All debugging apis are currently experimental.\n * @template T\n * @param {?} ref\n * @return {?}\n */\nexport function enableDebugTools<T>(ref: ComponentRef<T>): ComponentRef<T> {\n  exportNgVar(PROFILER_GLOBAL_NAME, new AngularProfiler(ref));\n  return ref;\n}\n/**\n * Disables Angular tools.\n * \n * \\@experimental All debugging apis are currently experimental.\n * @return {?}\n */\nexport function disableDebugTools(): void {\n  exportNgVar(PROFILER_GLOBAL_NAME, null);\n}\n","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Scroll strategy that doesn't do anything.\n */\nvar NoopScrollStrategy = (function () {\n    function NoopScrollStrategy() {\n    }\n    /**\n     * @return {?}\n     */\n    NoopScrollStrategy.prototype.enable = function () { };\n    /**\n     * @return {?}\n     */\n    NoopScrollStrategy.prototype.disable = function () { };\n    /**\n     * @return {?}\n     */\n    NoopScrollStrategy.prototype.attach = function () { };\n    return NoopScrollStrategy;\n}());\nexport { NoopScrollStrategy };\n//# sourceMappingURL=noop-scroll-strategy.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Directive, Output, Input, EventEmitter } from '@angular/core';\nimport { Directionality } from './directionality';\n/**\n * Directive to listen for changes of direction of part of the DOM.\n *\n * Would provide itself in case a component looks for the Directionality service\n */\nvar Dir = (function () {\n    function Dir() {\n        /**\n         * Layout direction of the element.\n         */\n        this._dir = 'ltr';\n        /**\n         * Whether the `value` has been set to its initial value.\n         */\n        this._isInitialized = false;\n        /**\n         * Event emitted when the direction changes.\n         */\n        this.change = new EventEmitter();\n    }\n    Object.defineProperty(Dir.prototype, \"dir\", {\n        /**\n         * \\@docs-private\n         * @return {?}\n         */\n        get: function () {\n            return this._dir;\n        },\n        /**\n         * @param {?} v\n         * @return {?}\n         */\n        set: function (v) {\n            var /** @type {?} */ old = this._dir;\n            this._dir = v;\n            if (old !== this._dir && this._isInitialized) {\n                this.change.emit();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Dir.prototype, \"value\", {\n        /**\n         * Current layout direction of the element.\n         * @return {?}\n         */\n        get: function () { return this.dir; },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Initialize once default value has been set.\n     * @return {?}\n     */\n    Dir.prototype.ngAfterContentInit = function () {\n        this._isInitialized = true;\n    };\n    Dir.decorators = [\n        { type: Directive, args: [{\n                    selector: '[dir]',\n                    providers: [{ provide: Directionality, useExisting: Dir }],\n                    host: { '[dir]': 'dir' },\n                    exportAs: 'dir',\n                },] },\n    ];\n    /**\n     * @nocollapse\n     */\n    Dir.ctorParameters = function () { return []; };\n    Dir.propDecorators = {\n        'change': [{ type: Output, args: ['dirChange',] },],\n        'dir': [{ type: Input, args: ['dir',] },],\n    };\n    return Dir;\n}());\nexport { Dir };\nfunction Dir_tsickle_Closure_declarations() {\n    /** @type {?} */\n    Dir.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    Dir.ctorParameters;\n    /** @type {?} */\n    Dir.propDecorators;\n    /**\n     * Layout direction of the element.\n     * @type {?}\n     */\n    Dir.prototype._dir;\n    /**\n     * Whether the `value` has been set to its initial value.\n     * @type {?}\n     */\n    Dir.prototype._isInitialized;\n    /**\n     * Event emitted when the direction changes.\n     * @type {?}\n     */\n    Dir.prototype.change;\n}\n//# sourceMappingURL=dir.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { NoopScrollStrategy } from './scroll/noop-scroll-strategy';\n/**\n * OverlayConfig captures the initial configuration used when opening an overlay.\n */\nvar OverlayConfig = (function () {\n    /**\n     * @param {?=} config\n     */\n    function OverlayConfig(config) {\n        var _this = this;\n        /**\n         * Strategy to be used when handling scroll events while the overlay is open.\n         */\n        this.scrollStrategy = new NoopScrollStrategy();\n        /**\n         * Custom class to add to the overlay pane.\n         */\n        this.panelClass = '';\n        /**\n         * Whether the overlay has a backdrop.\n         */\n        this.hasBackdrop = false;\n        /**\n         * Custom class to add to the backdrop\n         */\n        this.backdropClass = 'cdk-overlay-dark-backdrop';\n        /**\n         * The direction of the text in the overlay panel.\n         */\n        this.direction = 'ltr';\n        if (config) {\n            Object.keys(config).forEach(function (key) { return _this[key] = config[key]; });\n        }\n    }\n    return OverlayConfig;\n}());\nexport { OverlayConfig };\nfunction OverlayConfig_tsickle_Closure_declarations() {\n    /**\n     * Strategy with which to position the overlay.\n     * @type {?}\n     */\n    OverlayConfig.prototype.positionStrategy;\n    /**\n     * Strategy to be used when handling scroll events while the overlay is open.\n     * @type {?}\n     */\n    OverlayConfig.prototype.scrollStrategy;\n    /**\n     * Custom class to add to the overlay pane.\n     * @type {?}\n     */\n    OverlayConfig.prototype.panelClass;\n    /**\n     * Whether the overlay has a backdrop.\n     * @type {?}\n     */\n    OverlayConfig.prototype.hasBackdrop;\n    /**\n     * Custom class to add to the backdrop\n     * @type {?}\n     */\n    OverlayConfig.prototype.backdropClass;\n    /**\n     * The width of the overlay panel. If a number is provided, pixel units are assumed.\n     * @type {?}\n     */\n    OverlayConfig.prototype.width;\n    /**\n     * The height of the overlay panel. If a number is provided, pixel units are assumed.\n     * @type {?}\n     */\n    OverlayConfig.prototype.height;\n    /**\n     * The min-width of the overlay panel. If a number is provided, pixel units are assumed.\n     * @type {?}\n     */\n    OverlayConfig.prototype.minWidth;\n    /**\n     * The min-height of the overlay panel. If a number is provided, pixel units are assumed.\n     * @type {?}\n     */\n    OverlayConfig.prototype.minHeight;\n    /**\n     * The max-width of the overlay panel. If a number is provided, pixel units are assumed.\n     * @type {?}\n     */\n    OverlayConfig.prototype.maxWidth;\n    /**\n     * The max-height of the overlay panel. If a number is provided, pixel units are assumed.\n     * @type {?}\n     */\n    OverlayConfig.prototype.maxHeight;\n    /**\n     * The direction of the text in the overlay panel.\n     * @type {?}\n     */\n    OverlayConfig.prototype.direction;\n}\n//# sourceMappingURL=overlay-config.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Horizontal dimension of a connection point on the perimeter of the origin or overlay element. */\nimport { Optional } from '@angular/core';\n/**\n * The points of the origin element and the overlay element to connect.\n */\nvar ConnectionPositionPair = (function () {\n    /**\n     * @param {?} origin\n     * @param {?} overlay\n     */\n    function ConnectionPositionPair(origin, overlay) {\n        this.originX = origin.originX;\n        this.originY = origin.originY;\n        this.overlayX = overlay.overlayX;\n        this.overlayY = overlay.overlayY;\n    }\n    return ConnectionPositionPair;\n}());\nexport { ConnectionPositionPair };\nfunction ConnectionPositionPair_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ConnectionPositionPair.prototype.originX;\n    /** @type {?} */\n    ConnectionPositionPair.prototype.originY;\n    /** @type {?} */\n    ConnectionPositionPair.prototype.overlayX;\n    /** @type {?} */\n    ConnectionPositionPair.prototype.overlayY;\n}\n/**\n * Set of properties regarding the position of the origin and overlay relative to the viewport\n * with respect to the containing Scrollable elements.\n *\n * The overlay and origin are clipped if any part of their bounding client rectangle exceeds the\n * bounds of any one of the strategy's Scrollable's bounding client rectangle.\n *\n * The overlay and origin are outside view if there is no overlap between their bounding client\n * rectangle and any one of the strategy's Scrollable's bounding client rectangle.\n *\n *       -----------                    -----------\n *       | outside |                    | clipped |\n *       |  view   |              --------------------------\n *       |         |              |     |         |        |\n *       ----------               |     -----------        |\n *  --------------------------    |                        |\n *  |                        |    |      Scrollable        |\n *  |                        |    |                        |\n *  |                        |     --------------------------\n *  |      Scrollable        |\n *  |                        |\n *  --------------------------\n */\nvar ScrollingVisibility = (function () {\n    function ScrollingVisibility() {\n    }\n    return ScrollingVisibility;\n}());\nexport { ScrollingVisibility };\nfunction ScrollingVisibility_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ScrollingVisibility.prototype.isOriginClipped;\n    /** @type {?} */\n    ScrollingVisibility.prototype.isOriginOutsideView;\n    /** @type {?} */\n    ScrollingVisibility.prototype.isOverlayClipped;\n    /** @type {?} */\n    ScrollingVisibility.prototype.isOverlayOutsideView;\n}\n/**\n * The change event emitted by the strategy when a fallback position is used.\n */\nvar ConnectedOverlayPositionChange = (function () {\n    /**\n     * @param {?} connectionPair\n     * @param {?} scrollableViewProperties\n     */\n    function ConnectedOverlayPositionChange(connectionPair, scrollableViewProperties) {\n        this.connectionPair = connectionPair;\n        this.scrollableViewProperties = scrollableViewProperties;\n    }\n    /**\n     * @nocollapse\n     */\n    ConnectedOverlayPositionChange.ctorParameters = function () { return [\n        { type: ConnectionPositionPair, },\n        { type: ScrollingVisibility, decorators: [{ type: Optional },] },\n    ]; };\n    return ConnectedOverlayPositionChange;\n}());\nexport { ConnectedOverlayPositionChange };\nfunction ConnectedOverlayPositionChange_tsickle_Closure_declarations() {\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    ConnectedOverlayPositionChange.ctorParameters;\n    /** @type {?} */\n    ConnectedOverlayPositionChange.prototype.connectionPair;\n    /** @type {?} */\n    ConnectedOverlayPositionChange.prototype.scrollableViewProperties;\n}\n//# sourceMappingURL=connected-position.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { ConnectionPositionPair, ConnectedOverlayPositionChange, } from './connected-position';\nimport { Subject } from 'rxjs/Subject';\nimport { Subscription } from 'rxjs/Subscription';\nimport { isElementScrolledOutsideView, isElementClippedByScrolling } from './scroll-clip';\n/**\n * A strategy for positioning overlays. Using this strategy, an overlay is given an\n * implicit position relative some origin element. The relative position is defined in terms of\n * a point on the origin element that is connected to a point on the overlay element. For example,\n * a basic dropdown is connecting the bottom-left corner of the origin to the top-left corner\n * of the overlay.\n */\nvar ConnectedPositionStrategy = (function () {\n    /**\n     * @param {?} originPos\n     * @param {?} overlayPos\n     * @param {?} _connectedTo\n     * @param {?} _viewportRuler\n     */\n    function ConnectedPositionStrategy(originPos, overlayPos, _connectedTo, _viewportRuler) {\n        this._connectedTo = _connectedTo;\n        this._viewportRuler = _viewportRuler;\n        /**\n         * Layout direction of the position strategy.\n         */\n        this._dir = 'ltr';\n        /**\n         * The offset in pixels for the overlay connection point on the x-axis\n         */\n        this._offsetX = 0;\n        /**\n         * The offset in pixels for the overlay connection point on the y-axis\n         */\n        this._offsetY = 0;\n        /**\n         * The Scrollable containers used to check scrollable view properties on position change.\n         */\n        this.scrollables = [];\n        /**\n         * Subscription to viewport resize events.\n         */\n        this._resizeSubscription = Subscription.EMPTY;\n        /**\n         * Ordered list of preferred positions, from most to least desirable.\n         */\n        this._preferredPositions = [];\n        this._onPositionChange = new Subject();\n        this._origin = this._connectedTo.nativeElement;\n        this.withFallbackPosition(originPos, overlayPos);\n    }\n    Object.defineProperty(ConnectedPositionStrategy.prototype, \"_isRtl\", {\n        /**\n         * Whether the we're dealing with an RTL context\n         * @return {?}\n         */\n        get: function () {\n            return this._dir === 'rtl';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedPositionStrategy.prototype, \"onPositionChange\", {\n        /**\n         * Emits an event when the connection point changes.\n         * @return {?}\n         */\n        get: function () {\n            return this._onPositionChange.asObservable();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedPositionStrategy.prototype, \"positions\", {\n        /**\n         * Ordered list of preferred positions, from most to least desirable.\n         * @return {?}\n         */\n        get: function () {\n            return this._preferredPositions;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @param {?} overlayRef\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype.attach = function (overlayRef) {\n        var _this = this;\n        this._overlayRef = overlayRef;\n        this._pane = overlayRef.overlayElement;\n        this._resizeSubscription.unsubscribe();\n        this._resizeSubscription = this._viewportRuler.change().subscribe(function () { return _this.apply(); });\n    };\n    /**\n     * Performs any cleanup after the element is destroyed.\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype.dispose = function () {\n        this._resizeSubscription.unsubscribe();\n    };\n    /**\n     * \\@docs-private\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype.detach = function () {\n        this._resizeSubscription.unsubscribe();\n    };\n    /**\n     * Updates the position of the overlay element, using whichever preferred position relative\n     * to the origin fits on-screen.\n     * \\@docs-private\n     *\n     * @return {?} Resolves when the styles have been applied.\n     */\n    ConnectedPositionStrategy.prototype.apply = function () {\n        // We need the bounding rects for the origin and the overlay to determine how to position\n        // the overlay relative to the origin.\n        var /** @type {?} */ element = this._pane;\n        var /** @type {?} */ originRect = this._origin.getBoundingClientRect();\n        var /** @type {?} */ overlayRect = element.getBoundingClientRect();\n        // We use the viewport rect to determine whether a position would go off-screen.\n        var /** @type {?} */ viewportRect = this._viewportRuler.getViewportRect();\n        // Fallback point if none of the fallbacks fit into the viewport.\n        var /** @type {?} */ fallbackPoint;\n        var /** @type {?} */ fallbackPosition;\n        // We want to place the overlay in the first of the preferred positions such that the\n        // overlay fits on-screen.\n        for (var _i = 0, _a = this._preferredPositions; _i < _a.length; _i++) {\n            var pos = _a[_i];\n            // Get the (x, y) point of connection on the origin, and then use that to get the\n            // (top, left) coordinate for the overlay at `pos`.\n            var /** @type {?} */ originPoint = this._getOriginConnectionPoint(originRect, pos);\n            var /** @type {?} */ overlayPoint = this._getOverlayPoint(originPoint, overlayRect, viewportRect, pos);\n            // If the overlay in the calculated position fits on-screen, put it there and we're done.\n            if (overlayPoint.fitsInViewport) {\n                this._setElementPosition(element, overlayRect, overlayPoint, pos);\n                // Save the last connected position in case the position needs to be re-calculated.\n                this._lastConnectedPosition = pos;\n                return;\n            }\n            else if (!fallbackPoint || fallbackPoint.visibleArea < overlayPoint.visibleArea) {\n                fallbackPoint = overlayPoint;\n                fallbackPosition = pos;\n            }\n        }\n        // If none of the preferred positions were in the viewport, take the one\n        // with the largest visible area.\n        this._setElementPosition(element, overlayRect, /** @type {?} */ ((fallbackPoint)), /** @type {?} */ ((fallbackPosition)));\n    };\n    /**\n     * This re-aligns the overlay element with the trigger in its last calculated position,\n     * even if a position higher in the \"preferred positions\" list would now fit. This\n     * allows one to re-align the panel without changing the orientation of the panel.\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype.recalculateLastPosition = function () {\n        var /** @type {?} */ originRect = this._origin.getBoundingClientRect();\n        var /** @type {?} */ overlayRect = this._pane.getBoundingClientRect();\n        var /** @type {?} */ viewportRect = this._viewportRuler.getViewportRect();\n        var /** @type {?} */ lastPosition = this._lastConnectedPosition || this._preferredPositions[0];\n        var /** @type {?} */ originPoint = this._getOriginConnectionPoint(originRect, lastPosition);\n        var /** @type {?} */ overlayPoint = this._getOverlayPoint(originPoint, overlayRect, viewportRect, lastPosition);\n        this._setElementPosition(this._pane, overlayRect, overlayPoint, lastPosition);\n    };\n    /**\n     * Sets the list of Scrollable containers that host the origin element so that\n     * on reposition we can evaluate if it or the overlay has been clipped or outside view. Every\n     * Scrollable must be an ancestor element of the strategy's origin element.\n     * @param {?} scrollables\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype.withScrollableContainers = function (scrollables) {\n        this.scrollables = scrollables;\n    };\n    /**\n     * Adds a new preferred fallback position.\n     * @param {?} originPos\n     * @param {?} overlayPos\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype.withFallbackPosition = function (originPos, overlayPos) {\n        this._preferredPositions.push(new ConnectionPositionPair(originPos, overlayPos));\n        return this;\n    };\n    /**\n     * Sets the layout direction so the overlay's position can be adjusted to match.\n     * @param {?} dir New layout direction.\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype.withDirection = function (dir) {\n        this._dir = dir;\n        return this;\n    };\n    /**\n     * Sets an offset for the overlay's connection point on the x-axis\n     * @param {?} offset New offset in the X axis.\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype.withOffsetX = function (offset) {\n        this._offsetX = offset;\n        return this;\n    };\n    /**\n     * Sets an offset for the overlay's connection point on the y-axis\n     * @param {?} offset New offset in the Y axis.\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype.withOffsetY = function (offset) {\n        this._offsetY = offset;\n        return this;\n    };\n    /**\n     * Gets the horizontal (x) \"start\" dimension based on whether the overlay is in an RTL context.\n     * @param {?} rect\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype._getStartX = function (rect) {\n        return this._isRtl ? rect.right : rect.left;\n    };\n    /**\n     * Gets the horizontal (x) \"end\" dimension based on whether the overlay is in an RTL context.\n     * @param {?} rect\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype._getEndX = function (rect) {\n        return this._isRtl ? rect.left : rect.right;\n    };\n    /**\n     * Gets the (x, y) coordinate of a connection point on the origin based on a relative position.\n     * @param {?} originRect\n     * @param {?} pos\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype._getOriginConnectionPoint = function (originRect, pos) {\n        var /** @type {?} */ originStartX = this._getStartX(originRect);\n        var /** @type {?} */ originEndX = this._getEndX(originRect);\n        var /** @type {?} */ x;\n        if (pos.originX == 'center') {\n            x = originStartX + (originRect.width / 2);\n        }\n        else {\n            x = pos.originX == 'start' ? originStartX : originEndX;\n        }\n        var /** @type {?} */ y;\n        if (pos.originY == 'center') {\n            y = originRect.top + (originRect.height / 2);\n        }\n        else {\n            y = pos.originY == 'top' ? originRect.top : originRect.bottom;\n        }\n        return { x: x, y: y };\n    };\n    /**\n     * Gets the (x, y) coordinate of the top-left corner of the overlay given a given position and\n     * origin point to which the overlay should be connected, as well as how much of the element\n     * would be inside the viewport at that position.\n     * @param {?} originPoint\n     * @param {?} overlayRect\n     * @param {?} viewportRect\n     * @param {?} pos\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype._getOverlayPoint = function (originPoint, overlayRect, viewportRect, pos) {\n        // Calculate the (overlayStartX, overlayStartY), the start of the potential overlay position\n        // relative to the origin point.\n        var /** @type {?} */ overlayStartX;\n        if (pos.overlayX == 'center') {\n            overlayStartX = -overlayRect.width / 2;\n        }\n        else if (pos.overlayX === 'start') {\n            overlayStartX = this._isRtl ? -overlayRect.width : 0;\n        }\n        else {\n            overlayStartX = this._isRtl ? 0 : -overlayRect.width;\n        }\n        var /** @type {?} */ overlayStartY;\n        if (pos.overlayY == 'center') {\n            overlayStartY = -overlayRect.height / 2;\n        }\n        else {\n            overlayStartY = pos.overlayY == 'top' ? 0 : -overlayRect.height;\n        }\n        // The (x, y) coordinates of the overlay.\n        var /** @type {?} */ x = originPoint.x + overlayStartX + this._offsetX;\n        var /** @type {?} */ y = originPoint.y + overlayStartY + this._offsetY;\n        // How much the overlay would overflow at this position, on each side.\n        var /** @type {?} */ leftOverflow = 0 - x;\n        var /** @type {?} */ rightOverflow = (x + overlayRect.width) - viewportRect.width;\n        var /** @type {?} */ topOverflow = 0 - y;\n        var /** @type {?} */ bottomOverflow = (y + overlayRect.height) - viewportRect.height;\n        // Visible parts of the element on each axis.\n        var /** @type {?} */ visibleWidth = this._subtractOverflows(overlayRect.width, leftOverflow, rightOverflow);\n        var /** @type {?} */ visibleHeight = this._subtractOverflows(overlayRect.height, topOverflow, bottomOverflow);\n        // The area of the element that's within the viewport.\n        var /** @type {?} */ visibleArea = visibleWidth * visibleHeight;\n        var /** @type {?} */ fitsInViewport = (overlayRect.width * overlayRect.height) === visibleArea;\n        return { x: x, y: y, fitsInViewport: fitsInViewport, visibleArea: visibleArea };\n    };\n    /**\n     * Gets the view properties of the trigger and overlay, including whether they are clipped\n     * or completely outside the view of any of the strategy's scrollables.\n     * @param {?} overlay\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype._getScrollVisibility = function (overlay) {\n        var /** @type {?} */ originBounds = this._origin.getBoundingClientRect();\n        var /** @type {?} */ overlayBounds = overlay.getBoundingClientRect();\n        var /** @type {?} */ scrollContainerBounds = this.scrollables.map(function (s) { return s.getElementRef().nativeElement.getBoundingClientRect(); });\n        return {\n            isOriginClipped: isElementClippedByScrolling(originBounds, scrollContainerBounds),\n            isOriginOutsideView: isElementScrolledOutsideView(originBounds, scrollContainerBounds),\n            isOverlayClipped: isElementClippedByScrolling(overlayBounds, scrollContainerBounds),\n            isOverlayOutsideView: isElementScrolledOutsideView(overlayBounds, scrollContainerBounds),\n        };\n    };\n    /**\n     * Physically positions the overlay element to the given coordinate.\n     * @param {?} element\n     * @param {?} overlayRect\n     * @param {?} overlayPoint\n     * @param {?} pos\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype._setElementPosition = function (element, overlayRect, overlayPoint, pos) {\n        // We want to set either `top` or `bottom` based on whether the overlay wants to appear above\n        // or below the origin and the direction in which the element will expand.\n        var /** @type {?} */ verticalStyleProperty = pos.overlayY === 'bottom' ? 'bottom' : 'top';\n        // When using `bottom`, we adjust the y position such that it is the distance\n        // from the bottom of the viewport rather than the top.\n        var /** @type {?} */ y = verticalStyleProperty === 'top' ?\n            overlayPoint.y :\n            document.documentElement.clientHeight - (overlayPoint.y + overlayRect.height);\n        // We want to set either `left` or `right` based on whether the overlay wants to appear \"before\"\n        // or \"after\" the origin, which determines the direction in which the element will expand.\n        // For the horizontal axis, the meaning of \"before\" and \"after\" change based on whether the\n        // page is in RTL or LTR.\n        var /** @type {?} */ horizontalStyleProperty;\n        if (this._dir === 'rtl') {\n            horizontalStyleProperty = pos.overlayX === 'end' ? 'left' : 'right';\n        }\n        else {\n            horizontalStyleProperty = pos.overlayX === 'end' ? 'right' : 'left';\n        }\n        // When we're setting `right`, we adjust the x position such that it is the distance\n        // from the right edge of the viewport rather than the left edge.\n        var /** @type {?} */ x = horizontalStyleProperty === 'left' ?\n            overlayPoint.x :\n            document.documentElement.clientWidth - (overlayPoint.x + overlayRect.width);\n        // Reset any existing styles. This is necessary in case the preferred position has\n        // changed since the last `apply`.\n        ['top', 'bottom', 'left', 'right'].forEach(function (p) { return element.style[p] = null; });\n        element.style[verticalStyleProperty] = y + \"px\";\n        element.style[horizontalStyleProperty] = x + \"px\";\n        // Notify that the position has been changed along with its change properties.\n        var /** @type {?} */ scrollableViewProperties = this._getScrollVisibility(element);\n        var /** @type {?} */ positionChange = new ConnectedOverlayPositionChange(pos, scrollableViewProperties);\n        this._onPositionChange.next(positionChange);\n    };\n    /**\n     * Subtracts the amount that an element is overflowing on an axis from it's length.\n     * @param {?} length\n     * @param {...?} overflows\n     * @return {?}\n     */\n    ConnectedPositionStrategy.prototype._subtractOverflows = function (length) {\n        var overflows = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            overflows[_i - 1] = arguments[_i];\n        }\n        return overflows.reduce(function (currentValue, currentOverflow) {\n            return currentValue - Math.max(currentOverflow, 0);\n        }, length);\n    };\n    return ConnectedPositionStrategy;\n}());\nexport { ConnectedPositionStrategy };\nfunction ConnectedPositionStrategy_tsickle_Closure_declarations() {\n    /**\n     * The overlay to which this strategy is attached.\n     * @type {?}\n     */\n    ConnectedPositionStrategy.prototype._overlayRef;\n    /**\n     * Layout direction of the position strategy.\n     * @type {?}\n     */\n    ConnectedPositionStrategy.prototype._dir;\n    /**\n     * The offset in pixels for the overlay connection point on the x-axis\n     * @type {?}\n     */\n    ConnectedPositionStrategy.prototype._offsetX;\n    /**\n     * The offset in pixels for the overlay connection point on the y-axis\n     * @type {?}\n     */\n    ConnectedPositionStrategy.prototype._offsetY;\n    /**\n     * The Scrollable containers used to check scrollable view properties on position change.\n     * @type {?}\n     */\n    ConnectedPositionStrategy.prototype.scrollables;\n    /**\n     * Subscription to viewport resize events.\n     * @type {?}\n     */\n    ConnectedPositionStrategy.prototype._resizeSubscription;\n    /**\n     * Ordered list of preferred positions, from most to least desirable.\n     * @type {?}\n     */\n    ConnectedPositionStrategy.prototype._preferredPositions;\n    /**\n     * The origin element against which the overlay will be positioned.\n     * @type {?}\n     */\n    ConnectedPositionStrategy.prototype._origin;\n    /**\n     * The overlay pane element.\n     * @type {?}\n     */\n    ConnectedPositionStrategy.prototype._pane;\n    /**\n     * The last position to have been calculated as the best fit position.\n     * @type {?}\n     */\n    ConnectedPositionStrategy.prototype._lastConnectedPosition;\n    /** @type {?} */\n    ConnectedPositionStrategy.prototype._onPositionChange;\n    /** @type {?} */\n    ConnectedPositionStrategy.prototype._connectedTo;\n    /** @type {?} */\n    ConnectedPositionStrategy.prototype._viewportRuler;\n}\n//# sourceMappingURL=connected-position-strategy.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * A strategy for positioning overlays. Using this strategy, an overlay is given an\n * explicit position relative to the browser's viewport. We use flexbox, instead of\n * transforms, in order to avoid issues with subpixel rendering which can cause the\n * element to become blurry.\n */\nvar GlobalPositionStrategy = (function () {\n    function GlobalPositionStrategy() {\n        this._cssPosition = 'static';\n        this._topOffset = '';\n        this._bottomOffset = '';\n        this._leftOffset = '';\n        this._rightOffset = '';\n        this._alignItems = '';\n        this._justifyContent = '';\n        this._width = '';\n        this._height = '';\n        this._wrapper = null;\n    }\n    /**\n     * @param {?} overlayRef\n     * @return {?}\n     */\n    GlobalPositionStrategy.prototype.attach = function (overlayRef) {\n        this._overlayRef = overlayRef;\n    };\n    /**\n     * Sets the top position of the overlay. Clears any previously set vertical position.\n     * @param {?=} value New top offset.\n     * @return {?}\n     */\n    GlobalPositionStrategy.prototype.top = function (value) {\n        if (value === void 0) { value = ''; }\n        this._bottomOffset = '';\n        this._topOffset = value;\n        this._alignItems = 'flex-start';\n        return this;\n    };\n    /**\n     * Sets the left position of the overlay. Clears any previously set horizontal position.\n     * @param {?=} value New left offset.\n     * @return {?}\n     */\n    GlobalPositionStrategy.prototype.left = function (value) {\n        if (value === void 0) { value = ''; }\n        this._rightOffset = '';\n        this._leftOffset = value;\n        this._justifyContent = 'flex-start';\n        return this;\n    };\n    /**\n     * Sets the bottom position of the overlay. Clears any previously set vertical position.\n     * @param {?=} value New bottom offset.\n     * @return {?}\n     */\n    GlobalPositionStrategy.prototype.bottom = function (value) {\n        if (value === void 0) { value = ''; }\n        this._topOffset = '';\n        this._bottomOffset = value;\n        this._alignItems = 'flex-end';\n        return this;\n    };\n    /**\n     * Sets the right position of the overlay. Clears any previously set horizontal position.\n     * @param {?=} value New right offset.\n     * @return {?}\n     */\n    GlobalPositionStrategy.prototype.right = function (value) {\n        if (value === void 0) { value = ''; }\n        this._leftOffset = '';\n        this._rightOffset = value;\n        this._justifyContent = 'flex-end';\n        return this;\n    };\n    /**\n     * Sets the overlay width and clears any previously set width.\n     * @param {?=} value New width for the overlay\n     * @return {?}\n     */\n    GlobalPositionStrategy.prototype.width = function (value) {\n        if (value === void 0) { value = ''; }\n        this._width = value;\n        // When the width is 100%, we should reset the `left` and the offset,\n        // in order to ensure that the element is flush against the viewport edge.\n        if (value === '100%') {\n            this.left('0px');\n        }\n        return this;\n    };\n    /**\n     * Sets the overlay height and clears any previously set height.\n     * @param {?=} value New height for the overlay\n     * @return {?}\n     */\n    GlobalPositionStrategy.prototype.height = function (value) {\n        if (value === void 0) { value = ''; }\n        this._height = value;\n        // When the height is 100%, we should reset the `top` and the offset,\n        // in order to ensure that the element is flush against the viewport edge.\n        if (value === '100%') {\n            this.top('0px');\n        }\n        return this;\n    };\n    /**\n     * Centers the overlay horizontally with an optional offset.\n     * Clears any previously set horizontal position.\n     *\n     * @param {?=} offset Overlay offset from the horizontal center.\n     * @return {?}\n     */\n    GlobalPositionStrategy.prototype.centerHorizontally = function (offset) {\n        if (offset === void 0) { offset = ''; }\n        this.left(offset);\n        this._justifyContent = 'center';\n        return this;\n    };\n    /**\n     * Centers the overlay vertically with an optional offset.\n     * Clears any previously set vertical position.\n     *\n     * @param {?=} offset Overlay offset from the vertical center.\n     * @return {?}\n     */\n    GlobalPositionStrategy.prototype.centerVertically = function (offset) {\n        if (offset === void 0) { offset = ''; }\n        this.top(offset);\n        this._alignItems = 'center';\n        return this;\n    };\n    /**\n     * Apply the position to the element.\n     * \\@docs-private\n     *\n     * @return {?} Resolved when the styles have been applied.\n     */\n    GlobalPositionStrategy.prototype.apply = function () {\n        var /** @type {?} */ element = this._overlayRef.overlayElement;\n        if (!this._wrapper && element.parentNode) {\n            this._wrapper = document.createElement('div');\n            this._wrapper.classList.add('cdk-global-overlay-wrapper');\n            element.parentNode.insertBefore(this._wrapper, element);\n            this._wrapper.appendChild(element);\n        }\n        var /** @type {?} */ styles = element.style;\n        var /** @type {?} */ parentStyles = ((element.parentNode)).style;\n        styles.position = this._cssPosition;\n        styles.marginTop = this._topOffset;\n        styles.marginLeft = this._leftOffset;\n        styles.marginBottom = this._bottomOffset;\n        styles.marginRight = this._rightOffset;\n        styles.width = this._width;\n        styles.height = this._height;\n        parentStyles.justifyContent = this._justifyContent;\n        parentStyles.alignItems = this._alignItems;\n    };\n    /**\n     * Removes the wrapper element from the DOM.\n     * @return {?}\n     */\n    GlobalPositionStrategy.prototype.dispose = function () {\n        if (this._wrapper && this._wrapper.parentNode) {\n            this._wrapper.parentNode.removeChild(this._wrapper);\n            this._wrapper = null;\n        }\n    };\n    return GlobalPositionStrategy;\n}());\nexport { GlobalPositionStrategy };\nfunction GlobalPositionStrategy_tsickle_Closure_declarations() {\n    /**\n     * The overlay to which this strategy is attached.\n     * @type {?}\n     */\n    GlobalPositionStrategy.prototype._overlayRef;\n    /** @type {?} */\n    GlobalPositionStrategy.prototype._cssPosition;\n    /** @type {?} */\n    GlobalPositionStrategy.prototype._topOffset;\n    /** @type {?} */\n    GlobalPositionStrategy.prototype._bottomOffset;\n    /** @type {?} */\n    GlobalPositionStrategy.prototype._leftOffset;\n    /** @type {?} */\n    GlobalPositionStrategy.prototype._rightOffset;\n    /** @type {?} */\n    GlobalPositionStrategy.prototype._alignItems;\n    /** @type {?} */\n    GlobalPositionStrategy.prototype._justifyContent;\n    /** @type {?} */\n    GlobalPositionStrategy.prototype._width;\n    /** @type {?} */\n    GlobalPositionStrategy.prototype._height;\n    /** @type {?} */\n    GlobalPositionStrategy.prototype._wrapper;\n}\n//# sourceMappingURL=global-position-strategy.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Injectable } from '@angular/core';\nimport { ViewportRuler } from '@angular/cdk/scrolling';\nimport { ConnectedPositionStrategy } from './connected-position-strategy';\nimport { GlobalPositionStrategy } from './global-position-strategy';\n/**\n * Builder for overlay position strategy.\n */\nvar OverlayPositionBuilder = (function () {\n    /**\n     * @param {?} _viewportRuler\n     */\n    function OverlayPositionBuilder(_viewportRuler) {\n        this._viewportRuler = _viewportRuler;\n    }\n    /**\n     * Creates a global position strategy.\n     * @return {?}\n     */\n    OverlayPositionBuilder.prototype.global = function () {\n        return new GlobalPositionStrategy();\n    };\n    /**\n     * Creates a relative position strategy.\n     * @param {?} elementRef\n     * @param {?} originPos\n     * @param {?} overlayPos\n     * @return {?}\n     */\n    OverlayPositionBuilder.prototype.connectedTo = function (elementRef, originPos, overlayPos) {\n        return new ConnectedPositionStrategy(originPos, overlayPos, elementRef, this._viewportRuler);\n    };\n    OverlayPositionBuilder.decorators = [\n        { type: Injectable },\n    ];\n    /**\n     * @nocollapse\n     */\n    OverlayPositionBuilder.ctorParameters = function () { return [\n        { type: ViewportRuler, },\n    ]; };\n    return OverlayPositionBuilder;\n}());\nexport { OverlayPositionBuilder };\nfunction OverlayPositionBuilder_tsickle_Closure_declarations() {\n    /** @type {?} */\n    OverlayPositionBuilder.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    OverlayPositionBuilder.ctorParameters;\n    /** @type {?} */\n    OverlayPositionBuilder.prototype._viewportRuler;\n}\n//# sourceMappingURL=overlay-position-builder.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Injectable, Optional, SkipSelf } from '@angular/core';\n/**\n * The OverlayContainer is the container in which all overlays will load.\n * It should be provided in the root component to ensure it is properly shared.\n */\nvar OverlayContainer = (function () {\n    function OverlayContainer() {\n    }\n    /**\n     * @return {?}\n     */\n    OverlayContainer.prototype.ngOnDestroy = function () {\n        if (this._containerElement && this._containerElement.parentNode) {\n            this._containerElement.parentNode.removeChild(this._containerElement);\n        }\n    };\n    /**\n     * This method returns the overlay container element. It will lazily\n     * create the element the first time  it is called to facilitate using\n     * the container in non-browser environments.\n     * @return {?} the container element\n     */\n    OverlayContainer.prototype.getContainerElement = function () {\n        if (!this._containerElement) {\n            this._createContainer();\n        }\n        return this._containerElement;\n    };\n    /**\n     * Create the overlay container element, which is simply a div\n     * with the 'cdk-overlay-container' class on the document body.\n     * @return {?}\n     */\n    OverlayContainer.prototype._createContainer = function () {\n        var /** @type {?} */ container = document.createElement('div');\n        container.classList.add('cdk-overlay-container');\n        document.body.appendChild(container);\n        this._containerElement = container;\n    };\n    OverlayContainer.decorators = [\n        { type: Injectable },\n    ];\n    /**\n     * @nocollapse\n     */\n    OverlayContainer.ctorParameters = function () { return []; };\n    return OverlayContainer;\n}());\nexport { OverlayContainer };\nfunction OverlayContainer_tsickle_Closure_declarations() {\n    /** @type {?} */\n    OverlayContainer.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    OverlayContainer.ctorParameters;\n    /** @type {?} */\n    OverlayContainer.prototype._containerElement;\n}\n/**\n * \\@docs-private\n * @param {?} parentContainer\n * @return {?}\n */\nexport function OVERLAY_CONTAINER_PROVIDER_FACTORY(parentContainer) {\n    return parentContainer || new OverlayContainer();\n}\n/**\n * \\@docs-private\n */\nexport var OVERLAY_CONTAINER_PROVIDER = {\n    // If there is already an OverlayContainer available, use that. Otherwise, provide a new one.\n    provide: OverlayContainer,\n    deps: [[new Optional(), new SkipSelf(), OverlayContainer]],\n    useFactory: OVERLAY_CONTAINER_PROVIDER_FACTORY\n};\n//# sourceMappingURL=overlay-container.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { getMatScrollStrategyAlreadyAttachedError } from './scroll-strategy';\n/**\n * Strategy that will close the overlay as soon as the user starts scrolling.\n */\nvar CloseScrollStrategy = (function () {\n    /**\n     * @param {?} _scrollDispatcher\n     */\n    function CloseScrollStrategy(_scrollDispatcher) {\n        this._scrollDispatcher = _scrollDispatcher;\n        this._scrollSubscription = null;\n    }\n    /**\n     * @param {?} overlayRef\n     * @return {?}\n     */\n    CloseScrollStrategy.prototype.attach = function (overlayRef) {\n        if (this._overlayRef) {\n            throw getMatScrollStrategyAlreadyAttachedError();\n        }\n        this._overlayRef = overlayRef;\n    };\n    /**\n     * @return {?}\n     */\n    CloseScrollStrategy.prototype.enable = function () {\n        var _this = this;\n        if (!this._scrollSubscription) {\n            this._scrollSubscription = this._scrollDispatcher.scrolled(0, function () {\n                if (_this._overlayRef.hasAttached()) {\n                    _this._overlayRef.detach();\n                }\n                _this.disable();\n            });\n        }\n    };\n    /**\n     * @return {?}\n     */\n    CloseScrollStrategy.prototype.disable = function () {\n        if (this._scrollSubscription) {\n            this._scrollSubscription.unsubscribe();\n            this._scrollSubscription = null;\n        }\n    };\n    return CloseScrollStrategy;\n}());\nexport { CloseScrollStrategy };\nfunction CloseScrollStrategy_tsickle_Closure_declarations() {\n    /** @type {?} */\n    CloseScrollStrategy.prototype._scrollSubscription;\n    /** @type {?} */\n    CloseScrollStrategy.prototype._overlayRef;\n    /** @type {?} */\n    CloseScrollStrategy.prototype._scrollDispatcher;\n}\n//# sourceMappingURL=close-scroll-strategy.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Strategy that will prevent the user from scrolling while the overlay is visible.\n */\nvar BlockScrollStrategy = (function () {\n    /**\n     * @param {?} _viewportRuler\n     */\n    function BlockScrollStrategy(_viewportRuler) {\n        this._viewportRuler = _viewportRuler;\n        this._previousHTMLStyles = { top: '', left: '' };\n        this._isEnabled = false;\n    }\n    /**\n     * @return {?}\n     */\n    BlockScrollStrategy.prototype.attach = function () { };\n    /**\n     * @return {?}\n     */\n    BlockScrollStrategy.prototype.enable = function () {\n        if (this._canBeEnabled()) {\n            var /** @type {?} */ root = document.documentElement;\n            this._previousScrollPosition = this._viewportRuler.getViewportScrollPosition();\n            // Cache the previous inline styles in case the user had set them.\n            this._previousHTMLStyles.left = root.style.left || '';\n            this._previousHTMLStyles.top = root.style.top || '';\n            // Note: we're using the `html` node, instead of the `body`, because the `body` may\n            // have the user agent margin, whereas the `html` is guaranteed not to have one.\n            root.style.left = -this._previousScrollPosition.left + \"px\";\n            root.style.top = -this._previousScrollPosition.top + \"px\";\n            root.classList.add('cdk-global-scrollblock');\n            this._isEnabled = true;\n        }\n    };\n    /**\n     * @return {?}\n     */\n    BlockScrollStrategy.prototype.disable = function () {\n        if (this._isEnabled) {\n            this._isEnabled = false;\n            document.documentElement.style.left = this._previousHTMLStyles.left;\n            document.documentElement.style.top = this._previousHTMLStyles.top;\n            document.documentElement.classList.remove('cdk-global-scrollblock');\n            window.scroll(this._previousScrollPosition.left, this._previousScrollPosition.top);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    BlockScrollStrategy.prototype._canBeEnabled = function () {\n        // Since the scroll strategies can't be singletons, we have to use a global CSS class\n        // (`cdk-global-scrollblock`) to make sure that we don't try to disable global\n        // scrolling multiple times.\n        if (document.documentElement.classList.contains('cdk-global-scrollblock') || this._isEnabled) {\n            return false;\n        }\n        var /** @type {?} */ body = document.body;\n        var /** @type {?} */ viewport = this._viewportRuler.getViewportRect();\n        return body.scrollHeight > viewport.height || body.scrollWidth > viewport.width;\n    };\n    return BlockScrollStrategy;\n}());\nexport { BlockScrollStrategy };\nfunction BlockScrollStrategy_tsickle_Closure_declarations() {\n    /** @type {?} */\n    BlockScrollStrategy.prototype._previousHTMLStyles;\n    /** @type {?} */\n    BlockScrollStrategy.prototype._previousScrollPosition;\n    /** @type {?} */\n    BlockScrollStrategy.prototype._isEnabled;\n    /** @type {?} */\n    BlockScrollStrategy.prototype._viewportRuler;\n}\n//# sourceMappingURL=block-scroll-strategy.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { getMatScrollStrategyAlreadyAttachedError } from './scroll-strategy';\n/**\n * Strategy that will update the element position as the user is scrolling.\n */\nvar RepositionScrollStrategy = (function () {\n    /**\n     * @param {?} _scrollDispatcher\n     * @param {?=} _config\n     */\n    function RepositionScrollStrategy(_scrollDispatcher, _config) {\n        this._scrollDispatcher = _scrollDispatcher;\n        this._config = _config;\n        this._scrollSubscription = null;\n    }\n    /**\n     * @param {?} overlayRef\n     * @return {?}\n     */\n    RepositionScrollStrategy.prototype.attach = function (overlayRef) {\n        if (this._overlayRef) {\n            throw getMatScrollStrategyAlreadyAttachedError();\n        }\n        this._overlayRef = overlayRef;\n    };\n    /**\n     * @return {?}\n     */\n    RepositionScrollStrategy.prototype.enable = function () {\n        var _this = this;\n        if (!this._scrollSubscription) {\n            var /** @type {?} */ throttle = this._config ? this._config.scrollThrottle : 0;\n            this._scrollSubscription = this._scrollDispatcher.scrolled(throttle, function () {\n                _this._overlayRef.updatePosition();\n            });\n        }\n    };\n    /**\n     * @return {?}\n     */\n    RepositionScrollStrategy.prototype.disable = function () {\n        if (this._scrollSubscription) {\n            this._scrollSubscription.unsubscribe();\n            this._scrollSubscription = null;\n        }\n    };\n    return RepositionScrollStrategy;\n}());\nexport { RepositionScrollStrategy };\nfunction RepositionScrollStrategy_tsickle_Closure_declarations() {\n    /** @type {?} */\n    RepositionScrollStrategy.prototype._scrollSubscription;\n    /** @type {?} */\n    RepositionScrollStrategy.prototype._overlayRef;\n    /** @type {?} */\n    RepositionScrollStrategy.prototype._scrollDispatcher;\n    /** @type {?} */\n    RepositionScrollStrategy.prototype._config;\n}\n//# sourceMappingURL=reposition-scroll-strategy.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Injectable } from '@angular/core';\nimport { CloseScrollStrategy } from './close-scroll-strategy';\nimport { NoopScrollStrategy } from './noop-scroll-strategy';\nimport { BlockScrollStrategy } from './block-scroll-strategy';\nimport { ScrollDispatcher } from '@angular/cdk/scrolling';\nimport { ViewportRuler } from '@angular/cdk/scrolling';\nimport { RepositionScrollStrategy, } from './reposition-scroll-strategy';\n/**\n * Options for how an overlay will handle scrolling.\n *\n * Users can provide a custom value for `ScrollStrategyOptions` to replace the default\n * behaviors. This class primarily acts as a factory for ScrollStrategy instances.\n */\nvar ScrollStrategyOptions = (function () {\n    /**\n     * @param {?} _scrollDispatcher\n     * @param {?} _viewportRuler\n     */\n    function ScrollStrategyOptions(_scrollDispatcher, _viewportRuler) {\n        var _this = this;\n        this._scrollDispatcher = _scrollDispatcher;\n        this._viewportRuler = _viewportRuler;\n        /**\n         * Do nothing on scroll.\n         */\n        this.noop = function () { return new NoopScrollStrategy(); };\n        /**\n         * Close the overlay as soon as the user scrolls.\n         */\n        this.close = function () { return new CloseScrollStrategy(_this._scrollDispatcher); };\n        /**\n         * Block scrolling.\n         */\n        this.block = function () { return new BlockScrollStrategy(_this._viewportRuler); };\n        /**\n         * Update the overlay's position on scroll.\n         * @param config Configuration to be used inside the scroll strategy.\n         * Allows debouncing the reposition calls.\n         */\n        this.reposition = function (config) {\n            return new RepositionScrollStrategy(_this._scrollDispatcher, config);\n        };\n    }\n    ScrollStrategyOptions.decorators = [\n        { type: Injectable },\n    ];\n    /**\n     * @nocollapse\n     */\n    ScrollStrategyOptions.ctorParameters = function () { return [\n        { type: ScrollDispatcher, },\n        { type: ViewportRuler, },\n    ]; };\n    return ScrollStrategyOptions;\n}());\nexport { ScrollStrategyOptions };\nfunction ScrollStrategyOptions_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ScrollStrategyOptions.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    ScrollStrategyOptions.ctorParameters;\n    /**\n     * Do nothing on scroll.\n     * @type {?}\n     */\n    ScrollStrategyOptions.prototype.noop;\n    /**\n     * Close the overlay as soon as the user scrolls.\n     * @type {?}\n     */\n    ScrollStrategyOptions.prototype.close;\n    /**\n     * Block scrolling.\n     * @type {?}\n     */\n    ScrollStrategyOptions.prototype.block;\n    /**\n     * Update the overlay's position on scroll.\n     * \\@param config Configuration to be used inside the scroll strategy.\n     * Allows debouncing the reposition calls.\n     * @type {?}\n     */\n    ScrollStrategyOptions.prototype.reposition;\n    /** @type {?} */\n    ScrollStrategyOptions.prototype._scrollDispatcher;\n    /** @type {?} */\n    ScrollStrategyOptions.prototype._viewportRuler;\n}\n//# sourceMappingURL=scroll-strategy-options.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { ComponentFactoryResolver, Injectable, ApplicationRef, Injector, NgZone, } from '@angular/core';\nimport { DomPortalHost } from '@angular/cdk/portal';\nimport { OverlayConfig } from './overlay-config';\nimport { OverlayRef } from './overlay-ref';\nimport { OverlayPositionBuilder } from './position/overlay-position-builder';\nimport { OverlayContainer } from './overlay-container';\nimport { ScrollStrategyOptions } from './scroll/index';\n/**\n * Next overlay unique ID.\n */\nvar nextUniqueId = 0;\n/**\n * The default config for newly created overlays.\n */\nvar defaultConfig = new OverlayConfig();\n/**\n * Service to create Overlays. Overlays are dynamically added pieces of floating UI, meant to be\n * used as a low-level building building block for other components. Dialogs, tooltips, menus,\n * selects, etc. can all be built using overlays. The service should primarily be used by authors\n * of re-usable components rather than developers building end-user applications.\n *\n * An overlay *is* a PortalHost, so any kind of Portal can be loaded into one.\n */\nvar Overlay = (function () {\n    /**\n     * @param {?} scrollStrategies\n     * @param {?} _overlayContainer\n     * @param {?} _componentFactoryResolver\n     * @param {?} _positionBuilder\n     * @param {?} _appRef\n     * @param {?} _injector\n     * @param {?} _ngZone\n     */\n    function Overlay(scrollStrategies, _overlayContainer, _componentFactoryResolver, _positionBuilder, _appRef, _injector, _ngZone) {\n        this.scrollStrategies = scrollStrategies;\n        this._overlayContainer = _overlayContainer;\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._positionBuilder = _positionBuilder;\n        this._appRef = _appRef;\n        this._injector = _injector;\n        this._ngZone = _ngZone;\n    }\n    /**\n     * Creates an overlay.\n     * @param {?=} config Config to apply to the overlay.\n     * @return {?} Reference to the created overlay.\n     */\n    Overlay.prototype.create = function (config) {\n        if (config === void 0) { config = defaultConfig; }\n        var /** @type {?} */ pane = this._createPaneElement();\n        var /** @type {?} */ portalHost = this._createPortalHost(pane);\n        return new OverlayRef(portalHost, pane, config, this._ngZone);\n    };\n    /**\n     * Returns a position builder that can be used, via fluent API,\n     * to construct and configure a position strategy.\n     * @return {?}\n     */\n    Overlay.prototype.position = function () {\n        return this._positionBuilder;\n    };\n    /**\n     * Creates the DOM element for an overlay and appends it to the overlay container.\n     * @return {?} Newly-created pane element\n     */\n    Overlay.prototype._createPaneElement = function () {\n        var /** @type {?} */ pane = document.createElement('div');\n        pane.id = \"cdk-overlay-\" + nextUniqueId++;\n        pane.classList.add('cdk-overlay-pane');\n        this._overlayContainer.getContainerElement().appendChild(pane);\n        return pane;\n    };\n    /**\n     * Create a DomPortalHost into which the overlay content can be loaded.\n     * @param {?} pane The DOM element to turn into a portal host.\n     * @return {?} A portal host for the given DOM element.\n     */\n    Overlay.prototype._createPortalHost = function (pane) {\n        return new DomPortalHost(pane, this._componentFactoryResolver, this._appRef, this._injector);\n    };\n    Overlay.decorators = [\n        { type: Injectable },\n    ];\n    /**\n     * @nocollapse\n     */\n    Overlay.ctorParameters = function () { return [\n        { type: ScrollStrategyOptions, },\n        { type: OverlayContainer, },\n        { type: ComponentFactoryResolver, },\n        { type: OverlayPositionBuilder, },\n        { type: ApplicationRef, },\n        { type: Injector, },\n        { type: NgZone, },\n    ]; };\n    return Overlay;\n}());\nexport { Overlay };\nfunction Overlay_tsickle_Closure_declarations() {\n    /** @type {?} */\n    Overlay.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    Overlay.ctorParameters;\n    /** @type {?} */\n    Overlay.prototype.scrollStrategies;\n    /** @type {?} */\n    Overlay.prototype._overlayContainer;\n    /** @type {?} */\n    Overlay.prototype._componentFactoryResolver;\n    /** @type {?} */\n    Overlay.prototype._positionBuilder;\n    /** @type {?} */\n    Overlay.prototype._appRef;\n    /** @type {?} */\n    Overlay.prototype._injector;\n    /** @type {?} */\n    Overlay.prototype._ngZone;\n}\n//# sourceMappingURL=overlay.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Directive, ElementRef, EventEmitter, Inject, InjectionToken, Input, Optional, Output, Renderer2, TemplateRef, ViewContainerRef, } from '@angular/core';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { ESCAPE } from '@angular/cdk/keycodes';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport { Overlay } from './overlay';\nimport { OverlayConfig } from './overlay-config';\nimport { ConnectionPositionPair, } from './position/connected-position';\nimport { Subscription } from 'rxjs/Subscription';\n/**\n * Default set of positions for the overlay. Follows the behavior of a dropdown.\n */\nvar defaultPositionList = [\n    new ConnectionPositionPair({ originX: 'start', originY: 'bottom' }, { overlayX: 'start', overlayY: 'top' }),\n    new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' }),\n];\n/**\n * Injection token that determines the scroll handling while the connected overlay is open.\n */\nexport var MAT_CONNECTED_OVERLAY_SCROLL_STRATEGY = new InjectionToken('mat-connected-overlay-scroll-strategy');\n/**\n * \\@docs-private\n * @param {?} overlay\n * @return {?}\n */\nexport function MAT_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER_FACTORY(overlay) {\n    return function () { return overlay.scrollStrategies.reposition(); };\n}\n/**\n * \\@docs-private\n */\nexport var MAT_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER = {\n    provide: MAT_CONNECTED_OVERLAY_SCROLL_STRATEGY,\n    deps: [Overlay],\n    useFactory: MAT_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER_FACTORY,\n};\n/**\n * Directive applied to an element to make it usable as an origin for an Overlay using a\n * ConnectedPositionStrategy.\n */\nvar OverlayOrigin = (function () {\n    /**\n     * @param {?} elementRef\n     */\n    function OverlayOrigin(elementRef) {\n        this.elementRef = elementRef;\n    }\n    OverlayOrigin.decorators = [\n        { type: Directive, args: [{\n                    selector: '[cdk-overlay-origin], [overlay-origin], [cdkOverlayOrigin]',\n                    exportAs: 'cdkOverlayOrigin',\n                },] },\n    ];\n    /**\n     * @nocollapse\n     */\n    OverlayOrigin.ctorParameters = function () { return [\n        { type: ElementRef, },\n    ]; };\n    return OverlayOrigin;\n}());\nexport { OverlayOrigin };\nfunction OverlayOrigin_tsickle_Closure_declarations() {\n    /** @type {?} */\n    OverlayOrigin.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    OverlayOrigin.ctorParameters;\n    /** @type {?} */\n    OverlayOrigin.prototype.elementRef;\n}\n/**\n * Directive to facilitate declarative creation of an Overlay using a ConnectedPositionStrategy.\n */\nvar ConnectedOverlayDirective = (function () {\n    /**\n     * @param {?} _overlay\n     * @param {?} _renderer\n     * @param {?} templateRef\n     * @param {?} viewContainerRef\n     * @param {?} _scrollStrategy\n     * @param {?} _dir\n     */\n    function ConnectedOverlayDirective(_overlay, _renderer, templateRef, viewContainerRef, _scrollStrategy, _dir) {\n        this._overlay = _overlay;\n        this._renderer = _renderer;\n        this._scrollStrategy = _scrollStrategy;\n        this._dir = _dir;\n        this._hasBackdrop = false;\n        this._backdropSubscription = Subscription.EMPTY;\n        this._positionSubscription = Subscription.EMPTY;\n        this._offsetX = 0;\n        this._offsetY = 0;\n        this._escapeListener = function () { };\n        /**\n         * Strategy to be used when handling scroll events while the overlay is open.\n         */\n        this.scrollStrategy = this._scrollStrategy();\n        /**\n         * Whether the overlay is open.\n         */\n        this.open = false;\n        /**\n         * Event emitted when the backdrop is clicked.\n         */\n        this.backdropClick = new EventEmitter();\n        /**\n         * Event emitted when the position has changed.\n         */\n        this.positionChange = new EventEmitter();\n        /**\n         * Event emitted when the overlay has been attached.\n         */\n        this.attach = new EventEmitter();\n        /**\n         * Event emitted when the overlay has been detached.\n         */\n        this.detach = new EventEmitter();\n        this._templatePortal = new TemplatePortal(templateRef, viewContainerRef);\n    }\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"offsetX\", {\n        /**\n         * The offset in pixels for the overlay connection point on the x-axis\n         * @return {?}\n         */\n        get: function () { return this._offsetX; },\n        /**\n         * @param {?} offsetX\n         * @return {?}\n         */\n        set: function (offsetX) {\n            this._offsetX = offsetX;\n            if (this._position) {\n                this._position.withOffsetX(offsetX);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"offsetY\", {\n        /**\n         * The offset in pixels for the overlay connection point on the y-axis\n         * @return {?}\n         */\n        get: function () { return this._offsetY; },\n        /**\n         * @param {?} offsetY\n         * @return {?}\n         */\n        set: function (offsetY) {\n            this._offsetY = offsetY;\n            if (this._position) {\n                this._position.withOffsetY(offsetY);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"hasBackdrop\", {\n        /**\n         * Whether or not the overlay should attach a backdrop.\n         * @return {?}\n         */\n        get: function () { return this._hasBackdrop; },\n        /**\n         * @param {?} value\n         * @return {?}\n         */\n        set: function (value) { this._hasBackdrop = coerceBooleanProperty(value); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedOrigin\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.origin; },\n        /**\n         * @param {?} _origin\n         * @return {?}\n         */\n        set: function (_origin) { this.origin = _origin; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedPositions\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.positions; },\n        /**\n         * @param {?} _positions\n         * @return {?}\n         */\n        set: function (_positions) { this.positions = _positions; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedOffsetX\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.offsetX; },\n        /**\n         * @param {?} _offsetX\n         * @return {?}\n         */\n        set: function (_offsetX) { this.offsetX = _offsetX; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedOffsetY\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.offsetY; },\n        /**\n         * @param {?} _offsetY\n         * @return {?}\n         */\n        set: function (_offsetY) { this.offsetY = _offsetY; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedWidth\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.width; },\n        /**\n         * @param {?} _width\n         * @return {?}\n         */\n        set: function (_width) { this.width = _width; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedHeight\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.height; },\n        /**\n         * @param {?} _height\n         * @return {?}\n         */\n        set: function (_height) { this.height = _height; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedMinWidth\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.minWidth; },\n        /**\n         * @param {?} _minWidth\n         * @return {?}\n         */\n        set: function (_minWidth) { this.minWidth = _minWidth; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedMinHeight\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.minHeight; },\n        /**\n         * @param {?} _minHeight\n         * @return {?}\n         */\n        set: function (_minHeight) { this.minHeight = _minHeight; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedBackdropClass\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.backdropClass; },\n        /**\n         * @param {?} _backdropClass\n         * @return {?}\n         */\n        set: function (_backdropClass) { this.backdropClass = _backdropClass; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedScrollStrategy\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.scrollStrategy; },\n        /**\n         * @param {?} _scrollStrategy\n         * @return {?}\n         */\n        set: function (_scrollStrategy) {\n            this.scrollStrategy = _scrollStrategy;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedOpen\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.open; },\n        /**\n         * @param {?} _open\n         * @return {?}\n         */\n        set: function (_open) { this.open = _open; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"_deprecatedHasBackdrop\", {\n        /**\n         * @deprecated\n         * @return {?}\n         */\n        get: function () { return this.hasBackdrop; },\n        /**\n         * @param {?} _hasBackdrop\n         * @return {?}\n         */\n        set: function (_hasBackdrop) { this.hasBackdrop = _hasBackdrop; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"overlayRef\", {\n        /**\n         * The associated overlay reference.\n         * @return {?}\n         */\n        get: function () {\n            return this._overlayRef;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectedOverlayDirective.prototype, \"dir\", {\n        /**\n         * The element's layout direction.\n         * @return {?}\n         */\n        get: function () {\n            return this._dir ? this._dir.value : 'ltr';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @return {?}\n     */\n    ConnectedOverlayDirective.prototype.ngOnDestroy = function () {\n        this._destroyOverlay();\n    };\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ConnectedOverlayDirective.prototype.ngOnChanges = function (changes) {\n        if (changes['open'] || changes['_deprecatedOpen']) {\n            this.open ? this._attachOverlay() : this._detachOverlay();\n        }\n    };\n    /**\n     * Creates an overlay\n     * @return {?}\n     */\n    ConnectedOverlayDirective.prototype._createOverlay = function () {\n        if (!this.positions || !this.positions.length) {\n            this.positions = defaultPositionList;\n        }\n        this._overlayRef = this._overlay.create(this._buildConfig());\n    };\n    /**\n     * Builds the overlay config based on the directive's inputs\n     * @return {?}\n     */\n    ConnectedOverlayDirective.prototype._buildConfig = function () {\n        var /** @type {?} */ positionStrategy = this._position = this._createPositionStrategy();\n        var /** @type {?} */ overlayConfig = new OverlayConfig({\n            positionStrategy: positionStrategy,\n            scrollStrategy: this.scrollStrategy,\n            hasBackdrop: this.hasBackdrop\n        });\n        if (this.width || this.width === 0) {\n            overlayConfig.width = this.width;\n        }\n        if (this.height || this.height === 0) {\n            overlayConfig.height = this.height;\n        }\n        if (this.minWidth || this.minWidth === 0) {\n            overlayConfig.minWidth = this.minWidth;\n        }\n        if (this.minHeight || this.minHeight === 0) {\n            overlayConfig.minHeight = this.minHeight;\n        }\n        if (this.backdropClass) {\n            overlayConfig.backdropClass = this.backdropClass;\n        }\n        return overlayConfig;\n    };\n    /**\n     * Returns the position strategy of the overlay to be set on the overlay config\n     * @return {?}\n     */\n    ConnectedOverlayDirective.prototype._createPositionStrategy = function () {\n        var /** @type {?} */ pos = this.positions[0];\n        var /** @type {?} */ originPoint = { originX: pos.originX, originY: pos.originY };\n        var /** @type {?} */ overlayPoint = { overlayX: pos.overlayX, overlayY: pos.overlayY };\n        var /** @type {?} */ strategy = this._overlay.position()\n            .connectedTo(this.origin.elementRef, originPoint, overlayPoint)\n            .withOffsetX(this.offsetX)\n            .withOffsetY(this.offsetY);\n        this._handlePositionChanges(strategy);\n        return strategy;\n    };\n    /**\n     * @param {?} strategy\n     * @return {?}\n     */\n    ConnectedOverlayDirective.prototype._handlePositionChanges = function (strategy) {\n        var _this = this;\n        for (var /** @type {?} */ i = 1; i < this.positions.length; i++) {\n            strategy.withFallbackPosition({ originX: this.positions[i].originX, originY: this.positions[i].originY }, { overlayX: this.positions[i].overlayX, overlayY: this.positions[i].overlayY });\n        }\n        this._positionSubscription =\n            strategy.onPositionChange.subscribe(function (pos) { return _this.positionChange.emit(pos); });\n    };\n    /**\n     * Attaches the overlay and subscribes to backdrop clicks if backdrop exists\n     * @return {?}\n     */\n    ConnectedOverlayDirective.prototype._attachOverlay = function () {\n        var _this = this;\n        if (!this._overlayRef) {\n            this._createOverlay();\n        }\n        this._position.withDirection(this.dir);\n        this._overlayRef.getConfig().direction = this.dir;\n        this._initEscapeListener();\n        if (!this._overlayRef.hasAttached()) {\n            this._overlayRef.attach(this._templatePortal);\n            this.attach.emit();\n        }\n        if (this.hasBackdrop) {\n            this._backdropSubscription = this._overlayRef.backdropClick().subscribe(function () {\n                _this.backdropClick.emit();\n            });\n        }\n    };\n    /**\n     * Detaches the overlay and unsubscribes to backdrop clicks if backdrop exists\n     * @return {?}\n     */\n    ConnectedOverlayDirective.prototype._detachOverlay = function () {\n        if (this._overlayRef) {\n            this._overlayRef.detach();\n            this.detach.emit();\n        }\n        this._backdropSubscription.unsubscribe();\n        this._escapeListener();\n    };\n    /**\n     * Destroys the overlay created by this directive.\n     * @return {?}\n     */\n    ConnectedOverlayDirective.prototype._destroyOverlay = function () {\n        if (this._overlayRef) {\n            this._overlayRef.dispose();\n        }\n        this._backdropSubscription.unsubscribe();\n        this._positionSubscription.unsubscribe();\n        this._escapeListener();\n    };\n    /**\n     * Sets the event listener that closes the overlay when pressing Escape.\n     * @return {?}\n     */\n    ConnectedOverlayDirective.prototype._initEscapeListener = function () {\n        var _this = this;\n        this._escapeListener = this._renderer.listen('document', 'keydown', function (event) {\n            if (event.keyCode === ESCAPE) {\n                _this._detachOverlay();\n            }\n        });\n    };\n    ConnectedOverlayDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: '[cdk-connected-overlay], [connected-overlay], [cdkConnectedOverlay]',\n                    exportAs: 'cdkConnectedOverlay'\n                },] },\n    ];\n    /**\n     * @nocollapse\n     */\n    ConnectedOverlayDirective.ctorParameters = function () { return [\n        { type: Overlay, },\n        { type: Renderer2, },\n        { type: TemplateRef, },\n        { type: ViewContainerRef, },\n        { type: undefined, decorators: [{ type: Inject, args: [MAT_CONNECTED_OVERLAY_SCROLL_STRATEGY,] },] },\n        { type: Directionality, decorators: [{ type: Optional },] },\n    ]; };\n    ConnectedOverlayDirective.propDecorators = {\n        'origin': [{ type: Input, args: ['cdkConnectedOverlayOrigin',] },],\n        'positions': [{ type: Input, args: ['cdkConnectedOverlayPositions',] },],\n        'offsetX': [{ type: Input, args: ['cdkConnectedOverlayOffsetX',] },],\n        'offsetY': [{ type: Input, args: ['cdkConnectedOverlayOffsetY',] },],\n        'width': [{ type: Input, args: ['cdkConnectedOverlayWidth',] },],\n        'height': [{ type: Input, args: ['cdkConnectedOverlayHeight',] },],\n        'minWidth': [{ type: Input, args: ['cdkConnectedOverlayMinWidth',] },],\n        'minHeight': [{ type: Input, args: ['cdkConnectedOverlayMinHeight',] },],\n        'backdropClass': [{ type: Input, args: ['cdkConnectedOverlayBackdropClass',] },],\n        'scrollStrategy': [{ type: Input, args: ['cdkConnectedOverlayScrollStrategy',] },],\n        'open': [{ type: Input, args: ['cdkConnectedOverlayOpen',] },],\n        'hasBackdrop': [{ type: Input, args: ['cdkConnectedOverlayHasBackdrop',] },],\n        '_deprecatedOrigin': [{ type: Input, args: ['origin',] },],\n        '_deprecatedPositions': [{ type: Input, args: ['positions',] },],\n        '_deprecatedOffsetX': [{ type: Input, args: ['offsetX',] },],\n        '_deprecatedOffsetY': [{ type: Input, args: ['offsetY',] },],\n        '_deprecatedWidth': [{ type: Input, args: ['width',] },],\n        '_deprecatedHeight': [{ type: Input, args: ['height',] },],\n        '_deprecatedMinWidth': [{ type: Input, args: ['minWidth',] },],\n        '_deprecatedMinHeight': [{ type: Input, args: ['minHeight',] },],\n        '_deprecatedBackdropClass': [{ type: Input, args: ['backdropClass',] },],\n        '_deprecatedScrollStrategy': [{ type: Input, args: ['scrollStrategy',] },],\n        '_deprecatedOpen': [{ type: Input, args: ['open',] },],\n        '_deprecatedHasBackdrop': [{ type: Input, args: ['hasBackdrop',] },],\n        'backdropClick': [{ type: Output },],\n        'positionChange': [{ type: Output },],\n        'attach': [{ type: Output },],\n        'detach': [{ type: Output },],\n    };\n    return ConnectedOverlayDirective;\n}());\nexport { ConnectedOverlayDirective };\nfunction ConnectedOverlayDirective_tsickle_Closure_declarations() {\n    /** @type {?} */\n    ConnectedOverlayDirective.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    ConnectedOverlayDirective.ctorParameters;\n    /** @type {?} */\n    ConnectedOverlayDirective.propDecorators;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._overlayRef;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._templatePortal;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._hasBackdrop;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._backdropSubscription;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._positionSubscription;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._offsetX;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._offsetY;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._position;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._escapeListener;\n    /**\n     * Origin for the connected overlay.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.origin;\n    /**\n     * Registered connected position pairs.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.positions;\n    /**\n     * The width of the overlay panel.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.width;\n    /**\n     * The height of the overlay panel.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.height;\n    /**\n     * The min width of the overlay panel.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.minWidth;\n    /**\n     * The min height of the overlay panel.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.minHeight;\n    /**\n     * The custom class to be set on the backdrop element.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.backdropClass;\n    /**\n     * Strategy to be used when handling scroll events while the overlay is open.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.scrollStrategy;\n    /**\n     * Whether the overlay is open.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.open;\n    /**\n     * Event emitted when the backdrop is clicked.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.backdropClick;\n    /**\n     * Event emitted when the position has changed.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.positionChange;\n    /**\n     * Event emitted when the overlay has been attached.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.attach;\n    /**\n     * Event emitted when the overlay has been detached.\n     * @type {?}\n     */\n    ConnectedOverlayDirective.prototype.detach;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._overlay;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._renderer;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._scrollStrategy;\n    /** @type {?} */\n    ConnectedOverlayDirective.prototype._dir;\n}\n//# sourceMappingURL=overlay-directives.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport * as tslib_1 from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { OverlayContainer } from './overlay-container';\n/**\n * The FullscreenOverlayContainer is the alternative to OverlayContainer\n * that supports correct displaying of overlay elements in Fullscreen mode\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullScreen\n * It should be provided in the root component that way:\n * providers: [\n *   {provide: OverlayContainer, useClass: FullscreenOverlayContainer}\n * ],\n */\nvar FullscreenOverlayContainer = (function (_super) {\n    tslib_1.__extends(FullscreenOverlayContainer, _super);\n    function FullscreenOverlayContainer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @return {?}\n     */\n    FullscreenOverlayContainer.prototype._createContainer = function () {\n        var _this = this;\n        _super.prototype._createContainer.call(this);\n        this._adjustParentForFullscreenChange();\n        this._addFullscreenChangeListener(function () { return _this._adjustParentForFullscreenChange(); });\n    };\n    /**\n     * @return {?}\n     */\n    FullscreenOverlayContainer.prototype._adjustParentForFullscreenChange = function () {\n        if (!this._containerElement) {\n            return;\n        }\n        var /** @type {?} */ fullscreenElement = this.getFullscreenElement();\n        var /** @type {?} */ parent = fullscreenElement || document.body;\n        parent.appendChild(this._containerElement);\n    };\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    FullscreenOverlayContainer.prototype._addFullscreenChangeListener = function (fn) {\n        if (document.fullscreenEnabled) {\n            document.addEventListener('fullscreenchange', fn);\n        }\n        else if (document.webkitFullscreenEnabled) {\n            document.addEventListener('webkitfullscreenchange', fn);\n        }\n        else if (((document)).mozFullScreenEnabled) {\n            document.addEventListener('mozfullscreenchange', fn);\n        }\n        else if (((document)).msFullscreenEnabled) {\n            document.addEventListener('MSFullscreenChange', fn);\n        }\n    };\n    /**\n     * When the page is put into fullscreen mode, a specific element is specified.\n     * Only that element and its children are visible when in fullscreen mode.\n     * @return {?}\n     */\n    FullscreenOverlayContainer.prototype.getFullscreenElement = function () {\n        return document.fullscreenElement ||\n            document.webkitFullscreenElement ||\n            ((document)).mozFullScreenElement ||\n            ((document)).msFullscreenElement ||\n            null;\n    };\n    FullscreenOverlayContainer.decorators = [\n        { type: Injectable },\n    ];\n    /**\n     * @nocollapse\n     */\n    FullscreenOverlayContainer.ctorParameters = function () { return []; };\n    return FullscreenOverlayContainer;\n}(OverlayContainer));\nexport { FullscreenOverlayContainer };\nfunction FullscreenOverlayContainer_tsickle_Closure_declarations() {\n    /** @type {?} */\n    FullscreenOverlayContainer.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    FullscreenOverlayContainer.ctorParameters;\n}\n//# sourceMappingURL=fullscreen-overlay-container.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nexport var UP_ARROW = 38;\nexport var /** @type {?} */ DOWN_ARROW = 40;\nexport var /** @type {?} */ RIGHT_ARROW = 39;\nexport var /** @type {?} */ LEFT_ARROW = 37;\nexport var /** @type {?} */ PAGE_UP = 33;\nexport var /** @type {?} */ PAGE_DOWN = 34;\nexport var /** @type {?} */ HOME = 36;\nexport var /** @type {?} */ END = 35;\nexport var /** @type {?} */ ENTER = 13;\nexport var /** @type {?} */ SPACE = 32;\nexport var /** @type {?} */ TAB = 9;\nexport var /** @type {?} */ ESCAPE = 27;\nexport var /** @type {?} */ BACKSPACE = 8;\nexport var /** @type {?} */ DELETE = 46;\nexport var /** @type {?} */ A = 65;\nexport var /** @type {?} */ Z = 90;\nexport var /** @type {?} */ ZERO = 48;\nexport var /** @type {?} */ NINE = 91;\n//# sourceMappingURL=keycodes.js.map","/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { NgModule } from '@angular/core';\nimport { PortalModule } from '@angular/cdk/portal';\nimport { Overlay } from './overlay';\nimport { ScrollDispatchModule, VIEWPORT_RULER_PROVIDER } from '@angular/cdk/scrolling';\nimport { ConnectedOverlayDirective, MAT_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER, OverlayOrigin, } from './overlay-directives';\nimport { OverlayPositionBuilder } from './position/overlay-position-builder';\nimport { OVERLAY_CONTAINER_PROVIDER } from './overlay-container';\nimport { ScrollStrategyOptions } from './scroll/scroll-strategy-options';\nexport var /** @type {?} */ OVERLAY_PROVIDERS = [\n    Overlay,\n    OverlayPositionBuilder,\n    VIEWPORT_RULER_PROVIDER,\n    OVERLAY_CONTAINER_PROVIDER,\n    MAT_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER,\n];\nvar OverlayModule = (function () {\n    function OverlayModule() {\n    }\n    OverlayModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [PortalModule, ScrollDispatchModule],\n                    exports: [ConnectedOverlayDirective, OverlayOrigin, ScrollDispatchModule],\n                    declarations: [ConnectedOverlayDirective, OverlayOrigin],\n                    providers: [OVERLAY_PROVIDERS, ScrollStrategyOptions],\n                },] },\n    ];\n    /**\n     * @nocollapse\n     */\n    OverlayModule.ctorParameters = function () { return []; };\n    return OverlayModule;\n}());\nexport { OverlayModule };\nfunction OverlayModule_tsickle_Closure_declarations() {\n    /** @type {?} */\n    OverlayModule.decorators;\n    /**\n     * @nocollapse\n     * @type {?}\n     */\n    OverlayModule.ctorParameters;\n}\n//# sourceMappingURL=overlay-module.js.map","/** Tokens took place here to avoid circular dependency warning */\n\n\nimport { InjectionToken } from '@angular/core';\nimport { GalleryConfig } from '../models/index';\n\nexport const /** @type {?} */ CONFIG = new InjectionToken<GalleryConfig>('config');\n","import {\n  Component,\n  ChangeDetectionStrategy,\n  HostListener,\n  EventEmitter,\n  Output,\n  ViewEncapsulation\n} from '@angular/core';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nexport class GalleryLightboxComponent {\n\n   keyDown = new EventEmitter<KeyboardEvent>();\n/**\n * @param {?} ev\n * @return {?}\n */\nonKeyDown(ev: KeyboardEvent) {\n    this.keyDown.next(ev);\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-lightbox',\n  template: `<gallery [@slideGalleryIn] [isOverlay]=\"true\"></gallery>`,\n  styles: [`\n    .g-backdrop{background-color:rgba(0,0,0,.8)}.g-overlay{margin:auto}gallery-lightbox{position:relative;display:block}gallery-lightbox gallery{border-radius:1.32em;overflow:hidden;margin:0;display:block;width:100%;height:100%;-webkit-box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1}.cdk-global-overlay-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;z-index:1}.cdk-overlay-pane{-webkit-box-sizing:border-box;box-sizing:border-box}.cdk-overlay-backdrop,.cdk-overlay-pane{position:absolute;pointer-events:auto;z-index:1}.cdk-overlay-backdrop{top:0;bottom:0;left:0;right:0;-webkit-tap-highlight-color:transparent;-webkit-transition:opacity .4s cubic-bezier(.25,.8,.25,1);transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.48}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.6)}.cdk-overlay-transparent-backdrop{background:none}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}\n  `],\n  animations: [\n    trigger('slideGalleryIn', [\n      state('void', style({transform: 'translateY(25%) scale(0.9)', opacity: 0})),\n      state('enter', style({transform: 'translateY(0%) scale(1)', opacity: 1})),\n      state('exit', style({transform: 'translateY(25%)', opacity: 0})),\n      transition('* => *', animate('400ms cubic-bezier(0.25, 0.8, 0.25, 1)')),\n    ])\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'keyDown': [{ type: Output },],\n'onKeyDown': [{ type: HostListener, args: ['document:keydown', ['$event'], ] },],\n};\n}\n\nfunction GalleryLightboxComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryLightboxComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryLightboxComponent.ctorParameters;\n/** @type {?} */\nGalleryLightboxComponent.propDecorators;\n/** @type {?} */\nGalleryLightboxComponent.prototype.keyDown;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { GalleryConfig } from '../models/index';\n\nexport const /** @type {?} */ defaultConfig: GalleryConfig = {\n  gestures: true,\n  style: {\n    background: '#121519'\n  },\n  navigation: {\n\n  },\n  loader: {\n    width: '50px',\n    height: '50px',\n    icon: 'oval'\n  },\n  description: {\n    position: 'bottom',\n    overlay: false,\n    text: true,\n    counter: true\n  },\n  player: {\n    autoplay: false,\n    interval: 3000,\n    progress: false\n  },\n  thumbnails: {\n    width: 120,\n    height: 90,\n    position: 'top',\n    space: 30\n  },\n  lightbox: {\n    backdropClass: 'g-backdrop',\n    panelClass: 'g-overlay',\n    hasBackdrop: true,\n    positionStrategy: 'GlobalPositionStrategy',\n    scrollStrategy: 'BlockScrollStrategy'\n  }\n};\n\n\n\n","import { ComponentRef, Inject, Injectable } from '@angular/core';\nimport { ENTER, ESCAPE, RIGHT_ARROW, LEFT_ARROW } from '@angular/cdk/keycodes';\nimport { ViewportRuler } from '@angular/cdk/scrolling';\nimport { BlockScrollStrategy, GlobalPositionStrategy, Overlay, OverlayConfig, OverlayRef } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\n\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Observable } from 'rxjs/Observable';\n\nimport'rxjs/add/observable/interval';\nimport'rxjs/add/operator/switchMap';\nimport'rxjs/add/operator/takeWhile';\nimport'rxjs/add/operator/do';\nimport'rxjs/add/operator/filter';\n\nimport { CONFIG } from './gallery.token';\nimport { GalleryLightboxComponent } from '../components/gallery-lightbox/gallery-lightbox.component';\nimport { GalleryState, GalleryConfig, GalleryItem } from '../models/index';\nimport { defaultConfig } from './gallery.default';\nimport { mergeDeep } from '../utils/merge-deep';\nexport class Gallery {\n/**\n * Gallery portal for dialog usage\n */\nprivate galleryPortal = new ComponentPortal(GalleryLightboxComponent);\n/**\n * Initial state\n */\nprivate initialState: GalleryState = {\n    currIndex: 0,\n    hasNext: false,\n    hasPrev: false,\n    play: false\n  };\n/**\n * Gallery state\n */\nstate: GalleryState = this.initialState;\n  state$ = new BehaviorSubject<GalleryState>(this.initialState);\n/**\n * Gallery config\n */\nconfig: GalleryConfig = defaultConfig;\n  config$ = new BehaviorSubject<GalleryConfig>(this.config);\n/**\n * Gallery overlay config\n */\noverlayConfig: OverlayConfig;\n/**\n * Gallery overlay ref\n */\noverlayRef: OverlayRef;\n/**\n * @param {?} config\n * @param {?} overlay\n * @param {?} viewportRuler\n */\nconstructor( config: GalleryConfig,\nprivate overlay: Overlay,\nprivate viewportRuler: ViewportRuler) {\n\n    /** Start config worker */\n    this.configWorker().subscribe();\n\n    /** Start player worker */\n    this.playerWorker().subscribe();\n\n    this.setConfig(config);\n  }\n/**\n * Load items and reset the state\n * @param {?} items\n * @return {?}\n */\nload(items: GalleryItem[]) {\n\n    this.setState({\n      items: items,\n      hasNext: items.length > 1\n    });\n  }\n/**\n * Set active item\n * \n * @param {?} i\n * @return {?}\n */\nset(i: number) {\n\n    this.setState({\n      currIndex: i,\n      hasNext: i < this.state.items.length - 1,\n      hasPrev: i > 0\n    });\n  }\n/**\n * Next item\n * @return {?}\n */\nnext() {\n\n    if (this.state.hasNext) {\n      const /** @type {?} */ index = this.state.currIndex + 1;\n      this.set(index);\n    } else {\n      this.set(0);\n    }\n  }\n/**\n * Prev item\n * @return {?}\n */\nprev() {\n\n    if (this.state.hasPrev) {\n      const /** @type {?} */ index = this.state.currIndex - 1;\n      this.set(index);\n    } else {\n      this.set(this.state.items.length - 1);\n    }\n  }\n/**\n * Reset gallery to initial state\n * @return {?}\n */\nreset() {\n    this.setState(this.initialState);\n  }\n/**\n * Set gallery state\n * \n * @param {?} state\n * @return {?}\n */\nsetState(state: GalleryState) {\n    this.state = {...this.state, ...state};\n    this.state$.next(this.state);\n  }\n/**\n * Set gallery config\n * \n * @param {?} config\n * @return {?}\n */\nsetConfig(config: GalleryConfig) {\n    // if (config.overlay) {\n    //   /** Set overlay config */\n    //   if (config.overlay.positionStrategy === 'GlobalPositionStrategy') {\n    //     this.config.overlay.positionStrategy = new GlobalPositionStrategy().centerHorizontally();\n    //   } else {\n    //     // ConnectedPositionStrategy\n    //     this.config.overlay.positionStrategy = new GlobalPositionStrategy().centerHorizontally();\n    //   }\n    //\n    //   if (config.overlay.scrollStrategy === 'BlockScrollStrategy') {\n    //     this.config.overlay.scrollStrategy = new BlockScrollStrategy(this.viewportRuler);\n    //   } else if (config.overlay.scrollStrategy === 'NoopScrollStrategy') {\n    //     this.config.overlay.scrollStrategy = new NoopScrollStrategy();\n    //   } else {\n    //     /** TODO: Check if CloseScrollStrategy useful for gallery */\n    //     // CloseScrollStrategy\n    //     // this.config.overlay.scrollStrategy = new CloseScrollStrategy();\n    //   }\n    // }\n\n    this.config = mergeDeep(this.config, config);\n\n    /** set overlay config */\n    this.overlayConfig = {\n      backdropClass: this.config.lightbox.backdropClass,\n      panelClass: this.config.lightbox.panelClass,\n      hasBackdrop: this.config.lightbox.hasBackdrop,\n      positionStrategy: new GlobalPositionStrategy().centerHorizontally(),\n      scrollStrategy: new BlockScrollStrategy(this.viewportRuler)\n    };\n  }\n/**\n * Start slide show\n * \n * @return {?}\n */\nplay() {\n    this.setState({\n      play: true\n    });\n  }\n/**\n * End slide show\n * @return {?}\n */\nstop() {\n    this.setState({\n      play: false\n    });\n  }\n/**\n * Open gallery in an overlay\n * \n * @param {?=} i\n * @return {?}\n */\nopen(i = 0) {\n    this.set(i);\n    this.overlayRef = this.overlay.create(this.overlayConfig);\n    const /** @type {?} */ compRef: ComponentRef<GalleryLightboxComponent> = this.overlayRef.attach(this.galleryPortal);\n\n    /** Close overlay on backdropClick */\n    this.overlayRef.backdropClick().subscribe(() => this.close());\n\n    /** Activate keyboard listener */\n    compRef.instance.keyDown.subscribe((ev) => this.handleKeydown(ev));\n  }\n/**\n * Close gallery overlay\n * @return {?}\n */\nclose() {\n    /** Stop player if started */\n    this.stop();\n    /** If overlay is already opened */\n    if (this.overlayRef.hasAttached()) {\n      this.overlayRef.dispose();\n    }\n  }\n/**\n * Handles global key presses while gallery overlay is opened\n * \n * @param {?} event\n * @return {?}\n */\nhandleKeydown(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case LEFT_ARROW:\n        this.prev();\n        break;\n      case RIGHT_ARROW:\n      case ENTER:\n        this.next();\n        break;\n      case ESCAPE:\n        this.close();\n        break;\n      default:\n        return;\n    }\n  }\n/**\n * Start player according to the state\n * @return {?}\n */\nplayerWorker() {\n    return this.state$.filter(state => state.play)\n      .switchMap(() => Observable.interval(this.config.player.interval)\n        .takeWhile(() => this.state.play)\n        .do(() => this.next()));\n  }\n/**\n * Set config async\n * @return {?}\n */\nconfigWorker() {\n    return this.config$.do((config: GalleryConfig) => this.setConfig(config));\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [CONFIG, ] }, ]},\n{type: Overlay, },\n{type: ViewportRuler, },\n];\n}\n\nfunction Gallery_tsickle_Closure_declarations() {\n/** @type {?} */\nGallery.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGallery.ctorParameters;\n/**\n * Gallery portal for dialog usage\n * @type {?}\n */\nGallery.prototype.galleryPortal;\n/**\n * Initial state\n * @type {?}\n */\nGallery.prototype.initialState;\n/**\n * Gallery state\n * @type {?}\n */\nGallery.prototype.state;\n/** @type {?} */\nGallery.prototype.state$;\n/**\n * Gallery config\n * @type {?}\n */\nGallery.prototype.config;\n/** @type {?} */\nGallery.prototype.config$;\n/**\n * Gallery overlay config\n * @type {?}\n */\nGallery.prototype.overlayConfig;\n/**\n * Gallery overlay ref\n * @type {?}\n */\nGallery.prototype.overlayRef;\n/** @type {?} */\nGallery.prototype.overlay;\n/** @type {?} */\nGallery.prototype.viewportRuler;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { ChangeDetectionStrategy, Component, Input, OnDestroy, ViewEncapsulation } from '@angular/core';\nimport { Gallery } from '../../services/gallery.service';\nexport class GalleryComponent implements OnDestroy {\n\n   isOverlay: boolean;\n/**\n * @param {?} gallery\n */\nconstructor(public gallery: Gallery) {\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    this.isOverlay ? this.gallery.close() : this.gallery.reset();\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery',\n  template: `<gallery-main [state]=\"gallery.state$ | async\" [config]=\"gallery.config$ | async\" [isOverlay]=\"isOverlay\"></gallery-main>`,\n  styles: [`\n    gallery{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;margin-bottom:2em;z-index:1;overflow:hidden}gallery *{-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Gallery, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'isOverlay': [{ type: Input },],\n};\n}\n\nfunction GalleryComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryComponent.ctorParameters;\n/** @type {?} */\nGalleryComponent.propDecorators;\n/** @type {?} */\nGalleryComponent.prototype.isOverlay;\n/** @type {?} */\nGalleryComponent.prototype.gallery;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\nimport { Gallery } from '../../services/gallery.service';\nimport { GalleryState } from '../../models/index';\nexport class GalleryNavComponent {\n\n   state: GalleryState;\n/**\n * @param {?} gallery\n */\nconstructor(public gallery: Gallery) {\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-nav',\n  template: `\n    <div *ngIf=\"state.items.length > 1\" class=\"g-nav\">\n\n      <div class=\"g-nav-prev\" (tapClick)=\"gallery.prev()\">\n        <i class=\"prev-arrow-ico\"></i>\n      </div>\n\n      <div class=\"g-nav-next\" (tapClick)=\"gallery.next()\">\n        <i class=\"next-arrow-ico\"></i>\n      </div>\n\n    </div>\n  `,\n  styles: [`\n    gallery-nav{z-index:1;position:absolute;left:0;right:0;top:0;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex}@media (max-width:480px){gallery-nav{display:none}}.g-nav{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;opacity:0;-webkit-transition:all .4s linear;transition:all .4s linear;cursor:pointer}.g-nav:hover{opacity:1}.g-nav-next,.g-nav-prev{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;opacity:.7;position:relative;overflow:hidden;-webkit-transition:all .2s ease;transition:all .2s ease;z-index:0}.g-nav-next:hover,.g-nav-prev:hover{opacity:1}.g-nav-next{padding-right:.7em;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.g-nav-prev{padding-left:.7em;width:20%}.next-arrow-ico,.prev-arrow-ico{width:45px;height:80px}.next-arrow-ico{background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PiAgPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQxNC40OTYgNDE0LjQ5NiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDE0LjQ5NiA0MTQuNDk2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+IDxkZWZzIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGZpbHRlciBpZD0iZHJvcHNoYWRvdyIgPiAgPGZlR2F1c3NpYW5CbHVyIGluPSJTb3VyY2VBbHBoYSIgc3RkRGV2aWF0aW9uPSIzIi8+ICAgPGZlT2Zmc2V0IGR4PSIyIiBkeT0iMiIgcmVzdWx0PSJvZmZzZXRibHVyIi8+ICAgPGZlTWVyZ2U+IDxmZU1lcmdlTm9kZS8+PGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIi8+ICAgPC9mZU1lcmdlPjwvZmlsdGVyPjwvZGVmcz4gIDxwb2x5Z29uIHN0eWxlPSJmaWxsOiNmZmY7IiBmaWx0ZXI9InVybCgjZHJvcHNoYWRvdykiIHBvaW50cz0iMTE4LjEyNiwwIDg5Ljc5NiwyOC4yMzggMjY4LjIyMywyMDcuMjQ4IDg5Ljc5NiwzODYuMjU4IDExOC4xMjYsNDE0LjQ5NiAzMjQuNywyMDcuMjQ4ICIvPjwvc3ZnPg==) no-repeat 50%}.prev-arrow-ico{background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA0MTQuNDk2IDQxNC40OTYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQxNC40OTYgNDE0LjQ5NjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxkZWZzIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGZpbHRlciBpZD0iZHJvcHNoYWRvdyIgPiAgPGZlR2F1c3NpYW5CbHVyIGluPSJTb3VyY2VBbHBoYSIgc3RkRGV2aWF0aW9uPSIzIi8+ICAgPGZlT2Zmc2V0IGR4PSIyIiBkeT0iMiIgcmVzdWx0PSJvZmZzZXRibHVyIi8+ICAgPGZlTWVyZ2U+IDxmZU1lcmdlTm9kZS8+PGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIi8+ICAgPC9mZU1lcmdlPjwvZmlsdGVyPjwvZGVmcz48cG9seWdvbiBzdHlsZT0iZmlsbDojZmZmOyIgZmlsdGVyPSJ1cmwoI2Ryb3BzaGFkb3cpIiBwb2ludHM9IjMyNC43LDI4LjIzOCAyOTYuMzcsMCA4OS43OTYsMjA3LjI0OCAyOTYuMzcsNDE0LjQ5NiAzMjQuNywzODYuMjU4IDE0Ni4yNzMsMjA3LjI0OCAiLz48L3N2Zz4=) no-repeat 50%}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Gallery, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'state': [{ type: Input },],\n};\n}\n\nfunction GalleryNavComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryNavComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryNavComponent.ctorParameters;\n/** @type {?} */\nGalleryNavComponent.propDecorators;\n/** @type {?} */\nGalleryNavComponent.prototype.state;\n/** @type {?} */\nGalleryNavComponent.prototype.gallery;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n  Component,\n  Input,\n  ChangeDetectionStrategy,\n  ElementRef,\n  Renderer2,\n  OnInit,\n  ViewEncapsulation\n} from '@angular/core';\nimport { Gallery } from '../../services/gallery.service';\nimport { GalleryState, GalleryThumbConfig } from '../../models/index';\n\ndeclare const Hammer: any;\nexport class GalleryThumbComponent implements OnInit {\n\n   state: GalleryState;\n   config: GalleryThumbConfig;\n/**\n * @param {?} gallery\n * @param {?} el\n * @param {?} renderer\n */\nconstructor(public gallery: Gallery,\nprivate el: ElementRef,\nprivate renderer: Renderer2) {\n\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n/**\n * Set thumbnails position (top or bottom)\n */\nconst order = this.config.position === 'top' ? 0 : 2;\n    this.renderer.setStyle(this.el.nativeElement, 'order', order);\n    this.renderer.setStyle(this.el.nativeElement, '-webkit-order', order);\n\n    /** Enable gestures */\n    if (this.gallery.config.gestures) {\n      if (typeof Hammer === 'undefined') {\n\n        throw Error('[NgGallery]: HammerJS is undefined, make sure it is loaded');\n      } else {\n        const /** @type {?} */ el = this.el.nativeElement;\n        const /** @type {?} */ mc = new Hammer(el);\n\n        mc.on('panstart', () => {\n          this.renderer.removeClass(el, 'g-pan-reset');\n        });\n        mc.on('panend', () => {\n          this.renderer.addClass(el, 'g-pan-reset');\n        });\n\n        /** Pan left and right */\n        mc.on('pan', (e) => {\n          this.renderer.setStyle(el, 'transform', `translate3d(${e.deltaX}px, 0px, 0px)`);\n        });\n        /** Swipe next and prev */\n        mc.on('swipeleft', () => {\n          this.gallery.next();\n        });\n        mc.on('swiperight', () => {\n          this.gallery.prev();\n        });\n      }\n    }\n\n  }\n/**\n * Centralize active thumbnail\n * @return {?}\n */\ntranslateThumbs() {\n    const /** @type {?} */ x = this.state.currIndex * this.config.width + this.config.width / 2;\n    return `translate3d(${-x}px, 0, 0)`;\n  }\n/**\n * @param {?} i\n * @return {?}\n */\ngetThumbImage(i) {\n    /** Use thumbnail if presented */\n    return `url(${this.state.items[i].thumbnail || this.state.items[i].src})`;\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-thumb',\n  template: `\n    <div class=\"g-thumb-container\"\n         [style.height.px]=\"config.height\"\n         [style.margin.px]=\"config.space\">\n\n      <div class=\"g-thumbs\" [style.transform]=\"translateThumbs()\">\n\n        <div class=\"g-thumb\" *ngFor=\"let image of state.items; let i = index\"\n             [class.g-thumb-current]=\"i === state.currIndex\"\n             [style.width.px]=\"gallery.config.thumbnails.width\"\n             [style.height.px]=\"gallery.config.thumbnails.height\">\n\n          <div class=\"g-thumb-image\"\n               [style.backgroundImage]=\"getThumbImage(i)\"\n               (tapClick)=\"gallery.set(i)\">\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n  `,\n  styles: [`\n    gallery-thumb{display:block;z-index:1}.g-thumb-container{position:relative;z-index:2;width:100%;height:100%;left:0}.g-thumb-container,.g-thumbs{top:0;display:-webkit-box;display:-ms-flexbox;display:flex}.g-thumbs{position:absolute;left:50%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:-webkit-transform .3s ease-in;transition:-webkit-transform .3s ease-in;transition:transform .3s ease-in;transition:transform .3s ease-in,-webkit-transform .3s ease-in;-webkit-transform:translateZ(0);transform:translateZ(0)}.g-thumb{padding:8px;opacity:.5;-webkit-transition:all .2s linear;transition:all .2s linear}.g-thumb-image{cursor:pointer;width:100%;height:100%;background-position:50%;background-size:cover;-webkit-box-shadow:0 0 4px rgba(0,0,0,.3);box-shadow:0 0 4px rgba(0,0,0,.3)}.g-thumb-current{opacity:1;padding:2px}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Gallery, },\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'state': [{ type: Input },],\n'config': [{ type: Input },],\n};\n}\n\nfunction GalleryThumbComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryThumbComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryThumbComponent.ctorParameters;\n/** @type {?} */\nGalleryThumbComponent.propDecorators;\n/** @type {?} */\nGalleryThumbComponent.prototype.state;\n/** @type {?} */\nGalleryThumbComponent.prototype.config;\n/** @type {?} */\nGalleryThumbComponent.prototype.gallery;\n/** @type {?} */\nGalleryThumbComponent.prototype.el;\n/** @type {?} */\nGalleryThumbComponent.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n  Component, Input, OnInit, ElementRef, Renderer2, ChangeDetectionStrategy,\n  ViewEncapsulation\n} from '@angular/core';\nimport { GalleryState, GalleryDescConfig } from '../../models/index';\nexport class GalleryTextComponent implements OnInit {\n\n   state: GalleryState;\n   config: GalleryDescConfig;\n/**\n * @param {?} el\n * @param {?} renderer\n */\nconstructor(private el: ElementRef,\nprivate renderer: Renderer2) {\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    const /** @type {?} */ el = this.el.nativeElement;\n    /** text overlay */\n    if (this.config.overlay) {\n      this.renderer.setStyle(el, 'position', 'absolute');\n    }\n\n    /** text position */\n    if (this.config.position === 'top') {\n      this.renderer.setStyle(el, 'order', 0);\n      this.renderer.setStyle(el, '-webkit-order', 0);\n      this.renderer.setStyle(el, 'top', 0);\n      this.renderer.setStyle(el, 'bottom', 'unset');\n    } else {\n      this.renderer.setStyle(el, 'order', 2);\n      this.renderer.setStyle(el, '-webkit-order', 2);\n      this.renderer.setStyle(el, 'top', 'unset');\n      this.renderer.setStyle(el, 'bottom', 0);\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-text',\n  template: `\n    <div class=\"g-text-container\" [ngStyle]=\"config.style\">\n      <div *ngIf=\"config.text\" class=\"g-text\" [innerHtml]=\"state.items[state.currIndex]?.text\">\n      </div>\n      <div *ngIf=\"config.counter\" class=\"g-number\">\n        {{(state.currIndex + 1) + '/' + state.items.length}}\n      </div>\n    </div>\n  `,\n  styles: [`\n    gallery-text{position:relative;left:0;right:0;z-index:1}.g-text-container{padding:1em 2em;color:#ccc;font-size:13px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-line-pack:center;align-content:center;background-clip:padding-box;-webkit-font-smoothing:antialiased}.g-text{-webkit-box-flex:1;-ms-flex:1;flex:1}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'state': [{ type: Input },],\n'config': [{ type: Input },],\n};\n}\n\nfunction GalleryTextComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryTextComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryTextComponent.ctorParameters;\n/** @type {?} */\nGalleryTextComponent.propDecorators;\n/** @type {?} */\nGalleryTextComponent.prototype.state;\n/** @type {?} */\nGalleryTextComponent.prototype.config;\n/** @type {?} */\nGalleryTextComponent.prototype.el;\n/** @type {?} */\nGalleryTextComponent.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  SimpleChanges,\n  OnChanges,\n  ViewEncapsulation\n} from '@angular/core';\nimport { Gallery } from '../../services/gallery.service';\nimport { GalleryState, GalleryConfig } from '../../models/index';\nexport class GalleryItemsComponent implements OnChanges {\n\n  loading = false;\n\n   state: GalleryState;\n   config: GalleryConfig;\n/**\n * @param {?} gallery\n */\nconstructor(public gallery: Gallery) {\n  }\n/**\n * @param {?} simpleChanges\n * @return {?}\n */\nngOnChanges(simpleChanges: SimpleChanges) {\n    /** Show loading when current image changes */\n    if (!simpleChanges['state'].firstChange) {\n      const /** @type {?} */ curr: GalleryState = simpleChanges['state'].currentValue;\n      const /** @type {?} */ prev: GalleryState = simpleChanges['state'].previousValue;\n\n      if (curr.currIndex !== prev.currIndex) {\n        this.loading = true;\n      }\n    }\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-items',\n  template: `\n    <div *ngIf=\"state.items[state.currIndex]; let curr\"\n         class=\"g-item\"\n         [class.g-lazyloaded]=\"!loading\">\n\n      <img [lazyImage]=\"curr.src\"\n           [alt]=\"curr.text\"\n           (loading)=\"loading = $event\">\n\n    </div>\n\n    <gallery-loader *ngIf=\"loading\" [config]=\"config.loader\"></gallery-loader>\n  `,\n  styles: [`\n    gallery-items{z-index:1;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;-webkit-box-flex:1;-ms-flex:1;flex:1;flex-direction:column;-webkit-transform:translateZ(0);transform:translateZ(0)}.g-item,gallery-items{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column}.g-item{position:absolute;left:0;right:0;top:0;bottom:0;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;opacity:0}.g-item.g-lazyloaded{opacity:1;-webkit-transition:opacity .3s ease-in;transition:opacity .3s ease-in}.g-item img{-webkit-box-shadow:0 0 4px rgba(0,0,0,.3);box-shadow:0 0 4px rgba(0,0,0,.3);pointer-events:none;display:block;max-width:100%;max-height:100%}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Gallery, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'state': [{ type: Input },],\n'config': [{ type: Input },],\n};\n}\n\nfunction GalleryItemsComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryItemsComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryItemsComponent.ctorParameters;\n/** @type {?} */\nGalleryItemsComponent.propDecorators;\n/** @type {?} */\nGalleryItemsComponent.prototype.loading;\n/** @type {?} */\nGalleryItemsComponent.prototype.state;\n/** @type {?} */\nGalleryItemsComponent.prototype.config;\n/** @type {?} */\nGalleryItemsComponent.prototype.gallery;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { ChangeDetectionStrategy, Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Gallery } from '../../services/gallery.service';\nimport { GalleryLoaderConfig } from '../../models/index';\nexport class GalleryLoaderComponent implements OnInit {\n\n   config: GalleryLoaderConfig;\n/**\n * Loader icon\n */\nicon: string;\n/**\n * @param {?} gallery\n */\nconstructor(public gallery: Gallery) {\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    this.icon = this.getIcon();\n  }\n/**\n * @return {?}\n */\ngetIcon() {\n    switch (this.config.icon) {\n      case 'puff':\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/puff.svg';\n\n      case 'spinning-circles':\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/ball-triangle.svg';\n\n      case 'three-dots':\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/three-dots.svg';\n\n      case 'oval':\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/oval.svg';\n\n      case 'ball-triangle':\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/ball-triangle.svg';\n\n      case 'bars':\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/bars.svg';\n\n      case 'tail-spin':\n        return 'https://cdn.rawgit.com/SamHerbert/SVG-Loaders/75b65ef5/svg-loaders/tail-spin.svg';\n\n      default:\n        /** Custom loading icon src */\n        return this.config.icon;\n    }\n  }\n\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-loader',\n  template: `\n    <div class=\"g-loader\">\n      <img [src]=\"icon\" [style.width]=\"config.width\" [style.height]=\"config.height\"/>\n    </div>\n  `,\n  styles: [`\n    gallery-loader{z-index:1}.g-loader{z-index:1;position:absolute;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1em}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Gallery, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'config': [{ type: Input },],\n};\n}\n\nfunction GalleryLoaderComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryLoaderComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryLoaderComponent.ctorParameters;\n/** @type {?} */\nGalleryLoaderComponent.propDecorators;\n/** @type {?} */\nGalleryLoaderComponent.prototype.config;\n/**\n * Loader icon\n * @type {?}\n */\nGalleryLoaderComponent.prototype.icon;\n/** @type {?} */\nGalleryLoaderComponent.prototype.gallery;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, Input, OnInit, ChangeDetectionStrategy, ViewEncapsulation } from '@angular/core';\nimport { Gallery } from '../../services/gallery.service';\nimport { GalleryState, GalleryBulletConfig } from '../../models/index';\nimport { applyCssPrefixes } from '../../utils/auto-prefixer';\nexport class GalleryBulletsComponent implements OnInit {\n\n  containerStyle;\n   state: GalleryState;\n   config: GalleryBulletConfig;\n/**\n * @param {?} gallery\n */\nconstructor(public gallery: Gallery) {\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n\n    let /** @type {?} */ style;\n\n    switch (this.config.position) {\n      case 'bottom':\n        style = {\n          'flex-direction': 'row',\n          height: 'auto',\n          width: '100%',\n          bottom: 0\n        };\n        break;\n      case 'left':\n        style = {\n          'flex-direction': 'column',\n          height: '100%',\n          width: 'auto'\n        };\n        break;\n      case 'right':\n        style = {\n          'flex-direction': 'column',\n          height: '100%',\n          width: 'auto',\n          right: 0\n        };\n        break;\n      default:\n        // top\n        style = {\n          'flex-direction': 'row',\n          height: 'auto',\n          width: '100%',\n        };\n        break;\n    }\n\n    this.containerStyle = applyCssPrefixes(style);\n  }\n\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-bullets',\n  template: `\n    <div class=\"g-bullets-container\" [ngStyle]=\"containerStyle\">\n      <div class=\"g-bullet\"\n           *ngFor=\"let item of state.items; let i = index\"\n           [class.g-bullet-curr]=\"i === state.currIndex\"\n           (tapClick)=\"gallery.set(i)\">\n\n        <div class=\"g-bullet-inner\" [ngStyle]=\"config.style\"></div>\n\n      </div>\n    </div>\n  `,\n  styles: [`\n    .g-bullets-container{position:absolute;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.g-bullet,.g-bullets-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.g-bullet{cursor:pointer;z-index:1}.g-bullet-inner{margin:1em;height:4px;width:4px;background-color:hsla(0,0%,100%,.5);border-radius:2px;-webkit-box-shadow:0 0 6px rgba(0,0,0,.8);box-shadow:0 0 6px rgba(0,0,0,.8);-webkit-transition:all .2s ease;transition:all .2s ease}.g-bullet-curr .g-bullet-inner{-webkit-transform:scale(1.5);transform:scale(1.5);background-color:#fff}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Gallery, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'state': [{ type: Input },],\n'config': [{ type: Input },],\n};\n}\n\nfunction GalleryBulletsComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryBulletsComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryBulletsComponent.ctorParameters;\n/** @type {?} */\nGalleryBulletsComponent.propDecorators;\n/** @type {?} */\nGalleryBulletsComponent.prototype.containerStyle;\n/** @type {?} */\nGalleryBulletsComponent.prototype.state;\n/** @type {?} */\nGalleryBulletsComponent.prototype.config;\n/** @type {?} */\nGalleryBulletsComponent.prototype.gallery;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { tryCatch } from '../util/tryCatch';\nimport { errorObject } from '../util/errorObject';\nimport { Observable } from '../Observable';\nimport { TeardownLogic } from '../Subscription';\n\n/* tslint:disable:max-line-length */\nexport function distinctUntilChanged<T>(this: Observable<T>, compare?: (x: T, y: T) => boolean): Observable<T>;\nexport function distinctUntilChanged<T, K>(this: Observable<T>, compare: (x: K, y: K) => boolean, keySelector: (x: T) => K): Observable<T>;\n/* tslint:disable:max-line-length */\n\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n * If a comparator function is not provided, an equality check is used by default.\n * @param {function} [compare] optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} an Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nexport function distinctUntilChanged<T, K>(this: Observable<T>, compare?: (x: K, y: K) => boolean, keySelector?: (x: T) => K): Observable<T> {\n  return this.lift(new DistinctUntilChangedOperator<T, K>(compare, keySelector));\n}\n\nclass DistinctUntilChangedOperator<T, K> implements Operator<T, T> {\n  constructor(private compare: (x: K, y: K) => boolean,\n              private keySelector: (x: T) => K) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass DistinctUntilChangedSubscriber<T, K> extends Subscriber<T> {\n  private key: K;\n  private hasKey: boolean = false;\n\n  constructor(destination: Subscriber<T>,\n              compare: (x: K, y: K) => boolean,\n              private keySelector: (x: T) => K) {\n    super(destination);\n    if (typeof compare === 'function') {\n      this.compare = compare;\n    }\n  }\n\n  private compare(x: any, y: any): boolean {\n    return x === y;\n  }\n\n  protected _next(value: T): void {\n\n    const keySelector = this.keySelector;\n    let key: any = value;\n\n    if (keySelector) {\n      key = tryCatch(this.keySelector)(value);\n      if (key === errorObject) {\n        return this.destination.error(errorObject.e);\n      }\n    }\n\n    let result: any = false;\n\n    if (this.hasKey) {\n      result = tryCatch(this.compare)(this.key, key);\n      if (result === errorObject) {\n        return this.destination.error(errorObject.e);\n      }\n    } else {\n      this.hasKey = true;\n    }\n\n    if (Boolean(result) === false) {\n      this.key = key;\n      this.destination.next(value);\n    }\n  }\n}\n","\nimport { Observable } from '../../Observable';\nimport { distinctUntilChanged } from '../../operator/distinctUntilChanged';\n\nObservable.prototype.distinctUntilChanged = distinctUntilChanged;\n\ndeclare module '../../Observable' {\n  interface Observable<T> {\n    distinctUntilChanged: typeof distinctUntilChanged;\n  }\n}","import { ChangeDetectionStrategy, Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { Gallery } from '../../services/gallery.service';\nimport { GalleryState, GalleryPlayConfig } from '../../models/index';\nimport { Observable } from 'rxjs/Observable';\nimport'rxjs/add/operator/distinctUntilChanged';\nimport'rxjs/add/operator/mergeMap';\nimport'rxjs/add/operator/map';\nimport'rxjs/add/operator/take';\nimport'rxjs/add/observable/timer';\nexport class GalleryPlayerComponent implements OnInit {\n\n  progress$: Observable<boolean>;\n   config: GalleryPlayConfig;\n/**\n * @param {?} gallery\n */\nconstructor(public gallery: Gallery) {\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    /** Start auto-play if enabled */\n    if (this.config.autoplay) {\n      this.gallery.play();\n    }\n\n    this.progress$ = this.gallery.state$\n      .map((state: GalleryState) => state.currIndex)\n      .mergeMap(() => Observable.timer(0, 100).take(2).map(v => !!v));\n\n  }\n/**\n * @param {?} e\n * @return {?}\n */\ngetClasses(e) {\n    return {\n      'g-progress-initial': !e,\n      'g-progress-done': e\n    };\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-player',\n  template: `\n    <div *ngIf=\"config.autoplay && config.progress\" class=\"g-progress-bar\">\n      <div class=\"g-progress\"\n           [ngClass]=\"getClasses(progress$ | async)\"\n           [style.transitionDuration]=\"config.interval + 'ms'\">\n\n      </div>\n    </div>\n  `,\n  styles: [`\n    gallery-player{position:absolute;z-index:2;left:0;right:0;overflow:unset}.g-progress-bar{position:absolute;top:0;width:100%}.g-progress{width:100%;height:3px;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);z-index:1}.g-progress-initial{-webkit-transition-duration:0ms!important;transition-duration:0ms!important}.g-progress-done{-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transition-timing-function:linear;transition-timing-function:linear;background-color:#bcc8ce;-webkit-transform:translateZ(0);transform:translateZ(0)}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Gallery, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'config': [{ type: Input },],\n};\n}\n\nfunction GalleryPlayerComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryPlayerComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryPlayerComponent.ctorParameters;\n/** @type {?} */\nGalleryPlayerComponent.propDecorators;\n/** @type {?} */\nGalleryPlayerComponent.prototype.progress$;\n/** @type {?} */\nGalleryPlayerComponent.prototype.config;\n/** @type {?} */\nGalleryPlayerComponent.prototype.gallery;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {  ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\nimport { Gallery } from '../../services/gallery.service';\nimport { GalleryState, GalleryConfig } from '../../models/index';\nexport class GalleryMainComponent {\n\n   state: GalleryState;\n   config: GalleryConfig;\n   isOverlay: boolean;\n/**\n * @param {?} gallery\n */\nconstructor(public gallery: Gallery) {\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-main',\n  template: `\n    <div class=\"g-container\" *ngIf=\"state.items?.length; else empty\" [ngStyle]=\"config.style\">\n\n      <gallery-thumb *ngIf=\"config.thumbnails\" [state]=\"state\" [config]=\"config.thumbnails\"></gallery-thumb>\n\n      <div class=\"g-box\">\n\n        <gallery-slider [state]=\"state\" [config]=\"config\"></gallery-slider>\n\n        <gallery-bullets *ngIf=\"config.bullets\" [state]=\"state\" [config]=\"config.bullets\"></gallery-bullets>\n\n      </div>\n\n      <gallery-player *ngIf=\"config.player\" [config]=\"config.player\"></gallery-player>\n\n      <gallery-text *ngIf=\"config.description\" [state]=\"state\" [config]=\"config.description\"></gallery-text>\n\n      <div *ngIf=\"isOverlay\" class=\"g-btn-close\" (tapClick)=\"gallery.close()\"></div>\n\n    </div>\n\n    <ng-template #empty>\n      <div class=\"empty\">\n        <ng-content></ng-content>\n      </div>\n    </ng-template>\n  `,\n  styles: [`\n    gallery-main{-webkit-box-flex:1;-ms-flex:1;flex:1;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.g-container,gallery-main{position:relative;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column}.g-container{overflow:hidden;height:100%;max-height:100%;max-width:100%;flex-direction:column}@media (max-width:480px){.g-container{width:100%!important;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}}.g-box{height:100%}.g-box,gallery-slider{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;height:100%}.g-pan-reset{-webkit-transition:all .3s linear;transition:all .3s linear;-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important}.g-swipe-invis .g-item img{opacity:0}gallery-items .g-pan-reset{-webkit-transition:none;transition:none}.g-btn-close{position:absolute;right:.73em;top:.73em;z-index:1;cursor:pointer;width:30px;height:30px;-webkit-transition:all .2s linear;transition:all .2s linear;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUwIDUwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MCA1MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxjaXJjbGUgc3R5bGU9ImZpbGw6I0Q3NUE0QTsiIGN4PSIyNSIgY3k9IjI1IiByPSIyNSIvPjxwb2x5bGluZSBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojRkZGRkZGO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgcG9pbnRzPSIxNiwzNCAyNSwyNSAzNCwxNiAiLz48cG9seWxpbmUgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6I0ZGRkZGRjtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDsiIHBvaW50cz0iMTYsMTYgMjUsMjUgMzQsMzQgIi8+PC9zdmc+)}.g-btn-close:active{-webkit-transform:rotate(180deg) scale(.9);transform:rotate(180deg) scale(.9)}.empty{color:#fff;background-color:#121519;position:absolute;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Gallery, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'state': [{ type: Input },],\n'config': [{ type: Input },],\n'isOverlay': [{ type: Input },],\n};\n}\n\nfunction GalleryMainComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryMainComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryMainComponent.ctorParameters;\n/** @type {?} */\nGalleryMainComponent.propDecorators;\n/** @type {?} */\nGalleryMainComponent.prototype.state;\n/** @type {?} */\nGalleryMainComponent.prototype.config;\n/** @type {?} */\nGalleryMainComponent.prototype.isOverlay;\n/** @type {?} */\nGalleryMainComponent.prototype.gallery;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { ChangeDetectionStrategy, Component, ElementRef, Input, OnInit, Renderer2 } from '@angular/core';\nimport { Gallery } from '../../services/gallery.service';\nimport { GalleryState, GalleryConfig } from '../../models/index';\n\ndeclare const Hammer: any;\nexport class GallerySliderComponent implements OnInit {\n\n  panning = false;\n   state: GalleryState;\n   config: GalleryConfig;\n/**\n * @param {?} gallery\n * @param {?} el\n * @param {?} renderer\n */\nconstructor(public gallery: Gallery,\nprivate el: ElementRef,\nprivate renderer: Renderer2) {\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n\n    /** Enable gestures */\n    if (this.config.gestures) {\n      if (typeof Hammer === 'undefined') {\n\n        throw Error('[NgGallery]: HammerJS is undefined, make sure it is loaded');\n      } else {\n\n        const /** @type {?} */ mc = new Hammer(this.el.nativeElement);\n\n        mc.on('panstart', () => {\n          this.renderer.removeClass(this.el.nativeElement, 'g-pan-reset');\n          this.panning = true;\n        });\n        mc.on('panend', () => {\n          this.renderer.addClass(this.el.nativeElement, 'g-pan-reset');\n          this.panning = false;\n        });\n        mc.on('pan', (e) => {\n          this.renderer.setStyle(this.el.nativeElement, 'transform', `translate3d(${e.deltaX}px, 0px, 0px)`);\n        });\n        /** Swipe next and prev */\n        mc.on('swipeleft', () => {\n          this.gallery.next();\n        });\n        mc.on('swiperight', () => {\n          this.gallery.prev();\n        });\n      }\n    }\n\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'gallery-slider',\n  template: `\n    <gallery-items [state]=\"state\" [config]=\"config\"></gallery-items>\n    <gallery-nav *ngIf=\"config.navigation && !panning\" [state]=\"state\"></gallery-nav>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Gallery, },\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'state': [{ type: Input },],\n'config': [{ type: Input },],\n};\n}\n\nfunction GallerySliderComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGallerySliderComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGallerySliderComponent.ctorParameters;\n/** @type {?} */\nGallerySliderComponent.propDecorators;\n/** @type {?} */\nGallerySliderComponent.prototype.panning;\n/** @type {?} */\nGallerySliderComponent.prototype.state;\n/** @type {?} */\nGallerySliderComponent.prototype.config;\n/** @type {?} */\nGallerySliderComponent.prototype.gallery;\n/** @type {?} */\nGallerySliderComponent.prototype.el;\n/** @type {?} */\nGallerySliderComponent.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Directive, ElementRef, Renderer2, Input, OnInit, OnDestroy } from '@angular/core';\nimport { Gallery } from '../services/gallery.service';\nimport { GalleryItem } from '../models/index';\n\nimport { Observable } from 'rxjs/Observable';\nimport'rxjs/add/observable/fromEvent';\nimport'rxjs/add/observable/from';\nimport'rxjs/add/operator/map';\nimport'rxjs/add/operator/finally';\nexport class GallerizeDirective implements OnInit, OnDestroy {\n/**\n * gallerize images with specific classes\n */\ngallerize: string;\n  observer: MutationObserver;\n/**\n * @param {?} el\n * @param {?} renderer\n * @param {?} gallery\n */\nconstructor(public el: ElementRef,\npublic renderer: Renderer2,\npublic gallery: Gallery) {\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n\n    /** Observe content changes */\n\n    this.observer = new MutationObserver((mutations: MutationRecord[]) => {\n      mutations.forEach((mutation: MutationRecord) => {\n\n          const /** @type {?} */ images: GalleryItem[] = [];\n/**\n * Serialize img classes\n */\nconst classes = (this.gallerize) ? this.gallerize.split(' ').map((className) => '.' + className) : '';\n/**\n * get all img elements from content\n */\nconst imageElements = this.el.nativeElement.querySelectorAll('img' + classes);\n\n          if (imageElements) {\n            Observable.from(imageElements)\n              .map((img: HTMLImageElement, i) => {\n\n                /** Add click event to the image */\n                this.renderer.setStyle(img, 'cursor', 'pointer');\n                this.renderer.setProperty(img, 'onclick', () => this.gallery.open(i));\n\n                /** Create image item for the gallery */\n                images.push({\n                  src: img.src,\n                  text: img.alt\n                });\n              })\n              .finally(() => this.gallery.load(images))\n              .subscribe();\n          }\n        }\n      );\n    });\n\n    const /** @type {?} */ config: MutationObserverInit = {\n      attributes: true,\n      childList: true,\n      characterData: true\n    };\n\n    this.observer.observe(this.el.nativeElement, config);\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    this.observer.disconnect();\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[gallerize]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n{type: Gallery, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'gallerize': [{ type: Input },],\n};\n}\n\nfunction GallerizeDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nGallerizeDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGallerizeDirective.ctorParameters;\n/** @type {?} */\nGallerizeDirective.propDecorators;\n/**\n * gallerize images with specific classes\n * @type {?}\n */\nGallerizeDirective.prototype.gallerize;\n/** @type {?} */\nGallerizeDirective.prototype.observer;\n/** @type {?} */\nGallerizeDirective.prototype.el;\n/** @type {?} */\nGallerizeDirective.prototype.renderer;\n/** @type {?} */\nGallerizeDirective.prototype.gallery;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/** This directive enable tap if HammerJS is loaded, otherwise it falls back to normal click event */\n\nimport { Directive, ElementRef, EventEmitter, OnInit, Output, Renderer2 } from '@angular/core';\nimport { Gallery } from '../services/gallery.service';\n\ndeclare const Hammer: any;\nexport class TapDirective implements OnInit {\n\n   tapClick = new EventEmitter();\n/**\n * @param {?} gallery\n * @param {?} el\n * @param {?} renderer\n */\nconstructor(private gallery: Gallery,\nprivate el: ElementRef,\nprivate renderer: Renderer2) {\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    this.setTapEvent();\n  }\n/**\n * Enable gestures if hammer is loaded\n * @return {?}\n */\nsetTapEvent() {\n\n    if (this.gallery.config.gestures) {\n      if (typeof Hammer === 'undefined') {\n\n        throw Error('[NgGallery]: HammerJS is undefined, make sure it is loaded');\n      } else {\n        /** Use tap for click event */\n        if (typeof Hammer !== 'undefined') {\n          const /** @type {?} */ mc = new Hammer(this.el.nativeElement);\n          mc.on('tap', () => {\n            this.tapClick.emit(null);\n          });\n        }\n      }\n    } else {\n      /** Use normal click event */\n      this.renderer.setProperty(this.el.nativeElement, 'onclick', () => {\n        this.tapClick.emit(null);\n      });\n    }\n\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[tapClick]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Gallery, },\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'tapClick': [{ type: Output },],\n};\n}\n\nfunction TapDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nTapDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nTapDirective.ctorParameters;\n/** @type {?} */\nTapDirective.propDecorators;\n/** @type {?} */\nTapDirective.prototype.tapClick;\n/** @type {?} */\nTapDirective.prototype.gallery;\n/** @type {?} */\nTapDirective.prototype.el;\n/** @type {?} */\nTapDirective.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n  Directive,\n  ElementRef,\n  Input,\n  Output,\n  EventEmitter,\n  Renderer2,\n  OnDestroy\n} from '@angular/core';\n\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\n\nimport'rxjs/add/operator/do';\nimport'rxjs/add/observable/of';\nexport class LazyDirective implements OnDestroy {\n/**\n * Lazy load worker\n */\nlazyWorker$ = new Subject();\n/**\n * @param {?} imagePath\n * @return {?}\n */\nset lazyImage(imagePath) {\n    this.getImage(imagePath);\n  }\n\n   loading = new EventEmitter<boolean>();\n/**\n * @param {?} el\n * @param {?} renderer\n */\nconstructor(private el: ElementRef,\nprivate renderer: Renderer2) {\n\n    this.lazyWorker$.switchMap((imageSrc) =>\n\n      Observable.of(imageSrc)\n        .do((src: string) => {\n\n          /** Image is loading */\n          this.loading.emit(true);\n\n          const img = this.renderer.createElement('img');\n          img.src = src;\n\n          /** Image is loaded */\n          img.onload = () => {\n            this.renderer.setProperty(this.el.nativeElement, 'src', src);\n            this.loading.emit(false);\n          };\n\n          /** Image load error */\n          img.onerror = err => {\n            this.loading.emit(false);\n          };\n        })\n    ).subscribe();\n  }\n/**\n * @param {?} imagePath\n * @return {?}\n */\ngetImage(imagePath) {\n    this.lazyWorker$.next(imagePath);\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    this.lazyWorker$.unsubscribe();\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[lazyImage]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'lazyImage': [{ type: Input, args: ['lazyImage', ] },],\n'loading': [{ type: Output },],\n};\n}\n\nfunction LazyDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nLazyDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nLazyDirective.ctorParameters;\n/** @type {?} */\nLazyDirective.propDecorators;\n/**\n * Lazy load worker\n * @type {?}\n */\nLazyDirective.prototype.lazyWorker$;\n/** @type {?} */\nLazyDirective.prototype.loading;\n/** @type {?} */\nLazyDirective.prototype.el;\n/** @type {?} */\nLazyDirective.prototype.renderer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["__extends","d","b","__","this","constructor","extendStatics","prototype","Object","create","throwNullPortalError","Error","throwPortalAlreadyAttachedError","throwPortalHostAlreadyDisposedError","throwUnknownPortalTypeError","throwNullPortalHostError","throwNoPortalAttachedError","tryCatchTarget","apply","arguments","e","errorObject_1","context","$$observable","Symbol","observable","sourceObj","addListener","removeListener","on","off","toString","call","addEventListener","removeEventListener","subscriber","clearThrottle","root","iterator","Set_1","Map_1","keys","getOwnPropertyNames","i","length","key","_i","observables","concurrent","Number","POSITIVE_INFINITY","scheduler","last","isScheduler_1","pop","ArrayObservable_1","lift","mergeAll_1","baseElement","document","querySelector","url","urlParsingNode","createElement","setAttribute","name","value","ng","tokens","reduce","prev","t","token","compId","styles","target","style","Array","isArray","flattenStyles","replace","COMPONENT_REGEX","eventHandler","event","preventDefault","nameKind","String","match","SAFE_URL_PATTERN","DATA_URL_PATTERN","srcset","inertElement","templateEl","DOM","getDOM","doc","createHtmlDocument","html","tags","sets","res","sets_1","_a","s","v","hasOwnProperty","node","nextNode","getOuterHTML","SURROGATE_PAIR_REGEXP","charCodeAt","el","attributeMap","forEach","_","attrName","indexOf","removeAttribute","containerEl","getInertElement","unsafeHtml","unsafeHtmlInput","mXSSAttempts","parsedHtml","setInnerHTML","defaultDoc","documentMode","stripCustomNsAttrs","getInnerHTML","sanitizer","SanitizingHtmlSerializer","safeHtml","sanitizeChildren","getTemplateContent","parent","childNodesAsList","child","removeChild","isDevMode","sanitizedSomething","outsideSingle","outsideDouble","c","charAt","trim","urlMatch","URL_RE","sanitizeUrl","SAFE_STYLE_VALUE","hasBalancedQuotes","log","coerceBooleanProperty","formatCssUnit","isElementScrolledOutsideView","element","scrollContainers","some","containerBounds","outsideAbove","bottom","top","outsideBelow","outsideLeft","right","left","outsideRight","isElementClippedByScrolling","scrollContainerRect","clippedAbove","clippedBelow","clippedLeft","clippedRight","getMatScrollStrategyAlreadyAttachedError","item","sources","source","shift","isObject","assign","mergeDeep","_b","isNaN","config","overlay","viewportRuler","Gallery","nodeContains","setPrototypeOf","__proto__","p","Portal","attach","host","hasAttached","_attachedHost","detach","defineProperty","get","enumerable","configurable","setAttachedHost","ComponentPortal","_super","component","viewContainerRef","injector","_this","tslib_1.__extends","TemplatePortal","template","templateRef","elementRef","undefined","BasePortalHost","_isDisposed","_attachedPortal","portal","attachComponentPortal","attachTemplatePortal","_invokeDisposeFn","dispose","setDisposeFn","fn","_disposeFn","DomPortalHost","_hostDomElement","_componentFactoryResolver","_appRef","_defaultInjector","componentRef","componentFactory","resolveComponentFactory","createComponent","parentInjector","destroy","attachView","hostView","detachView","appendChild","_getComponentRootNode","viewContainer","viewRef","createEmbeddedView","detectChanges","rootNodes","rootNode","index","remove","parentNode","TemplatePortalDirective","decorators","type","Directive","args","selector","exportAs","ctorParameters","TemplateRef","ViewContainerRef","PortalHostDirective","_viewContainerRef","_portal","set","ngOnDestroy","ref","clear","inputs","ComponentFactoryResolver","propDecorators","_deprecatedPortal","Input","PortalModule","NgModule","exports","declarations","hasV8BreakIterator","PortalInjector","_parentInjector","_customTokens","notFoundValue","v8BreakIterator","Platform","isBrowser","EDGE","test","navigator","userAgent","TRIDENT","BLINK","chrome","CSS","WEBKIT","IOS","window","MSStream","FIREFOX","ANDROID","SAFARI","Injectable","PlatformModule","providers","x","tryCatcher","errors","err","map","join","stack","message","unsubscribe","_unsubscribe","Subscription","hasErrors","closed","_subscriptions","isFunction_1","trial","tryCatch_1","push","isArray_1","len","sub","isObject_1","UnsubscriptionError_1","concat","teardown","EMPTY","subscription","subscriptions","subscriptionIndex","splice","empty","self","global","next","error","complete","root_1","for","destinationOrNext","destination","Observer_1","Subscriber","add","syncErrorThrowable","SafeSubscriber","rxSubscriber_1","isStopped","_next","_error","_complete","Subscription_1","_parent","observerOrNext","bind","_context","__tryOrSetError","__tryOrUnsub","syncErrorValue","syncErrorThrown","nextOrObserver","Subscriber_1","getSymbolObservable","subscribe","_subscribe","Observable","operator","sink","toSubscriber_1","PromiseCtor","Rx","Promise","resolve","reject","observable_1","eventName","options","FromEventObservable","handler","isNodeList","isHTMLCollection","setupSubscription","isEventTarget","source_1","isJQueryStyleEventEmitter","source_2","isNodeStyleEventEmmitter","TypeError","source_3","result","Observable_1","work","Action","state","delay","AsyncAction","pending","id","recycleAsyncId","requestAsyncId","setInterval","flush","clearInterval","_execute","errored","errorValue","actions","Action_1","SchedulerAction","now","Scheduler","schedule","Date","AsyncScheduler","action","active","execute","Scheduler_1","AsyncAction_1","duration","AuditTimeOperator","AuditTimeSubscriber","hasValue","throttled","dispatchNext","_isScalar","ScalarObservable","done","dispatch","EmptyObservable","arg","array","ArrayObservable","ScalarObservable_1","EmptyObservable_1","count","OuterSubscriber","outerValue","innerValue","outerIndex","innerIndex","innerSub","then","symbolIteratorPonyfill","InnerSubscriber","notifyNext","notifyError","notifyComplete","outerSubscriber","InnerSubscriber_1","isPromise_1","setTimeout","iterator_1","obs","msg","MergeAllOperator","observer","MergeAllSubscriber","subscribeToResult_1","buffer","hasCompleted","OuterSubscriber_1","mergeStatic","of","ScrollDispatcher","_ngZone","_platform","_scrolled","Subject","_globalSubscription","_scrolledCount","scrollableReferences","Map","register","scrollable","scrollSubscription","elementScrolled","_notify","deregister","scrollableReference","delete","scrolled","auditTimeInMs","callback","auditTime","asObservable","runOutsideAngular","fromEvent","size","getScrollContainers","scrollingContainers","_subscription","scrollableContainsElement","nativeElement","scrollableElement","getElementRef","parentElement","NgZone","SCROLL_DISPATCHER_PROVIDER","provide","deps","Optional","SkipSelf","useFactory","parentDispatcher","ngZone","platform","Scrollable","_elementRef","_scroll","_renderer","_elementScrolled","ngOnInit","_scrollListener","listen","ElementRef","Renderer2","ViewportRuler","scrollDispatcher","_change","merge","observableOf","_invalidateCacheSubscriptions","_cacheViewportGeometry","change","getViewportRect","documentRect","_documentRect","scrollPosition","getViewportScrollPosition","height","innerHeight","width","innerWidth","body","scrollTop","scrollY","documentElement","scrollLeft","scrollX","throttleTime","getBoundingClientRect","VIEWPORT_RULER_PROVIDER","parentRuler","ScrollDispatchModule","imports","_DOM","_animationPrefix","_transitionEnd","element_1","getStyle","domPrefixes","toLowerCase","transEndEventNames_1","WebkitTransition","MozTransition","OTransition","transition","href","baseUrl","GenericBrowserDomAdapter","createShadowRoot","DomAdapter","_attrToPropMap","class","readonly","_keyMap","\b","\t","","\u001b","Del","Esc","Left","Right","Up","Win","_chromeNumKeyPadMap","A","B","C","D","E","F","G","H","I","J","K","M","N","`","","ɵglobal","BrowserDomAdapter","methodName","console","evt","listener","dispatchEvent","innerHTML","outerHTML","nodeName","nodeValue","hasProperty","content","firstChild","nextSibling","childNodes","newChild","oldChild","replaceChild","textContent","checked","text","createComment","shadowRoot","tagName","elAttrs","attributes","isTemplateElement","n","HTMLElement","matches","nodeType","Node","TEXT_NODE","COMMENT_NODE","ELEMENT_NODE","DocumentFragment","importNode","templateAwareRoot","adoptNode","keyIdentifier","fromCharCode","parseInt","substring","location","relativePath","getComputedStyle","getTime","_history","getHistory","BrowserPlatformLocation","getBaseHref","_doc","getGlobalEventTarget","_location","hash","title","supportsState","pushState","replaceState","PlatformLocation","Meta","forceCreation","tag","attrSelector","_parseSelector","meta","getTag","removeTagElement","elem","_containsAttributes","_dom","every","getAttribute","SERVER_TRANSITION_PROVIDERS","APP_INITIALIZER","transitionId","ApplicationInitStatus","donePromise","dom","slice","querySelectorAll","filter","TRANSITION_ID","DOCUMENT$1","Injector","BrowserGetTestability","setTestabilityGetter","registry","findInAncestors","testability","findTestabilityInTree","getAllTestabilities","getAllRootElements","testabilities","didWork","decrement","didWork_","whenStable","getTestability","isShadowRoot","CORE_TOKENS","ELEMENT_PROBE_PROVIDERS","extraTokens","coreTokens","NgProbeToken$1","plugins","_zone","addGlobalEventListener","EventManager","plugin","_eventNameToPlugin","_plugins","plugin_1","supports","EventManagerPlugin","SharedStylesHost","additions","Set","_stylesSet","has","DomSharedStylesHost","hostNode","_hostNodes","_addStylesToHost","NAMESPACE_URIS","svg","xhtml","xlink","xml","xmlns","CONTENT_ATTR","eventManager","sharedStylesHost","DomRendererFactory2","defaultRenderer","encapsulation","ViewEncapsulation","Emulated","renderer","rendererByCompId","EmulatedEncapsulationDomRenderer2","applyToHost","Native","ShadowDomRenderer","addStyles","data","DefaultDomRenderer2","namespace","selectorOrNode","namespaceUri","setAttributeNS","removeAttributeNS","flags","RendererStyleFlags2","DashCase","setProperty","Important","removeProperty","checkNoSyntheticProp","decoratePreventDefault","hostEl","addHost","DomEventsPlugin","EVENT_NAMES","pan","panstart","panmove","panend","panleft","panright","panup","pandown","pinch","pinchstart","pinchend","pinchcancel","pinchout","press","pressup","rotatestart","rotatemove","rotateend","rotatecancel","swipeleft","swiperight","HAMMER_GESTURE_CONFIG","InjectionToken","HammerGestureConfig","mc","Hammer","enable","overrides","HammerGesturesPlugin","isCustomEvent","zone","manager","getZone","_config","buildHammer","eventObj","runGuarded","MODIFIER_KEYS","MODIFIER_KEY_GETTERS","shiftKey","KeyEventsPlugin","parsedEvent","parseEventName","parts","split","domEventName","_normalizeKey","fullKey","modifierName","getEventKey","modifierGetter","keyName","VOID_ELEMENTS","tagSet","OPTIONAL_END_TAG_BLOCK_ELEMENTS","OPTIONAL_END_TAG_INLINE_ELEMENTS","BLOCK_ELEMENTS","INLINE_ELEMENTS","VALID_ELEMENTS","OPTIONAL_END_TAG_ELEMENTS","URI_ATTRS","SRCSET_ATTRS","VALID_ATTRS","HTML_ATTRS","current","isElementNode","startElement","isTextNode","chars","endElement","checkClobberedElement","buf","lower","sanitizeSrcset","DomSanitizerImpl","ctx","SecurityContext","NONE","HTML","SafeHtmlImpl","changingThisBreaksApplicationSecurity","checkNotSafeValue","sanitizeHtml","STYLE","SafeStyleImpl","sanitizeStyle","SCRIPT","SafeScriptImpl","URL","SafeResourceUrlImpl","SafeUrlImpl","RESOURCE_URL","expectedType","DomSanitizer","Inject","SafeValueImpl","INTERNAL_BROWSER_PLATFORM_PROVIDERS","init","useClass","createPlatformFactory","platformCore","BrowserModule","params","ngModule","APP_ID","useValue","appId","BROWSER_SANITIZATION_PROVIDERS","ErrorHandler","EVENT_MANAGER_PLUGINS","multi","RendererFactory2","useExisting","Testability","msPerTick","numTicks","DIR_DOCUMENT","AngularProfiler","record","isProfilerAvailable","win","profile","start","performanceNow","end","toFixed","Directionality","_document","EventEmitter","bodyDir","dir","htmlDir","NoopScrollStrategy","Dir","_dir","_isInitialized","old","emit","ngAfterContentInit","[dir]","Output","disable","OverlayConfig","scrollStrategy","panelClass","hasBackdrop","backdropClass","direction","OverlayRef","_portalHost","_pane","_backdropElement","_backdropClick","_attachments","_detachments","attachResult","positionStrategy","_updateStackingOrder","updateSize","updateDirection","updatePosition","_togglePointerEvents","_attachBackdrop","cls","classList","detachBackdrop","detachmentResult","backdropClick","attachments","detachments","getConfig","minWidth","minHeight","maxWidth","maxHeight","enablePointer","pointerEvents","insertBefore","requestAnimationFrame","backdropToDetach","finishDetach_1","ConnectionPositionPair","origin","originX","originY","overlayX","overlayY","ScrollingVisibility","ConnectedOverlayPositionChange","connectionPair","scrollableViewProperties","ConnectedPositionStrategy","originPos","overlayPos","_connectedTo","_viewportRuler","_offsetX","_offsetY","scrollables","_resizeSubscription","_preferredPositions","_onPositionChange","_origin","withFallbackPosition","overlayRef","_overlayRef","overlayElement","fallbackPoint","fallbackPosition","originRect","overlayRect","viewportRect","pos","originPoint","_getOriginConnectionPoint","overlayPoint","_getOverlayPoint","fitsInViewport","_setElementPosition","_lastConnectedPosition","visibleArea","recalculateLastPosition","lastPosition","withScrollableContainers","withDirection","withOffsetX","offset","withOffsetY","_getStartX","rect","_isRtl","_getEndX","originStartX","originEndX","y","overlayStartX","overlayStartY","leftOverflow","rightOverflow","topOverflow","bottomOverflow","_subtractOverflows","_getScrollVisibility","originBounds","overlayBounds","scrollContainerBounds","isOriginClipped","isOriginOutsideView","isOverlayClipped","isOverlayOutsideView","horizontalStyleProperty","verticalStyleProperty","clientHeight","clientWidth","positionChange","overflows","currentValue","currentOverflow","Math","max","GlobalPositionStrategy","_cssPosition","_topOffset","_bottomOffset","_leftOffset","_rightOffset","_alignItems","_justifyContent","_width","_height","_wrapper","centerHorizontally","centerVertically","parentStyles","position","marginTop","marginLeft","marginBottom","marginRight","justifyContent","alignItems","OverlayPositionBuilder","connectedTo","OverlayContainer","_containerElement","getContainerElement","_createContainer","container","OVERLAY_CONTAINER_PROVIDER","parentContainer","CloseScrollStrategy","_scrollDispatcher","_scrollSubscription","BlockScrollStrategy","_previousHTMLStyles","_isEnabled","_canBeEnabled","_previousScrollPosition","scroll","contains","viewport","scrollHeight","scrollWidth","RepositionScrollStrategy","throttle","scrollThrottle","ScrollStrategyOptions","noop","close","block","reposition","nextUniqueId","defaultConfig","Overlay","scrollStrategies","_overlayContainer","_positionBuilder","_injector","pane","_createPaneElement","portalHost","_createPortalHost","ApplicationRef","defaultPositionList","FullscreenOverlayContainer","_adjustParentForFullscreenChange","_addFullscreenChangeListener","getFullscreenElement","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","MAT_CONNECTED_OVERLAY_SCROLL_STRATEGY","MAT_CONNECTED_OVERLAY_SCROLL_STRATEGY_PROVIDER","OverlayOrigin","ConnectedOverlayDirective","_overlay","_scrollStrategy","_hasBackdrop","_backdropSubscription","_positionSubscription","_escapeListener","open","_templatePortal","offsetX","_position","offsetY","positions","_positions","_minWidth","_minHeight","_backdropClass","_open","_destroyOverlay","ngOnChanges","changes","_attachOverlay","_detachOverlay","_createOverlay","_buildConfig","_createPositionStrategy","overlayConfig","strategy","_handlePositionChanges","onPositionChange","_initEscapeListener","keyCode","_deprecatedOrigin","_deprecatedPositions","_deprecatedOffsetX","_deprecatedOffsetY","_deprecatedWidth","_deprecatedHeight","_deprecatedMinWidth","_deprecatedMinHeight","_deprecatedBackdropClass","_deprecatedScrollStrategy","_deprecatedOpen","_deprecatedHasBackdrop","OVERLAY_PROVIDERS","OverlayModule","CONFIG","GalleryLightboxComponent","ev","keyDown","Component","animations","trigger","transform","opacity","animate","changeDetection","ChangeDetectionStrategy","OnPush","None","onKeyDown","HostListener","gestures","background","navigation","loader","icon","description","counter","player","autoplay","interval","progress","thumbnails","space","lightbox","currIndex","hasNext","hasPrev","play","initialState","BehaviorSubject","configWorker","playerWorker","setConfig","items","setState","state$","compRef","galleryPortal","instance","handleKeydown","stop","switchMap","takeWhile","do","config$","gallery","GalleryComponent","isOverlay","reset","GalleryNavComponent","GalleryThumbComponent","order","setStyle","el_1","removeClass","addClass","deltaX","thumbnail","src","GalleryTextComponent","GalleryItemsComponent","simpleChanges","firstChange","curr","previousValue","loading","GalleryLoaderComponent","getIcon","GalleryBulletsComponent","flex-direction","containerStyle","applyCssPrefixes","compare","keySelector","DistinctUntilChangedOperator","DistinctUntilChangedSubscriber","hasKey","Boolean","distinctUntilChanged","distinctUntilChanged_1","GalleryPlayerComponent","progress$","mergeMap","timer","take","g-progress-initial","g-progress-done","GalleryMainComponent","GallerySliderComponent","panning","GallerizeDirective","MutationObserver","mutations","mutation","images","classes","gallerize","className","imageElements","from","img","alt","finally","load","observe","childList","characterData","disconnect","TapDirective","setTapEvent","tapClick","lazyWorker$","imageSrc","onload","onerror","LazyDirective","imagePath","getImage","lazyImage","GalleryModule","galleryFactory","CommonModule","entryComponents"],"mappings":"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"}